"use strict";(self.webpackChunkspurt_multi_vendor=self.webpackChunkspurt_multi_vendor||[]).push([[661],{6866:(ot,S,d)=>{d.d(S,{Q:()=>b});var g=d(1626),u=d(9754),F=d(4438);let b=(()=>{class _ extends u.j{constructor(){super(...arguments),this.params={},this.basUrl=this.getBaseUrl()}getOrderDetail(t){return this.http.get(this.basUrl+"/vendor-order/order-detail/"+t)}getArchiveOrderDetail(t){return this.http.get(this.basUrl+"/vendor-order/order-detail/"+t)}recentOrderList(t){let s={};return s=t,this.http.get(this.basUrl+"/vendor-order/recent-order-list",{params:s})}allOrderList(t){let s={};return s=t,this.http.get(this.basUrl+"/vendor-order/order-list",{params:s})}archiveOrderList(t){let s={};return s=t,this.http.get(this.basUrl+"/vendor-order/archive-order-list",{params:s})}orderCount(t){let s={};return s=t,this.http.get(this.basUrl+"/vendor-order/order-counts")}deliveryPersonsList(t){let s={};return s=t,this.http.get(this.basUrl+"/delivery-person/delivery-person-list-delivery-allocation",{params:s})}allocateDeliveryPersons(t){return this.http.post(this.basUrl+"/delivery-person/add-delivery-allocation",t)}allOrderListBasedOnStatus(t){let s={};return s=t,this.http.get(this.basUrl+"/vendor-order/vendor-orders-based-status-list",{params:s})}updateAllOrderListBasedOnStatus(t){const s={};return s.subOrderStatusId=t.subOrderStatusId,this.http.put(this.basUrl+"/vendor-order/update-order-status/"+t.vendorOrderId,s)}orderLogList(t){let s={};return s=t,this.http.get(this.basUrl+"/vendor-order/vendorOrderLoglist",{params:s})}orderStatusUpdate(t){const s={};return s.subOrderStatusId=Number(t.subOrderStatusId),this.http.put(this.basUrl+"/vendor-order/update-order-status/"+t.vendorOrderId,s)}makeArchive(t){return this.http.post(this.basUrl+"/vendor-order/make-vendor-order-archive",t)}shippingInformationUpdate(t){return this.http.post(this.basUrl+"/vendor-order/update-shipping-information",t)}orderStatusList(t){let s={};return s=t,this.http.get(this.basUrl+"/vendor-order/vendor-order-status-list",{params:s})}allOrdersStatusUpdate(t){return this.http.post(this.basUrl+"/vendor-order/bulk-update-order-status",t)}exportArchiveOrder(t){const s={responseType:"arraybuffer"};if(t){s.params=new g.Nl;for(const m in t)m&&(s.params=s.params.set(m,t[m]))}return this.http.get(this.basUrl+"/vendor-order/archive-order-export",s)}exportAllArchiveOrder(t){const s={responseType:"arraybuffer"};if(t){s.params=new g.Nl;for(const m in t)m&&(s.params=s.params.set(m,t[m]))}return this.http.get(this.basUrl+"/vendor-order/bulk-archive-order-export",s)}archiveOrderListCount(t){return this.http.get(this.basUrl+"/vendor-order/archive-order-list-count",{params:t})}cancelOrderList(t){return this.http.get(this.basUrl+"/vendor-order/cancel-order-list",{params:t})}cancelOrderListCount(t){return this.http.get(this.basUrl+"/vendor-order/cancel-order-list",{params:t})}exportCancelOrder(t){const s={responseType:"arraybuffer"};if(t){s.params=new g.Nl;for(const m in t)m&&(s.params=s.params.set(m,t[m]))}return this.http.get(this.basUrl+"/vendor-order/vendor-order-cancel-excel-list",s)}exportAllCancelOrder(t){const s={responseType:"arraybuffer"};if(t){s.params=new g.Nl;for(const m in t)m&&(s.params=s.params.set(m,t[m]))}return this.http.get(this.basUrl+"/vendor-order/bulk-vendor-order-cancel-excel-list",s)}changeCancelOrderStatus(t){return this.http.put(this.basUrl+"/vendor-order/update-vendor-order-cancel-request/"+t.orderProductId,t)}bulkCancelOrderStatus(t){return this.http.get(this.basUrl+"/vendor-order/update-bulk-vendor-order-cancel-request",{params:t})}orderInvoiceList(t){return this.http.get(this.basUrl+"/vendor-order/vendor-invoice-list",{params:t})}orderInvoiceListCount(t){return this.http.get(this.basUrl+"/vendor-order/vendor-invoice-list",{params:t})}downloadInvoice(t){return this.http.get(this.basUrl+"/vendor-order/order-invoice-export-pdf",{params:t,responseType:"blob"})}settlementList(t){return this.http.get(this.basUrl+"/vendor-order/sales-report-list",{params:t})}settlementListCount(t){return this.http.get(this.basUrl+"/vendor-order/sales-report-list",{params:t})}sendMail(t){return this.http.post(this.basUrl+"/vendor-order/order-invoice-export-send-email-pdf",t)}exportSalesReport(t){const s={responseType:"arraybuffer"};if(t){s.params=new g.Nl;for(const m in t)m&&(s.params=s.params.set(m,t[m]))}return this.http.get(this.basUrl+"/vendor-order/sales-report-export-list",s)}productList(t){return this.http.get(this.basUrl+"/vendor-product",{params:t})}categoryList(t){return this.http.get(this.basUrl+"/vendor/category-list",{params:t})}backOrderList(t){return this.http.get(this.basUrl+"/vendor-order/back-order-list",{params:t})}backOrderListCount(t){return this.http.get(this.basUrl+"/vendor-order/back-order-list",{params:t})}failedOrderList(t){return this.http.get(this.basUrl+"/vendor-order/order-list",{params:t})}failedOrderCounts(t){return this.http.get(this.basUrl+"/vendor-order/order-list",{params:t})}exportBackOrder(t){const s={responseType:"arraybuffer"};if(t){s.params=new g.Nl;for(const m in t)m&&(s.params=s.params.set(m,t[m]))}return this.http.get(this.basUrl+"/vendor-order/back-order-excel-list",s)}bulkBackOrderExport(t){const s={responseType:"arraybuffer"};if(t){s.params=new g.Nl;for(const m in t)m&&(s.params=s.params.set(m,t[m]))}return this.http.get(this.basUrl+"/vendor-order/bulk-back-order-excel-list",s)}exportFailedOrder(t){const s={responseType:"arraybuffer"};if(t){s.params=new g.Nl;for(const m in t)m&&(s.params=s.params.set(m,t[m]))}return this.http.get(this.basUrl+"/vendor-order/failed-order-excel-list",s)}exportOrderInvoice(t){const s={};if(t){s.params=new g.Nl;for(const m in t)m&&(s.params=s.params.set(m,t[m]))}return s.responseType="arraybuffer",this.http.get(this.basUrl+"/vendor-order/export-order-invoice-list",s)}orderInvoiceAllExcel(t){const s={};if(t){s.params=new g.Nl;for(const m in t)m&&(s.params=s.params.set(m,t[m]))}return s.responseType="arraybuffer",this.http.get(this.basUrl+"/vendor-order/export-order-invoice-list",s)}bulkFailedOrderExport(t){const s={responseType:"arraybuffer"};if(t){s.params=new g.Nl;for(const m in t)m&&(s.params=s.params.set(m,t[m]))}return this.http.get(this.basUrl+"/vendor-order/bulk-failed-order-excel-list",s)}vendorOrderStatusCount(t){return this.http.get(this.basUrl+"/vendor-order/vendor-orders-based-status-count",{params:t})}vendorOrderBasedOnDetail(t){return this.http.get(this.basUrl+"/vendor-order/vendor-orders-based-status-details/"+t.id,{params:t})}getAllOrderListcount(t){return this.http.get(this.basUrl+"/vendor-order/order-list",{params:t})}revokeArchieveOrder(t){return this.http.post(this.basUrl+"/vendor-order/revoke-vendor-order-archive",t)}archieveOrderDetail(t){return this.http.get(this.basUrl+"/vendor-order/archive-order-detail/"+t.vendorOrderArchiveId,{params:t})}salesReportCategory(t){return this.http.get(this.basUrl+"/vendor-product/vendor-category-list",{params:t})}updatePaymentStatus(t){return this.http.post(this.basUrl+"/vendor-order/update-payment-status",t)}OrderedExportAll(t){return this.http.post(this.basUrl+"/vendor-order/order-list-export",t,{responseType:"arraybuffer"})}backOrderDetail(t){return this.http.get(this.basUrl+"/vendor-order/order-detail/"+t)}fullFillNow(t){return this.http.put(this.basUrl+"/vendor-order/order",t)}tagPost(t){let s=t.id;return delete t.id,this.http.put(this.basUrl+`/vendor-order/${s}/order-product`,t)}fullFillmentList(t){return this.http.get(this.basUrl+"/vendor-order/vendor-order-status-list-based-on-parent",{params:t})}fullFillmentPost(t){let s=t.id;return delete t.id,this.http.put(this.basUrl+`/vendor-order/update-order-status/${s}`,t)}static{this.\u0275fac=(()=>{let t;return function(m){return(t||(t=F.xGo(_)))(m||_)}})()}static{this.\u0275prov=F.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},1375:(ot,S,d)=>{d.d(S,{T:()=>m});var g=d(8359),u=d(4438),F=d(7886),b=d(216),_=d(177),V=d(1780);function t(v,y){if(1&v&&(u.j41(0,"p",7),u.EFF(1),u.k0s()),2&v){const I=u.XpG();u.R7$(),u.SpI("Cannot recover a deleted ",I.VariantMessage,". Are you sure you want to proceed with deletion ?")}}function s(v,y){if(1&v&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&v){const I=u.XpG();u.R7$(),u.Lme("",u.bMT(2,2,"common.Are you sure want to delete this")," ",I.deleteMessage," ?")}}let m=(()=>{class v{constructor(I,P){this.activeModal=I,this.productSandbox=P,this.subscriptions=new g.yU}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){["",null,void 0].includes(this.VariantMessage)?this.activeModal.close("deleted"):this.activeModal.close("Deleted")}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(P){return new(P||v)(u.rXU(F.Lw),u.rXU(b.L))}}static{this.\u0275cmp=u.VBU({type:v,selectors:[["app-modalpopup"]],inputs:{deleteMessage:"deleteMessage",VariantMessage:"VariantMessage"},features:[u.Jv_([])],decls:14,vars:11,consts:[[1,"modal-heading"],["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[1,"modal-body"],[1,"product-save-btn","modal-save-btn"],["type","button","data-dismiss","modal",1,"cancel",3,"click"],["type","button","data-dismiss","modal",1,"save",3,"click"],[2,"text-align","center"]],template:function(P,T){1&P&&(u.j41(0,"div",0)(1,"h3"),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.DNE(4,t,2,1,"p",1)(5,s,3,4,"p",2),u.k0s(),u.nrm(6,"div",3),u.j41(7,"div",4)(8,"button",5),u.bIt("click",function(){return T.close()}),u.EFF(9),u.nI1(10,"translate"),u.k0s(),u.j41(11,"button",6),u.bIt("click",function(){return T.deleteContent()}),u.EFF(12),u.nI1(13,"translate"),u.k0s()()),2&P&&(u.R7$(2),u.JRh(u.bMT(3,5,"common.Delete Confirmation")),u.R7$(2),u.Y8G("ngIf",T.VariantMessage),u.R7$(),u.Y8G("ngIf",!T.VariantMessage),u.R7$(4),u.SpI(" ",u.bMT(10,7,"common.Cancel")," "),u.R7$(3),u.SpI(" ",u.bMT(13,9,"common.Delete")," "))},dependencies:[_.bT,V.D9],styles:[".success[_ngcontent-%COMP%]{padding:30px;justify-content:center;align-items:center;flex-direction:column}.success[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:67px}.success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:30px 0;font-size:16px;font-weight:600;color:#151313}.success[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:119px;height:43px;background-color:#1d5ed8;line-height:43px;text-align:center;font-size:16px;font-weight:600;color:#fff;border:none}"]})}}return v})()},8492:(ot,S,d)=>{d.r(S),d.d(S,{ProductModule:()=>Xi});var g=d(177),u=d(1188),F=d(1180),b=d(9969),_=d(8359),V=d(1375),t=d(4438),s=d(7886),m=d(216),v=d(7898),y=d(1780);function I(a,c){if(1&a&&(t.j41(0,"div",7),t.EFF(1),t.k0s()),2&a){const e=c.$implicit;t.R7$(),t.SpI(" ",e.categoryName," ")}}function P(a,c){if(1&a&&(t.j41(0,"div",5),t.DNE(1,I,2,1,"div",6),t.k0s()),2&a){const e=c.$implicit;t.R7$(),t.Y8G("ngForOf",e.vendorCategory)}}let T=(()=>{class a{constructor(e,r,i,o,n){this.activeModal=e,this.router=r,this.route=i,this.productSandbox=o,this.productService=n,this.index=1,this.queryData=2}ngOnInit(){this.userModel.forEach(e=>{e.vendorCategory&&(this.vall=e.vendorCategory.length)}),this.getProductListModel()}getProductListModel(){this.productSandbox.CatalogEdit({limit:0,offset:0,keyword:0,count:0}),this.productSandbox.CatalogEdit$.subscribe(r=>{})}goToEditcatalog(){this.productService.editCategoryPop("Edit"),this.router.navigate(["/new-catalog/products/categories/",this.userId],{queryParams:{myParam:2}}),this.close(),this.getProductListModel()}close(){this.activeModal.close()}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(s.Lw),t.rXU(u.Ix),t.rXU(u.nX),t.rXU(m.L),t.rXU(v.b))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-categorymodal"]],decls:9,vars:5,consts:[[1,"modal-header"],[1,"modal-body","category-list-modal"],["class","cm-list",4,"ngFor","ngForOf"],[1,"product-save-btn"],[1,"prev",3,"click"],[1,"cm-list"],["class","modalcategoriesFont",4,"ngFor","ngForOf"],[1,"modalcategoriesFont"]],template:function(r,i){1&r&&(t.j41(0,"div",0)(1,"h1"),t.EFF(2),t.nI1(3,"translate"),t.k0s()(),t.j41(4,"div",1),t.DNE(5,P,2,1,"div",2),t.k0s(),t.j41(6,"div",3)(7,"button",4),t.bIt("click",function(){return i.close()}),t.EFF(8,"Cancel"),t.k0s()()),2&r&&(t.R7$(2),t.Lme("",i.vall," ",t.bMT(3,3,"common.Selected Categories"),""),t.R7$(3),t.Y8G("ngForOf",i.userModel))},dependencies:[g.Sq,y.D9],styles:[".modalcategoriesFont[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:#202123;display:block;padding-block:.3875rem;border-bottom:solid thin #ececf1}.assignattributesmodal.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{max-width:425px!important}"]})}}return a})();var X=d(8866),J=d(4958),yt=d(6118);const Ct={"common.Product Title":!0,"common.Category":!0,"common.Price":!0,"common.Updated On":!0,"common.Status":!0,"common.Approval Status":!0,"myShop.Preview":!0},nt=[{displayName:"",id:"id",type:"checkBox",checked:!0,optionalFilterName:"Checkbox",isEnableSelectall:!0,customStyle:{trow:{class:"tableAlign"},tbody:{class:"tableAlign"}}},{displayName:"common.Product Title",id:"names",type:"template",checked:!0,filterColName:"common.Product Title",customStyle:{tbody:{"max-width":"500px",class:"ellipsis-name",isShowTitle:!0}}},{displayName:"common.Category",id:"pending",type:"template",checked:!0,filterColName:"common.Category",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center text-nowrap"}}},{displayName:"common.Price",id:"price",type:"template",checked:!0,filterColName:"common.Price",customStyle:{trow:{class:"text-end"}}},{displayName:"common.Updated On",id:"createdDate",type:"date",checked:!0,filterColName:"common.Updated On",customStyle:{tbody:{class:"text-nowrap"}}},{displayName:"common.Status",id:"activeStatus",type:"template",checked:!0,filterColName:"common.Status",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}},{displayName:"common.Approval Status",id:"approvalStatus",type:"template",checked:!0,filterColName:"common.Approval Status",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}},{displayName:"myShop.Preview",id:"preview",type:"template",checked:!0,filterColName:"myShop.Preview",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center text-nowrap"}}},{displayName:"Action",type:"threeDotMenu",checked:!0,menuData:[{name:"Edit",img:"assets/imgs/edit.svg",displayName:"common.Edit"},{name:"Delete",img:"assets/imgs/delete.svg",displayName:"common.Delete"}],customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}}],Pt=[{label:"common.Product Title",name:"productName",type:"string"},{label:"common.Updated On",name:"modifiedDate",type:"date"},{label:"common.Category",name:"stock",type:"number"},{label:"common.SKU",name:"sku",type:"string"}],Dt={ProductTitle:{name:"Product Title",label:"common.Product Title",aliasName:"",validatiors:[],type:"text",placeholder:"common.Product Title"},Price:{name:"Price",label:"Catalog.share.Price",validatiors:[],type:"text",placeholder:"Catalog.share.Price"},Search:{label:"",name:"Search",validatiors:[],type:"text",placeholder:"placeholder.productSearch"},Status:{name:"Status",label:"Select the status",validatiors:[],type:"ngSelect",placeholder:"Select the status",customData:{data:[{name:"Active",id:1},{name:"Inactive",id:0}],key:"name",value:"id"}}},St={1:{text:"common.Approved Product",class:"active"},2:{text:"common.Rejected Product",class:"inactive",image:"assets/imgs/info-outline.svg"},0:{text:"common.Waiting Product",class:"waiting"}},Ft={1:{text:"common.Active",class:"active"},0:{text:"common.Inactive",class:"inactive"}},Tt=(0,yt.z)(["resetCheckbox","exportExcel","exportExcelAll","bulkUpload"]);var st=d(8276),ct=d(8792),x=d(1403),j=d(5312),R=d(7586);function jt(a,c){if(1&a&&(t.j41(0,"div",10)(1,"h4"),t.EFF(2,"Reason "),t.j41(3,"span"),t.EFF(4),t.k0s()(),t.j41(5,"div",11)(6,"p"),t.EFF(7),t.k0s()()()),2&a){const e=c.$implicit;t.R7$(4),t.JRh(e.rejectDate),t.R7$(3),t.JRh(e.comment)}}let lt=(()=>{class a{constructor(e){this.activeModal=e}ngOnInit(){this.imageUrls=j.c.imageUrl,this.rejectReason.forEach(e=>{e.rejectDate=R(e.date,"YYYY-MM-DD HH:mm:ss").add(5,"hours").add(30,"minutes").format("DD-MM-YYYY hh:mm A")}),this.rejectReason.reverse()}dismiss(){this.activeModal.close()}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(s.Lw))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-reject-reason"]],inputs:{rejectReason:"rejectReason",productImage:"productImage",productName:"productName"},decls:15,vars:3,consts:[[1,"modal-heading"],[1,"modal-body"],[1,"d-flex","align-items-center","product-details-row","mb-4"],[1,"avatar","avatar-xs","online","avatar-rounded"],["alt","",3,"src"],[1,"inline-flex"],[1,"rejected-reason-container"],["class","rejected-reason-row",4,"ngFor","ngForOf"],[1,"product-save-btn","modal-save-btn"],[1,"prev",3,"click"],[1,"rejected-reason-row"],[1,"rejected-reason-content"]],template:function(r,i){1&r&&(t.j41(0,"div",0)(1,"h3"),t.EFF(2,"Rejected Reasons"),t.k0s()(),t.j41(3,"div",1)(4,"div",2)(5,"span",3),t.nrm(6,"img",4),t.k0s(),t.j41(7,"div",5)(8,"h3"),t.EFF(9),t.k0s()()(),t.j41(10,"div",6),t.DNE(11,jt,8,2,"div",7),t.k0s()(),t.j41(12,"div",8)(13,"button",9),t.bIt("click",function(){return i.dismiss()}),t.EFF(14,"Cancel"),t.k0s()()),2&r&&(t.R7$(6),t.Y8G("src",i.imageUrls+"?path="+i.productImage[0].containerName+"&name="+i.productImage[0].image+"&width=100&height=100",t.B4B),t.R7$(3),t.JRh(i.productName),t.R7$(2),t.Y8G("ngForOf",i.rejectReason))},dependencies:[g.Sq]})}}return a})();var N=d(5300),p=d(9417),O=d(8256),G=d(6775),q=d(345),dt=d(3419),Rt=d(4823),Et=d(4730),Mt=d(6723),$t=d(7812),Vt=d(8119),xt=d(6147),Nt=d(1849),Ot=d(1235),Gt=d(8431),w=d(2510);const wt=["dropdownContent"],Lt=["dropdownContentFilter"],L=a=>({"disabled-class":a}),ut=a=>({"disable-div":a}),E=a=>({active:a}),Ut=()=>["",null,void 0],At=(a,c,e,r,i,o)=>({pending:a,names:c,price:e,activeStatus:r,approvalStatus:i,preview:o});function Yt(a,c){if(1&a&&t.nrm(0,"app-reusable-forms",47),2&a){const e=t.XpG().$implicit,r=t.XpG();t.Y8G("type",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].type)("control",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].control)("label",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].label)("inputId",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].inputId)("aliasName",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].aliasName)("customData",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].customData)("placeholder",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].placeholder)}}function Bt(a,c){if(1&a&&(t.j41(0,"div"),t.DNE(1,Yt,1,7,"app-reusable-forms",46),t.k0s()),2&a){const e=c.$implicit;t.R7$(),t.Y8G("ngIf","Search"!==e)}}function Xt(a,c){if(1&a&&(t.qex(0),t.EFF(1),t.bVm()),2&a){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",1==e.value?"Active":"In-active"," ")}}function Jt(a,c){if(1&a&&(t.qex(0),t.EFF(1),t.bVm()),2&a){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.value," ")}}function qt(a,c){if(1&a){const e=t.RV6();t.j41(0,"div",51)(1,"span"),t.EFF(2),t.k0s(),t.qex(3,52),t.DNE(4,Xt,2,1,"ng-container",53)(5,Jt,2,1,"ng-container",54),t.bVm(),t.j41(6,"button",55),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.removeFilter(i))}),t.nrm(7,"img",56),t.k0s()()}if(2&a){const e=t.XpG().$implicit;t.R7$(2),t.SpI("",e.key," : "),t.R7$(),t.Y8G("ngSwitch",e.key),t.R7$(),t.Y8G("ngSwitchCase","Status")}}function Ht(a,c){if(1&a&&(t.qex(0),t.DNE(1,qt,8,3,"div",50),t.bVm()),2&a){const e=c.$implicit;t.R7$(),t.Y8G("ngIf",!t.lJ4(1,Ut).includes(e.value))}}function zt(a,c){if(1&a){const e=t.RV6();t.j41(0,"div",48)(1,"h4"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,Ht,2,2,"ng-container",28),t.nI1(5,"keyvalue"),t.j41(6,"a",49),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.filterReset("clearAll"))}),t.EFF(7),t.nI1(8,"translate"),t.k0s()()}if(2&a){const e=t.XpG();t.R7$(2),t.SpI("",t.bMT(3,4,"common.Filter"),":"),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,6,e.backupFormValue))("ngForTrackBy",e.trackByIndex),t.R7$(3),t.SpI(" ",t.bMT(8,8,"common.ClearFilters")," ")}}function Kt(a,c){if(1&a&&t.nrm(0,"app-alert-content",57),2&a){const e=t.XpG();t.Y8G("alert",e.alertConfig)}}function Qt(a,c){1&a&&(t.j41(0,"div",58),t.nrm(1,"app-loader"),t.k0s())}function Wt(a,c){if(1&a){const e=t.RV6();t.j41(0,"app-common-table",59),t.bIt("buttonChangeEvent",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.buttonAction(i))}),t.k0s()}if(2&a){const e=t.XpG(),r=t.sdS(95),i=t.sdS(97),o=t.sdS(99),n=t.sdS(101),l=t.sdS(103),h=t.sdS(105);t.Y8G("HeadArray",e.dynamicColumnFields)("GridArray",e.productListArray)("selectAll",e.tableCheckbox)("customTemplate",t.l4e(4,At,i,r,o,n,l,h))}}function Zt(a,c){if(1&a&&(t.j41(0,"span",65)(1,"a",66),t.EFF(2),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s()()),2&a){const e=t.XpG().$implicit;t.FS9("matTooltip",e.name),t.R7$(2),t.SpI("",e.truncatedText,"..."),t.R7$(2),t.JRh(e.sku)}}function te(a,c){if(1&a&&(t.j41(0,"a",66),t.EFF(1),t.k0s(),t.j41(2,"p"),t.EFF(3),t.k0s()),2&a){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.name," "),t.R7$(2),t.JRh(e.sku)}}function ee(a,c){if(1&a){const e=t.RV6();t.j41(0,"div",60)(1,"span",61),t.nrm(2,"img",62),t.k0s(),t.j41(3,"div",63),t.bIt("click",function(){const i=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.goToEdit(i.productId))}),t.DNE(4,Zt,5,3,"span",64)(5,te,4,2,"ng-template",null,9,t.C5r),t.k0s()()}if(2&a){const e=c.$implicit,r=t.sdS(6),i=t.XpG();t.R7$(2),t.Y8G("src",i.imageUrl+"?path="+e.containerName+"&name="+e.image+"&width=300&height=300",t.B4B),t.R7$(2),t.Y8G("ngIf",(null==e.name?null:e.name.length)>100)("ngIfElse",r)}}function ie(a,c){1&a&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Category")," "))}function ae(a,c){1&a&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Categories")," "))}function re(a,c){if(1&a){const e=t.RV6();t.qex(0),t.j41(1,"a",67),t.bIt("click",function(){const i=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.opencategory(i.productId))}),t.EFF(2),t.DNE(3,ie,3,3,"span",68)(4,ae,3,3,"span",68),t.k0s(),t.bVm()}if(2&a){const e=c.$implicit;t.R7$(2),t.SpI(" ",null==e||null==e.vendorCategory?null:e.vendorCategory.length," "),t.R7$(),t.Y8G("ngIf",(null==e||null==e.vendorCategory?null:e.vendorCategory.length)<=1),t.R7$(),t.Y8G("ngIf",(null==e||null==e.vendorCategory?null:e.vendorCategory.length)>1)}}function oe(a,c){if(1&a&&(t.j41(0,"span",72)(1,"del"),t.EFF(2),t.nI1(3,"currencysymbol"),t.k0s()()),2&a){const e=t.XpG().$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,1,e.price),"")}}function ne(a,c){if(1&a&&(t.j41(0,"span",73),t.EFF(1),t.nI1(2,"currencysymbol"),t.k0s()),2&a){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.pricerefer)," ")}}function se(a,c){if(1&a&&(t.j41(0,"span",72),t.EFF(1),t.nI1(2,"currencysymbol"),t.k0s()),2&a){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.pricerefer)," ")}}function ce(a,c){if(1&a&&(t.j41(0,"span",72),t.EFF(1),t.nI1(2,"currencysymbol"),t.k0s()),2&a){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.productprice)," ")}}function le(a,c){if(1&a&&(t.qex(0),t.DNE(1,se,3,3,"span",70)(2,ce,3,3,"span",70),t.bVm()),2&a){const e=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",e.pricerefer),t.R7$(),t.Y8G("ngIf",!e.pricerefer)}}function de(a,c){if(1&a&&(t.j41(0,"div",69),t.DNE(1,oe,4,3,"span",70)(2,ne,3,3,"span",71)(3,le,3,2,"ng-container",68),t.k0s()),2&a){const e=c.$implicit;t.R7$(),t.Y8G("ngIf",1==e.flag),t.R7$(),t.Y8G("ngIf",1==e.flag),t.R7$(),t.Y8G("ngIf",0===e.flag||""===e.flag)}}function ue(a,c){if(1&a&&t.nrm(0,"app-common-badge",74),2&a){const e=c.$implicit,r=t.XpG();t.Y8G("badge",r.badgeStatusMappings.hasOwnProperty(e.isActive)?r.badgeStatusMappings[e.isActive]:"")}}function pe(a,c){if(1&a){const e=t.RV6();t.j41(0,"app-common-badge",75),t.bIt("rejectReason",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.rejectReasonData(i))}),t.k0s()}if(2&a){const e=c.$implicit,r=t.XpG();t.Y8G("rejected",e)("badge",(r.badgeConfig.hasOwnProperty(e.approvalFlag),r.badgeConfig[e.approvalFlag]))}}function me(a,c){if(1&a){const e=t.RV6();t.j41(0,"a",76),t.bIt("click",function(){const i=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.productPreview(i))}),t.nrm(1,"img",77),t.EFF(2," Preview "),t.k0s()}}function ge(a,c){1&a&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.NoDataAvailablefortheFilteredCriteria")," "))}function he(a,c){1&a&&t.EFF(0," No Products are added ! ")}function fe(a,c){if(1&a&&(t.j41(0,"div",78)(1,"span"),t.nrm(2,"img",79),t.k0s(),t.j41(3,"h4"),t.DNE(4,ge,3,3,"ng-container",80)(5,he,1,0,"ng-template",null,10,t.C5r),t.k0s()()),2&a){const e=t.sdS(6),r=t.XpG();t.R7$(4),t.Y8G("ngIf",r.formValueExists)("ngIfElse",e)}}function be(a,c){if(1&a){const e=t.RV6();t.j41(0,"app-reusable-pagination",81),t.bIt("pageChange",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.onPageChange(i))}),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("ngClass",t.eq3(5,ut,(null==e.selectedDatas?null:e.selectedDatas.length)>0))("type","numbers")("currentPage",e.currentPage)("pageSize",e.limit)("totalItems",e.count)}}function _e(a,c){if(1&a){const e=t.RV6();t.j41(0,"app-bulk-action",82),t.bIt("actionEvent",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.actionType(i))}),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("count",null==e.selectedDatas?null:e.selectedDatas.length)("bulkList",e.bulkAction)}}let H=(()=>{class a{constructor(e,r,i,o,n,l,h,f,et,it,at,rt,Ji,qi,Hi){this.productSandbox=e,this.NewProductSandbox=r,this.router=i,this.formBuilder=o,this.toaster=n,this.route=l,this.modal=h,this.dataService=f,this.translate=et,this.toastr=it,this.productService=at,this.ref=rt,this.titleService=Ji,this.fb=qi,this.modalService=Hi,this.currency=JSON.parse(localStorage.getItem("adminCurrency")),this.backupData=structuredClone(nt),this.dynamicColumnFields=structuredClone(nt),this.productUrl=j.c.storeUrlRelatedProduct,this.currentPage=1,this.limit=ct.D,this.offset=0,this.pageSizeList=ct.h,this.queryData={},this.pagination=!0,this.productListArray=[],this.productArray=[],this.selectedDatas=[],this.tableCheckbox={isSelectAll:!1},this.imageUrl=j.c.imageUrl,this.backupColumns=structuredClone(Ct),this.sortOption=Pt,this.sortname="",this.sortOrder="",this._Object=Object,this.empty=[null,"",void 0],this.alertConfig={},this.dynamicObjControls={},this.backupFormValue={},this.formValueExists=!1,this.count=0,this.AlltabStatus="2",this.falgStatus="",this.badgeConfig=St,this.badgeStatusMappings=Ft,this.initalLoading=!1,this.trackByIndex=B=>B,this.subscriptions=new _.yU,this.bulkAction=Tt,this.titleService.setTitle("Products"),this.subscriptions.add(this.productSandbox.productList$.subscribe(B=>{B&&(this.productArray=B)}))}ngOnInit(){this.buildForm(),this.routeSubscribe()}open(){this.formObjFormGroup.patchValue(structuredClone(this.backupFormValue))}buttonAction(e){switch(e.key){case"threeDotMenu":"Edit"==e.actionType?this.goToEdit(e.productId):"Delete"==e.actionType&&this.deleteProduct(e.productId,"single");break;case"checkBox":this.selectedDatas=e.selectedDatas}}onPageChange(e){this.limit=e.limit,this.currentPage=Math.floor(e.offset/e.limit)+1,this.offset=(this.currentPage-1)*this.limit,this.geTotalProductList()}pageSizeChange(e){this.onPageChange({limit:e.id,offset:0})}applyFilter(){this.offset=0,this.currentPage=1,this.AlltabStatus="2",this.filterValueUpdate(),this.resetAll()}removeFilter(e){this.offset=0,this.currentPage=1,this.AlltabStatus="2",this.formObjFormGroup.controls[e.key].reset(),this.backupFormValue=[],this.filterValueUpdate(),this.resetAll()}filterReset(e){this.offset=0,this.currentPage=1,"clearAll"==e?this.formObjFormGroup.reset():this.formObjFormGroup.patchValue({"Product Title":"",Price:"",Status:""}),this.filterValueUpdate(),this.resetAll()}clearSearch(){this.offset=0,this.currentPage=1,this.resetAll()}searchItems(){this.offset=0,this.currentPage=1,this.resetAll()}SortValueChange(e){this.sortname=e?.name,this.sortOrder=["",null,void 0].includes(this.sortOrder)?"ASC":this.sortOrder,this.routeSubscribe()}SortValueChangeOrder(e){this.sortOrder=e,this.routeSubscribe()}actionType(e){switch(e){case"resetCheckbox":this.closebutton();break;case"exportExcel":this.EportdataAll();break;case"exportExcelAll":this.EportAll();break;case"bulkDelete":this.allProductDelete();break;case"bulkUpload":this.updateall()}}dropDownClose(e){this.hasOwnProperty(e)&&this[e]?.close()}saveColumns(e){this.backupColumns=structuredClone(e),this.showHideTableColumn()}getQueryParam(){return{limit:this.limit,offset:this.offset,currentPage:this.currentPage,keyword:this.backupFormValue.Search??"",productName:this.backupFormValue["Product Title"]??"",price:this.backupFormValue.Price?this.backupFormValue.Price:"",status:this.backupFormValue.Status?this.backupFormValue.Status:"",sortBy:this.sortname,sortOrder:this.sortOrder}}routeSubscribe(){let e={};this.subscriptions.add(this.route.queryParams.subscribe(r=>{e=r,this.limit=e.limit?Number(e.limit):this.limit,this.offset=e.offset?Number(e.offset):0,this.currentPage=e.currentPage?Number(e.currentPage):1,this.formObjFormGroup.patchValue({"Product Title":e?.productName??"",Price:e?.price??"",Search:e?.keyword??""}),this.filterValueUpdate()})),this.geTotalProductList(),this.getTotalProductCount()}showHideTableColumn(){this.dynamicColumnFields.forEach(e=>{e.hasOwnProperty("filterColName")&&(e.checked=this.backupColumns[e.filterColName])})}updateQueryParam(){this.router.navigate([],{queryParams:this.getQueryParam(),queryParamsHandling:"merge"})}buildForm(){const e=structuredClone(Dt),r=(0,st.b0)(e);this.formObjFormGroup=this.fb.group(r),Object.keys(e).forEach(i=>{this.dynamicObjControls[i]=(0,st.yE)(e[i],this.formObjFormGroup)}),this.filterValueUpdate()}resetAll(){this.geTotalProductList(),this.getTotalProductCount(),this.dropDownClose("dropdownContentFilter"),this.dropDownClose("dropdownContent")}filterValueUpdate(){this.backupFormValue=structuredClone(this.formObjFormGroup?.value),this.formValueExists=Object.values(structuredClone(this.backupFormValue)).some(e=>!this.empty.includes(e)),this.ref.detectChanges()}reset(e=!1){this.productListArray.forEach(r=>r.checked=e),this.selectedDatas=this.productListArray.filter(r=>r?.checked)}addProduct(){this.resetServices(),this.ref.detectChanges(),this.router.navigate(["/new-catalog/products/categories"])}resetServices(){this.dataService.setData([]),this.dataService.setDatacategoriesRightArray({}),this.dataService.setDatacategoriesLeftArray({}),this.dataService.setDataproductDetailsPagePrev(""),this.dataService.setDataProductDetails({}),this.dataService.setPricingDetails({}),this.dataService.setDataProductSeo({})}tabRoutingFlag(e){this.falgStatus=e,this.AlltabStatus="",this.geTotalProductList(),this.getTotalProductCount()}tabRouting(e){this.falgStatus="",this.AlltabStatus=e,this.geTotalProductList(),this.getTotalProductCount()}geTotalProductList(){const e={};e.limit=this.limit,e.offset=this.offset,e.keyword=this.backupFormValue?.Search??"",e.count=0,e.sortBy=this.sortname,e.sortOrder=this.sortOrder,e.productName=this.backupFormValue?.["Product Title"]?this.backupFormValue?.["Product Title"]:"",e.price=this.backupFormValue?.Price?this.backupFormValue?.Price:"",e.status=["2",null,void 0].includes(this.AlltabStatus)?["",null,void 0].includes(this.backupFormValue?.Status)?"":this.backupFormValue?.Status:this.AlltabStatus,e.approvalFlag=this.falgStatus,this.productSandbox.getProductList(e),this.subscriptions.add(this.productSandbox.productList$.subscribe(r=>{if(this.productListArray=r,r){r.forEach(o=>{o.truncatedText=o.name?.length>100?o.name.slice(0,100):o.name}),this.initalLoading=!(r.length>0);const i=r.every(o=>1===o.approvalFlag);this.alertConfig=i?(0,x.RI)():(0,x.RI)("content.productListContent",x.PO.failed,x.s7.failed),this.reset()}})),this.updateQueryParam()}getTotalProductCount(){const e={count:1};e.limit=this.limit,e.offset=this.offset,e.keyword=this.backupFormValue?.Search??"",e.count=1,e.sortBy=this.sortname,e.sortOrder=this.sortOrder,e.productName=this.backupFormValue?.["Product Title"]?this.backupFormValue?.["Product Title"]:"",e.price=this.backupFormValue?.Price?this.backupFormValue?.Price:"",e.status=["2",null,void 0].includes(this.AlltabStatus)?["",null,void 0].includes(this.backupFormValue?.Status)?"":this.backupFormValue?.Status:this.AlltabStatus,e.approvalFlag=this.falgStatus,this.productSandbox.getProductListCount(e),this.subscriptions.add(this.productSandbox.totalProductCount$.subscribe(r=>{this.count=r}))}goToEdit(e){this.productService.editCategoryPop(""),this.resetServices(),this.ref.detectChanges(),this.router.navigate(["/new-catalog/products/categories/",e],{queryParams:this.getQueryParam()})}allProductDelete(){const e=this.modal.open(V.T,{size:"sm",windowClass:"assignattributesmodal-categories delete-modal",backdrop:"static",backdropClass:"createcr",modalDialogClass:"modal-dialog-centered"});e.componentInstance.key="",e.componentInstance.deleteMessage="Product",e.componentInstance.productId=this.selectedDatas.map(r=>r.productId).toString(),e.result.then(r=>{if("deleted"==r){let i={productId:this.selectedDatas.map(o=>o.productId).toString()};this.NewProductSandbox.ProductMultiDelete(i),this.subscriptions.add(this.NewProductSandbox.ProductMultiDelete$.subscribe(o=>{1==o?.status&&(this.geTotalProductList(),this.getTotalProductCount(),this.selectedDatas=[])}))}})}deleteProduct(e,r){const i=this.modal.open(V.T,{size:"sm",windowClass:"assignattributesmodal-categories delete-modal",backdrop:"static",backdropClass:"createcr",modalDialogClass:"modal-dialog-centered"});i.componentInstance.key="",i.componentInstance.deleteMessage="Product",i.componentInstance.productId=e,i.result.then(o=>{"deleted"===o&&(this.productSandbox.doProductDelete({productId:e}),this.subscriptions.add(this.productSandbox.productDeleteLoaded$.subscribe(n=>{!0===n&&this.getTotalProductCount()})))})}deleteMultipleProduct(){if(0===this.selectedDatas.length)return void this.toaster.error("Please choose a product for delete");const e={};e.productId=this.selectedDatas.map(r=>r.productId).toString(),this.productSandbox.doProductBulkDelete(e),this.subscriptions.add(this.productSandbox.productBulkDeleteLoaded$.subscribe(r=>{!0===r&&this.geTotalProductList()}))}exportProduct(){if(0===this.selectedDatas.length)return void this.toaster.error("please choose a product for export");const e={};e.productId=this.selectedDatas.map(r=>r.productId).toString(),this.productSandbox.exportProduct(e)}exportAllProduct(){const e={};e.vendorId=JSON.parse(localStorage.getItem("vendorUser")).vendorId,this.productSandbox.allExportProduct(e)}Eportdata(e){const r={};r.productId=e,this.productSandbox.exportProduct(r)}EportdataAll(){const e={};e.productId=this.selectedDatas.map(r=>r.productId),this.productSandbox.exportProduct(e)}EportAll(){this.productSandbox.exportProduct({productId:[]})}closebutton(){this.productListArray.forEach(e=>e.selected=!1),this.reset(),this.tableCheckbox.isSelectAll=!1,this.tableCheckbox={...this.tableCheckbox}}opencategory(e){this.subscriptions.add(this.productSandbox.productList$.subscribe(i=>{i&&(this.productArrayModel=i.filter(o=>o.productId==e))}));const r=this.modal.open(T,{size:"xs",windowClass:"assignattributesmodal-categories orderstatushistory delete-modal",backdrop:"static",backdropClass:"createcr",centered:!0});r.componentInstance.userId=e,r.componentInstance.userModel=this.productArrayModel}updateall(){const e=this.modal.open(X.t,{size:"md",backdrop:"static",backdropClass:"createcr",centered:!0,windowClass:"assignattributesmodal-categories"});e.componentInstance.Name="common.Product Status",e.componentInstance.Content="BulkUpdate.ChooseMultipleProducts",e.componentInstance.action="Single",e.componentInstance.fulfillment="product",e.result.then(r=>{if("Save"==r?.modelStatus){const i={productIds:this.selectedDatas.map(n=>n.productId).toString(),statusId:["",null,void 0].includes(r?.StatusChange)?"":1==r?.StatusChange?1:0,dateAvailableFrom:r.obj.dateAvailableFrom,price:r.obj.price,inventory:r.obj.inventory},o=Object.fromEntries(Object.entries(i).filter(([n,l])=>null!=l&&""!==l));0!==r.empty&&this.productService.bulkproductStatusUpdate(o).subscribe(n=>{1==n?.status&&(this.selectedDatas=[],this.geTotalProductList())})}})}rejectReasonData(e){if(JSON.parse(e.rejectReason)?.length>0){let r=[];r.push({containerName:e.containerName,image:e.image});const i=this.modalService.open(lt,{size:"xl",windowClass:"assignattributesmodal-categories",backdrop:"static",backdropClass:"createcr",centered:!0});i.componentInstance.rejectReason=JSON.parse(e.rejectReason),i.componentInstance.productImage=r,i.componentInstance.productName=e.name}}productPreview(e){window.open(this.productUrl+e.productSlug,"_blank")}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(m.L),t.rXU(N.R),t.rXU(u.Ix),t.rXU(p.ze),t.rXU(O.tw),t.rXU(u.nX),t.rXU(s.Bq),t.rXU(G.u),t.rXU(y.c$),t.rXU(O.tw),t.rXU(v.b),t.rXU(t.gRc),t.rXU(q.hE),t.rXU(p.ze),t.rXU(s.Bq))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-list"]],viewQuery:function(r,i){if(1&r&&(t.GBs(wt,5),t.GBs(Lt,5)),2&r){let o;t.mGM(o=t.lsd())&&(i.dropdownContent=o.first),t.mGM(o=t.lsd())&&(i.dropdownContentFilter=o.first)}},features:[t.Jv_([J.G])],decls:113,vars:131,consts:[["dropdownContent","ngbDropdown"],["tooltip","ngbTooltip"],["dropdownContentFilter","ngbDropdown"],["itemTemplateRefName",""],["itemTemplateRef",""],["itemTemplatePrice",""],["itemTemplateRefStatus",""],["itemTemplateRefapprovalStatus",""],["itemTemplatePreview",""],["fullTextDisplay",""],["nodatafound",""],[1,"header-list","flexx"],[1,"header-list-rht","ms-auto","flexx"],[1,"per-page","flexx",3,"ngClass"],[1,"ig-row"],["bindLabel","id",3,"change","ngModelChange","items","searchable","clearable","ngModel"],["ngbDropdown","",1,"search-filter",3,"ngClass"],["tabindex","0","ngbDropdownToggle","","id","navbarDropdown2","role","button","placement","bottom","role","button",3,"mouseleave","ngbTooltip"],["src","assets/imgs/search.svg","alt","",3,"click"],["ngbDropdownMenu","","aria-labelledby","navbarDropdown2",1,"dropdown-menu","dropdown-menu-end"],[1,"",3,"keyup.enter"],[1,"input-group"],[3,"type","control","label","inputId","aliasName","placeholder"],[3,"valueChanged","valueChangedOrder","sortOption"],["tabindex","0","ngbDropdownToggle","","id","navbarDropdown2","role","button","placement","bottom","role","button",3,"click","mouseleave","ngbTooltip"],["src","assets/imgs/filter.svg","alt",""],["action","",1,"flex"],[1,"filter-content"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"filter-action"],[1,"button-reg","btn-sm","primary",3,"click"],[1,"button-reg","btn-sm","trans-btn",3,"click"],[3,"selectedColumns","filterColumns","ngClass"],["href","javascript:Void(0)",1,"link-reg","link-sm","primary",3,"click"],["class","filter-result-row flexx",4,"ngIf"],[1,"inner-filter-row",3,"ngClass"],[3,"click"],["href","javascript:void(0)",1,"active",3,"ngClass"],["href","javascript:void(0)",3,"ngClass"],[1,"page-content"],[3,"alert",4,"ngIf"],["class","loading",4,"ngIf"],[3,"HeadArray","GridArray","selectAll","customTemplate","buttonChangeEvent",4,"ngIf"],["class","nodata flexx",4,"ngIf"],["class","pagination flexx",3,"ngClass","type","currentPage","pageSize","totalItems","pageChange",4,"ngIf"],[3,"count","bulkList","actionEvent",4,"ngIf"],[3,"type","control","label","inputId","aliasName","customData","placeholder",4,"ngIf"],[3,"type","control","label","inputId","aliasName","customData","placeholder"],[1,"filter-result-row","flexx"],["href","javascript:void(0)",1,"clear",3,"click"],["class","filter-result-col",4,"ngIf"],[1,"filter-result-col"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"remove-btn",3,"click"],["src","assets/imgs/close-sm.svg","alt",""],[3,"alert"],[1,"loading"],[3,"buttonChangeEvent","HeadArray","GridArray","selectAll","customTemplate"],[1,"d-flex","align-items-center","product-details"],[1,"avatar","avatar-xs","online","avatar-rounded","cursor"],["alt","Product Image","title","Product Image","onError","this.src='assets/imgs/no-image.jpg';",3,"src"],[1,"inline-flex","cursor",3,"click"],["matTooltipPosition","above",3,"matTooltip",4,"ngIf","ngIfElse"],["matTooltipPosition","above",3,"matTooltip"],["href","javascript:void(0)"],["href","javascript:void(0)",1,"link-text","link-cat-width",3,"click"],[4,"ngIf"],[1,"text-end"],["class","d-inline-block text-nowrap",4,"ngIf"],["class","d-inline-block text-nowrap","style","color: red",4,"ngIf"],[1,"d-inline-block","text-nowrap"],[1,"d-inline-block","text-nowrap",2,"color","red"],[3,"badge"],[3,"rejectReason","rejected","badge"],["href","javascript:void(0)",1,"link-text",3,"click"],["src","assets/imgs/globe.png","alt","preview"],[1,"nodata","flexx"],["src","assets/imgs/nodata.svg","alt",""],[4,"ngIf","ngIfElse"],[1,"pagination","flexx",3,"pageChange","ngClass","type","currentPage","pageSize","totalItems"],[3,"actionEvent","count","bulkList"]],template:function(r,i){if(1&r){const o=t.RV6();t.j41(0,"header")(1,"div",11)(2,"h1"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",12)(6,"div",13),t.nI1(7,"async"),t.nI1(8,"async"),t.j41(9,"p"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"div",14)(13,"ng-select",15),t.bIt("change",function(l){return t.eBV(o),t.Njj(i.pageSizeChange(l))}),t.mxI("ngModelChange",function(l){return t.eBV(o),t.DH7(i.limit,l)||(i.limit=l),t.Njj(l)}),t.k0s()()(),t.j41(14,"div",16,0),t.nI1(16,"async"),t.nI1(17,"async"),t.j41(18,"button",17,1),t.nI1(20,"translate"),t.bIt("mouseleave",function(){t.eBV(o);const l=t.sdS(19);return t.Njj(l.close())}),t.j41(21,"img",18),t.bIt("click",function(){return t.eBV(o),t.Njj(i.open())}),t.k0s()(),t.j41(22,"div",19)(23,"h5"),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.j41(26,"form",20),t.bIt("keyup.enter",function(){return t.eBV(o),t.Njj(i.applyFilter())}),t.j41(27,"div",21)(28,"div",14),t.nrm(29,"app-reusable-forms",22),t.k0s()()()()(),t.j41(30,"app-common-sort",23),t.bIt("valueChanged",function(l){return t.eBV(o),t.Njj(i.SortValueChange(l))})("valueChangedOrder",function(l){return t.eBV(o),t.Njj(i.SortValueChangeOrder(l))}),t.k0s(),t.j41(31,"div",16,2),t.nI1(33,"async"),t.nI1(34,"async"),t.j41(35,"button",24,1),t.nI1(37,"translate"),t.bIt("click",function(){return t.eBV(o),t.Njj(i.open())})("mouseleave",function(){t.eBV(o);const l=t.sdS(19);return t.Njj(l.close())}),t.nrm(38,"img",25),t.k0s(),t.j41(39,"div",19)(40,"h5"),t.EFF(41),t.nI1(42,"translate"),t.k0s(),t.j41(43,"form",26)(44,"div",27),t.DNE(45,Bt,2,1,"div",28),t.k0s(),t.j41(46,"div",29)(47,"button",30),t.bIt("click",function(){return t.eBV(o),t.Njj(i.applyFilter())}),t.EFF(48),t.nI1(49,"translate"),t.k0s(),t.j41(50,"button",31),t.bIt("click",function(){return t.eBV(o),t.Njj(i.filterReset(""))}),t.EFF(51),t.nI1(52,"translate"),t.k0s()()()()(),t.j41(53,"app-dynamic-columns",32),t.nI1(54,"async"),t.nI1(55,"async"),t.bIt("selectedColumns",function(l){return t.eBV(o),t.Njj(i.saveColumns(l))}),t.k0s(),t.j41(56,"a",33),t.bIt("click",function(){return t.eBV(o),t.Njj(i.addProduct())}),t.EFF(57),t.nI1(58,"translate"),t.k0s()()()(),t.DNE(59,zt,9,10,"div",34),t.j41(60,"div",35),t.nI1(61,"async"),t.nI1(62,"async"),t.j41(63,"a",36),t.bIt("click",function(){return t.eBV(o),t.Njj(i.tabRouting("2"))}),t.j41(64,"a",37),t.EFF(65),t.nI1(66,"translate"),t.k0s()(),t.j41(67,"a",36),t.bIt("click",function(){return t.eBV(o),t.Njj(i.tabRouting("1"))}),t.j41(68,"a",38),t.EFF(69),t.nI1(70,"translate"),t.k0s()(),t.j41(71,"a",36),t.bIt("click",function(){return t.eBV(o),t.Njj(i.tabRouting("0"))}),t.j41(72,"a",38),t.EFF(73),t.nI1(74,"translate"),t.k0s()(),t.j41(75,"a",36),t.bIt("click",function(){return t.eBV(o),t.Njj(i.tabRoutingFlag("1"))}),t.j41(76,"a",38),t.EFF(77),t.nI1(78,"translate"),t.k0s()(),t.j41(79,"a",36),t.bIt("click",function(){return t.eBV(o),t.Njj(i.tabRoutingFlag("2"))}),t.j41(80,"a",38),t.EFF(81),t.nI1(82,"translate"),t.k0s()(),t.j41(83,"a",36),t.bIt("click",function(){return t.eBV(o),t.Njj(i.tabRoutingFlag("0"))}),t.j41(84,"a",38),t.EFF(85),t.nI1(86,"translate"),t.k0s()()(),t.j41(87,"div",39),t.DNE(88,Kt,1,1,"app-alert-content",40),t.nI1(89,"async"),t.DNE(90,Qt,2,0,"div",41),t.nI1(91,"async"),t.DNE(92,Wt,1,11,"app-common-table",42),t.nI1(93,"async"),t.DNE(94,ee,7,3,"ng-template",null,3,t.C5r)(96,re,5,3,"ng-template",null,4,t.C5r)(98,de,4,3,"ng-template",null,5,t.C5r)(100,ue,1,1,"ng-template",null,6,t.C5r)(102,pe,1,2,"ng-template",null,7,t.C5r)(104,me,3,0,"ng-template",null,8,t.C5r)(106,fe,7,2,"div",43),t.nI1(107,"async"),t.nI1(108,"async"),t.qex(109),t.DNE(110,be,1,7,"app-reusable-pagination",44),t.nI1(111,"async"),t.bVm(),t.k0s(),t.DNE(112,_e,1,2,"app-bulk-action",45)}if(2&r){let o,n,l,h,f;t.R7$(3),t.JRh(t.bMT(4,47,"common.Productlist")),t.R7$(3),t.Y8G("ngClass",t.eq3(109,L,t.bMT(7,49,i.productSandbox.productListLoading$)||i.initalLoading||0==(null==(o=t.bMT(8,51,i.productSandbox.productList$))?null:o.length)&&i.formValueExists||(null==i.selectedDatas?null:i.selectedDatas.length)>0)),t.R7$(4),t.SpI(" ",t.bMT(11,53,"common.PerPage"),""),t.R7$(3),t.Y8G("items",i.pageSizeList)("searchable",!1)("clearable",!1),t.R50("ngModel",i.limit),t.R7$(),t.Y8G("ngClass",t.eq3(111,L,t.bMT(16,55,i.productSandbox.productListLoading$)||i.initalLoading||0==(null==(n=t.bMT(17,57,i.productSandbox.productList$))?null:n.length)&&i.formValueExists||(null==i.selectedDatas?null:i.selectedDatas.length)>0)),t.R7$(4),t.FS9("ngbTooltip",t.bMT(20,59,"common.Search")),t.R7$(6),t.JRh(t.bMT(25,61,"common.Search")),t.R7$(5),t.Y8G("type",null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.type)("control",null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.control)("label",null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.label)("inputId",null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.inputId)("aliasName",null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.aliasName)("placeholder",null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.placeholder),t.R7$(),t.Y8G("sortOption",i.sortOption),t.R7$(),t.Y8G("ngClass",t.eq3(113,L,t.bMT(33,63,i.productSandbox.productListLoading$)||i.initalLoading||0==(null==(l=t.bMT(34,65,i.productSandbox.productList$))?null:l.length)&&i.formValueExists||(null==i.selectedDatas?null:i.selectedDatas.length)>0)),t.R7$(4),t.FS9("ngbTooltip",t.bMT(37,67,"common.Filter")),t.R7$(6),t.JRh(t.bMT(42,69,"common.Filter")),t.R7$(4),t.Y8G("ngForOf",i._Object.keys(i.dynamicObjControls))("ngForTrackBy",i.trackByIndex),t.R7$(3),t.SpI(" ",t.bMT(49,71,"common.apply filters"),""),t.R7$(3),t.JRh(t.bMT(52,73,"common.reset")),t.R7$(2),t.Y8G("filterColumns",i.backupColumns)("ngClass",t.eq3(115,L,t.bMT(54,75,i.productSandbox.productListLoading$)||i.initalLoading||0==(null==(h=t.bMT(55,77,i.productSandbox.productList$))?null:h.length)&&i.formValueExists||(null==i.selectedDatas?null:i.selectedDatas.length)>0)),t.R7$(4),t.SpI(" + ",t.bMT(58,79,"common.Create Product")," "),t.R7$(2),t.Y8G("ngIf",i.formValueExists),t.R7$(),t.Y8G("ngClass",t.eq3(117,ut,t.bMT(61,81,i.productSandbox.productListLoading$)||0==(null==(f=t.bMT(62,83,i.productSandbox.productList$))?null:f.length)&&i.formValueExists||(null==i.selectedDatas?null:i.selectedDatas.length)>0)),t.R7$(4),t.Y8G("ngClass",t.eq3(119,E,"2"==i.AlltabStatus)),t.R7$(),t.JRh(t.bMT(66,85,"common.All")),t.R7$(3),t.Y8G("ngClass",t.eq3(121,E,"1"==i.AlltabStatus)),t.R7$(),t.JRh(t.bMT(70,87,"common.Active")),t.R7$(3),t.Y8G("ngClass",t.eq3(123,E,"0"==i.AlltabStatus)),t.R7$(),t.JRh(t.bMT(74,89,"common.Inactive")),t.R7$(3),t.Y8G("ngClass",t.eq3(125,E,"1"==i.falgStatus)),t.R7$(),t.SpI("",t.bMT(78,91,"Sales.shared.Approve")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(127,E,"2"==i.falgStatus)),t.R7$(),t.SpI("",t.bMT(82,93,"Sales.shared.Reject")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(129,E,"0"==i.falgStatus)),t.R7$(),t.SpI("",t.bMT(86,95,"common.Waiting Product")," "),t.R7$(3),t.Y8G("ngIf",t.bMT(89,97,i.productSandbox.productListLoaded$)&&(null==i.productListArray?null:i.productListArray.length)>0),t.R7$(2),t.Y8G("ngIf",t.bMT(91,99,i.productSandbox.productListLoading$)),t.R7$(2),t.Y8G("ngIf",(null==i.productListArray?null:i.productListArray.length)>0&&t.bMT(93,101,i.productSandbox.productListLoaded$)),t.R7$(14),t.Y8G("ngIf",t.bMT(107,103,i.productSandbox.productListLoaded$)&&0==t.bMT(108,105,i.productSandbox.productList$).length),t.R7$(4),t.Y8G("ngIf",t.bMT(111,107,i.productSandbox.productListLoaded$)&&i.count>0),t.R7$(2),t.Y8G("ngIf",(null==i.selectedDatas?null:i.selectedDatas.length)>0)}},dependencies:[g.YU,g.Sq,g.bT,g.ux,g.e1,g.fG,p.qT,p.BC,p.cb,dt.V,Rt.oV,Et.e,Mt.$,$t.y,Vt.T,xt.j,Nt.V,Ot.C,Gt.S,p.vS,p.cV,s.tg,s.do,s.U0,s.md,w.vr,g.Jj,g.lG,J.G,y.D9],styles:['.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:15rem!important}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#353740}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{max-height:20rem;overflow:auto}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.125rem;font-size:.75rem}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .ig-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:2.125rem;padding-inline:.5rem;font-size:.875rem;font-weight:400;color:#353740}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .ig-row[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{height:2.125rem!important;min-height:2.125rem}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .filter-action[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:.5rem;margin-top:1.5rem}.custom-control[_ngcontent-%COMP%]{margin-bottom:10px}.clm-button[_ngcontent-%COMP%]{width:100%;height:2.0625rem;display:flex;justify-content:center;align-items:center;background-color:#fafdff;font-size:.75rem;font-weight:400;color:#188af1;border:0}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:before{background-color:#fff;border-color:#c6c6c7}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:#222;border:#222 solid 1px}.disabled-class[_ngcontent-%COMP%]{pointer-events:none!important;opacity:.5}.tab-row-click[_ngcontent-%COMP%]{cursor:pointer}.loading[_ngcontent-%COMP%]{margin-top:5%;display:flex;justify-content:center}.faild[_ngcontent-%COMP%]{background-color:#faebeb;border:1px solid #F5C8C8}.remove-btn[_ngcontent-%COMP%]{border:0;padding:0;background-color:transparent}.pending[_ngcontent-%COMP%]{color:#eb7500;border-color:#ffe0c2;background-color:#fff7ef}.disable-div[_ngcontent-%COMP%]{pointer-events:none}.header-list-rht[_ngcontent-%COMP%]   .search-filter.show[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:before{content:"";position:fixed;left:19rem;top:6rem!important;width:calc(100vw - 17rem);height:100vh;background-color:#fff9;cursor:default}'],data:{animation:[(0,b.hZ)("slideInOut",[(0,b.kY)(":enter",[(0,b.iF)({transform:"translateX(0%)"}),(0,b.i0)("0.5s ease-in",(0,b.iF)({transform:"translateX(-100%)"}))]),(0,b.kY)(":leave",[(0,b.iF)({transform:"translateX(0%)"}),(0,b.i0)("0.5s ease-in",(0,b.iF)({transform:"translateX(-100%)"}))])])]}})}}return a})();var C=d(4142),U=d(9473),ve=d(7431);const Ie=["inputField"],ye=["inputField2"],pt=()=>["levels"];function Ce(a,c){if(1&a){const e=t.RV6();t.j41(0,"button",24),t.bIt("click",function(){t.eBV(e);const i=t.XpG().ngIf,o=t.XpG();return t.Njj(o.openrejectedreasonmodal(null==i?null:i.data))}),t.EFF(1," Rejected Reasons "),t.k0s()}}function Pe(a,c){if(1&a&&(t.qex(0),t.DNE(1,Ce,2,0,"button",23),t.bVm()),2&a){const e=c.ngIf;t.R7$(),t.Y8G("ngIf",2==(null==e||null==e.data?null:e.data.approvalflag))}}function ke(a,c){1&a&&(t.j41(0,"div",6)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"h3"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()),2&a&&(t.R7$(2),t.JRh(t.bMT(3,2,"common.Yet to create")),t.R7$(3),t.SpI("4. ",t.bMT(6,4,"common.Seo"),""))}function De(a,c){1&a&&t.nrm(0,"img",33)}function Se(a,c){if(1&a&&(t.qex(0),t.EFF(1),t.DNE(2,De,1,0,"img",32),t.bVm()),2&a){const e=c.$implicit,r=c.last;t.R7$(),t.SpI(" ",e," "),t.R7$(),t.Y8G("ngIf",!r)}}function Fe(a,c){if(1&a){const e=t.RV6();t.j41(0,"div",25),t.bIt("click",function(){const i=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.addCategories(i))}),t.j41(1,"div",26),t.nrm(2,"img",27),t.k0s(),t.j41(3,"div",28),t.DNE(4,Se,3,2,"ng-container",29),t.k0s(),t.j41(5,"button",30),t.bIt("click",function(){const i=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.addCategories(i))}),t.nrm(6,"img",31),t.k0s()()}if(2&a){const e=c.$implicit;t.R7$(4),t.Y8G("ngForOf",e.newlevels)}}function Te(a,c){1&a&&t.nrm(0,"img",33)}function je(a,c){if(1&a&&(t.qex(0),t.EFF(1),t.DNE(2,Te,1,0,"img",32),t.bVm()),2&a){const e=c.$implicit,r=c.last;t.R7$(),t.SpI(" ",e," "),t.R7$(),t.Y8G("ngIf",!r)}}function Re(a,c){if(1&a){const e=t.RV6();t.j41(0,"div",34)(1,"div",26),t.nrm(2,"img",27),t.k0s(),t.j41(3,"div",28),t.DNE(4,je,3,2,"ng-container",29),t.k0s(),t.j41(5,"button",30),t.bIt("click",function(){const i=t.eBV(e),o=i.$implicit,n=i.index,l=t.XpG();return t.Njj(l.removeCategories(o,n))}),t.nrm(6,"img",35),t.k0s()()}if(2&a){const e=c.$implicit;t.R7$(4),t.Y8G("ngForOf",null==e?null:e.newlevels)}}function Ee(a,c){1&a&&(t.j41(0,"div",36),t.nrm(1,"img",37),t.j41(2,"p"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&a&&(t.R7$(3),t.JRh(t.bMT(4,1,"Catalog.product.SelectedCategoriesWarn")))}let mt=(()=>{class a{constructor(e,r,i,o,n,l,h,f){this.modalService=e,this.productsandbox=r,this.toster=i,this.route=o,this.router=n,this.dataService=l,this.ref=h,this.titleService=f,this.categoriesList=[],this.rightarrayList=[],this.keyword="",this.rightKeyword="",this.catergoriesId=[],this.paramsValue={},this.ProductSeo=C.rh.length>0,this.updateList=[],this.subscriptions=new _.yU,this.titleService.setTitle("Products")}getDatasss(){this.catergoriesId=this.dataService.getData(),this.rightarrayList=this.dataService.getDatacategoriesRightArray();const e=this.dataService.getDatacategoriesRightArray().filter((r,i,o)=>i===o.findIndex(n=>n.categoryId===r.categoryId));this.rightarrayList=e,this.updateList=this.dataService.getDataccategoriesLeftArray()}ngOnInit(){this.editId=this.router.snapshot.params.id,this.ref.detectChanges(),["",null,void 0].includes(this.dataService.getrproductDetailsPagePrev())&&(this.CategoriesApiList(),this.resetServices(),this.ref.detectChanges()),"productDetailsname"==this.dataService.getrproductDetailsPagePrev()?(this.getDatasss(),this.categoriesList=this.updateList,this.ref.detectChanges()):[null,"",void 0].includes(this.editId)||(this.resetServices(),this.updatedetailsApi(),this.ref.detectChanges()),this.routeSubscribe()}routeSubscribe(){this.router.queryParams.subscribe(e=>{this.paramsValue=e})}updatedetailsApi(){this.productsandbox.ProductUpdateDetails(this.editId),this.productsandbox.ProductUpdateDetails$.subscribe(e=>{1==e?.status&&(this.dataService.setProductName(e?.data.name),this.subscriptions.add(this.productsandbox.CategoriesList$.subscribe(r=>{if(1==r?.status){this.ref.detectChanges(),r?.data.forEach(o=>{o.newlevels=o?.levels.split(">")});let i=e.data.Category.filter(o=>r?.data.some(n=>n?.categoryId==o?.categoryId));this.ref.detectChanges(),i.forEach(o=>{o.newlevels=o.levels.split(">"),this.addCategories(o)}),this.ref.detectChanges()}})))})}onKeyDown(e){e.ctrlKey&&"Slash"===e.code&&this.focusOnInput(),!e.ctrlKey&&"Slash"===e.code&&this.focusOnInput2()}focusOnInput(){this.inputField&&this.inputField.nativeElement.focus()}focusOnInput2(){this.inputField2&&this.inputField2.nativeElement.focus()}CategoriesApiList(){this.productsandbox.CategoriesList({}),this.subscriptions.add(this.productsandbox.CategoriesList$.subscribe(e=>{1==e?.status&&(this.ref.detectChanges(),e.data.forEach(r=>{r.newlevels=r.levels.split(">")}),this.categoriesList=e?.data,this.ref.detectChanges())}))}addCategories(e){const r={};this.categoriesList=this.categoriesList.filter(function(o){return o.categoryId!=e.categoryId}),this.ref.detectChanges(),this.rightarrayList.unshift({...e});const i=this.rightarrayList.filter(o=>!r[o.categoryId]&&(r[o.categoryId]=!0,!0));this.rightarrayList=i}removeCategories(e){this.categoriesList.push(e),this.rightarrayList=this.rightarrayList.filter(function(r){return r.categoryId!==e.categoryId})}setData(e){const r=e;r.items=this.rightarrayList,this.dataService.setData(r)}Next(){let e=[];this.rightarrayList.forEach(r=>{e.push(r?.categoryId)}),this.dataService.setDatacategoriesRightArray(this.rightarrayList),this.dataService.setDatacategoriesLeftArray(this.categoriesList),this.setData(e),e.length>0?["",null,void 0].includes(this.editId)?(this.dataService.setObjPageRefresh(),this.route.navigate(["/new-catalog/products/product-details"],{queryParams:this.paramsValue})):(this.dataService.setObjPageRefresh(),this.route.navigate(["/new-catalog/products/product-details/",this.editId],{queryParams:this.paramsValue})):this.toster.error("Please choose the Categories")}resetServices(){this.dataService.setData([]),this.dataService.setDatacategoriesRightArray({}),this.dataService.setDatacategoriesLeftArray({}),this.dataService.setDataproductDetailsPagePrev({}),this.dataService.setDataProductDetails({}),this.dataService.setDataProductSeo({}),this.dataService.setPricingDetails({})}cancel(){this.resetServices(),this.route.navigate(["/new-catalog/products/list"],{queryParams:this.paramsValue})}openrejectedreasonmodal(e){const r=this.modalService.open(lt,{size:"xl",windowClass:"assignattributesmodal-categories",backdrop:"static",backdropClass:"createcr",centered:!0});r.componentInstance.rejectReason=e.rejectReason,r.componentInstance.productImage=e.productImage,r.componentInstance.productName=e.name}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(s.Bq),t.rXU(N.R),t.rXU(O.tw),t.rXU(u.Ix),t.rXU(u.nX),t.rXU(G.u),t.rXU(t.gRc),t.rXU(q.hE))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-categories"]],viewQuery:function(r,i){if(1&r&&(t.GBs(Ie,5),t.GBs(ye,5)),2&r){let o;t.mGM(o=t.lsd())&&(i.inputField=o.first),t.mGM(o=t.lsd())&&(i.inputField2=o.first)}},hostBindings:function(r,i){1&r&&t.bIt("keydown",function(n){return i.onKeyDown(n)},!1,t.tSv)},decls:87,vars:74,consts:[["inputField2",""],["inputField",""],[4,"ngIf"],[1,"product-add-container"],[1,"product-add-nav"],[1,"product-add-nav-col","current"],[1,"product-add-nav-col"],["class","product-add-nav-col",4,"ngIf"],[1,"product-add-section"],[1,"prodcut-add-categories"],[1,"prodcut-add-categories-col"],[1,"categories-heading"],[1,"input-group","categories-search"],[1,"ig-row"],["type","text","appNospace","",1,"search",3,"keydown","ngModelChange","placeholder","ngModel"],[1,"input-info"],[1,"product-categories-list"],["class","product-categories-list-row",3,"click",4,"ngFor","ngForOf"],["class","product-categories-list-row",4,"ngFor","ngForOf"],["class","product-category-list-empty",4,"ngIf"],[1,"product-save-btn"],[1,"cancel",3,"click"],[1,"save",3,"click"],["class","button-reg btn-sm cancel ms-auto",3,"click",4,"ngIf"],[1,"button-reg","btn-sm","cancel","ms-auto",3,"click"],[1,"product-categories-list-row",3,"click"],[1,"drag-icon"],["src","assets/imgs/drag.svg","alt",""],[1,"categories-list-txt"],[4,"ngFor","ngForOf"],[3,"click"],["src","assets/imgs/add-plus.svg","alt",""],["src","assets/imgs/caret-right.svg","alt","",4,"ngIf"],["src","assets/imgs/caret-right.svg","alt",""],[1,"product-categories-list-row"],["src","assets/imgs/minus.svg","alt",""],[1,"product-category-list-empty"],["src","assets/imgs/add-category.svg","alt",""]],template:function(r,i){if(1&r){const o=t.RV6();t.j41(0,"header")(1,"h1"),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"translate"),t.k0s(),t.DNE(6,Pe,2,1,"ng-container",2),t.nI1(7,"async"),t.k0s(),t.j41(8,"div",3)(9,"div",4)(10,"div",5)(11,"p"),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"h3"),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.j41(17,"div",6)(18,"p"),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.j41(21,"h3"),t.EFF(22),t.nI1(23,"translate"),t.k0s()(),t.j41(24,"div",6)(25,"p"),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.j41(28,"h3"),t.EFF(29),t.nI1(30,"translate"),t.k0s()(),t.DNE(31,ke,7,6,"div",7),t.j41(32,"div",6)(33,"p"),t.EFF(34),t.nI1(35,"translate"),t.k0s(),t.j41(36,"h3"),t.EFF(37),t.nI1(38,"translate"),t.k0s()()(),t.j41(39,"div",8)(40,"div",9)(41,"div",10)(42,"div",11)(43,"h4"),t.EFF(44),t.nI1(45,"translate"),t.k0s(),t.j41(46,"p"),t.EFF(47),t.nI1(48,"translate"),t.k0s()(),t.j41(49,"div",12)(50,"div",13)(51,"input",14,0),t.nI1(53,"translate"),t.bIt("keydown",function(l){return t.eBV(o),t.Njj(i.onKeyDown(l))}),t.mxI("ngModelChange",function(l){return t.eBV(o),t.DH7(i.keyword,l)||(i.keyword=l),t.Njj(l)}),t.k0s(),t.j41(54,"div",15),t.EFF(55," / "),t.k0s()()(),t.j41(56,"div",16),t.DNE(57,Fe,7,1,"div",17),t.nI1(58,"search"),t.k0s()(),t.j41(59,"div",10)(60,"div",11)(61,"h4"),t.EFF(62),t.nI1(63,"translate"),t.j41(64,"sup"),t.EFF(65,"*"),t.k0s()(),t.j41(66,"p"),t.EFF(67),t.nI1(68,"translate"),t.k0s()(),t.j41(69,"div",12)(70,"div",13)(71,"input",14,1),t.nI1(73,"translate"),t.bIt("keydown",function(l){return t.eBV(o),t.Njj(i.onKeyDown(l))}),t.mxI("ngModelChange",function(l){return t.eBV(o),t.DH7(i.rightKeyword,l)||(i.rightKeyword=l),t.Njj(l)}),t.k0s(),t.j41(74,"div",15),t.EFF(75," Ctrl + / "),t.k0s()()(),t.j41(76,"div",16),t.DNE(77,Re,7,1,"div",18),t.nI1(78,"search"),t.DNE(79,Ee,5,3,"div",19),t.k0s()()()()(),t.j41(80,"div",20)(81,"button",21),t.bIt("click",function(){return t.eBV(o),t.Njj(i.cancel())}),t.EFF(82),t.nI1(83,"translate"),t.k0s(),t.j41(84,"button",22),t.bIt("click",function(){return t.eBV(o),t.Njj(i.Next())}),t.EFF(85),t.nI1(86,"translate"),t.k0s()()}if(2&r){let o;t.R7$(2),t.JRh(i.editId?(null==(o=t.bMT(3,24,i.productsandbox.ProductUpdateDetails$))||null==o.data?null:o.data.name)+t.bMT(4,26,"common.edit"):t.bMT(5,28,"common.Create Product")),t.R7$(4),t.Y8G("ngIf",t.bMT(7,30,i.productsandbox.ProductUpdateDetails$)),t.R7$(6),t.JRh(t.bMT(13,32,"common.Current")),t.R7$(3),t.SpI("1. ",t.bMT(16,34,"common.Choose Categories"),""),t.R7$(4),t.JRh(t.bMT(20,36,"common.Yet to create")),t.R7$(3),t.SpI("2. ",t.bMT(23,38,"common.Product Details"),""),t.R7$(4),t.JRh(t.bMT(27,40,"common.Yet to create")),t.R7$(3),t.SpI("3. ",t.bMT(30,42,"common.Product Specification"),""),t.R7$(2),t.Y8G("ngIf",i.ProductSeo),t.R7$(3),t.JRh(t.bMT(35,44,"common.Yet to create")),t.R7$(3),t.SpI("5. ",t.bMT(38,46,"common.Pricing Setup"),""),t.R7$(7),t.JRh(t.bMT(45,48,"Catalog.product.AvailableCategories")),t.R7$(3),t.JRh(t.bMT(48,50,"Catalog.product.AvailableCategoriesDescription")),t.R7$(4),t.FS9("placeholder",t.bMT(53,52,"common.Search")),t.R50("ngModel",i.keyword),t.R7$(6),t.Y8G("ngForOf",t.brH(58,54,i.categoriesList,t.lJ4(72,pt),i.keyword)),t.R7$(5),t.SpI("",t.bMT(63,58,"Catalog.product.SelectedCategories")," "),t.R7$(5),t.JRh(t.bMT(68,60,"Catalog.product.SelectedCategoriesDescription")),t.R7$(4),t.FS9("placeholder",t.bMT(73,62,"common.Search")),t.R50("ngModel",i.rightKeyword),t.R7$(6),t.Y8G("ngForOf",t.brH(78,64,i.rightarrayList,t.lJ4(73,pt),i.rightKeyword)),t.R7$(2),t.Y8G("ngIf",0==(null==i.rightarrayList?null:i.rightarrayList.length)),t.R7$(3),t.JRh(t.bMT(83,68,"common.Cancel")),t.R7$(3),t.JRh(t.bMT(86,70,"common.Next"))}},dependencies:[g.Sq,g.bT,p.me,p.BC,U.B,p.vS,g.Jj,ve.R,y.D9]})}}return a})();var gt=d(1366),Me=d(3718),$e=d.n(Me),ht=d(2154);const Ve=["expandedVideoPlayer"],M=()=>["",null,void 0],z=a=>({active:a});function xe(a,c){if(1&a&&(t.qex(0),t.nrm(1,"img",14),t.bVm()),2&a){const e=t.XpG();t.R7$(),t.Y8G("src",e.imageUrls+"?path="+(null==e.image?null:e.image.containerName)+"&name="+(null==e.image?null:e.image.image)+"&width=500&height=500",t.B4B)}}function Ne(a,c){if(1&a&&t.nrm(0,"video",16,0),2&a){const e=t.XpG(2);t.Y8G("src",e.expandVideo,t.B4B)}}function Oe(a,c){if(1&a&&(t.qex(0),t.DNE(1,Ne,2,1,"video",15),t.bVm()),2&a){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.expandVideo)}}function Ge(a,c){if(1&a){const e=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(e);const i=t.XpG(),o=i.$implicit,n=i.index,l=t.XpG();return t.Njj(l.imageactive(n,o))}),t.nrm(1,"img",12),t.k0s()}if(2&a){const e=t.XpG(),r=e.$implicit,i=e.index,o=t.XpG();t.Y8G("ngClass",t.eq3(3,z,t.lJ4(2,M).includes(o.primaryActice)&&i==o.index)),t.R7$(),t.Y8G("src",o.imageUrls+"?path="+(null==r?null:r.containerName)+"&name="+(null==r?null:r.image)+"&width=132&height=132",t.B4B)}}function we(a,c){if(1&a&&(t.qex(0),t.DNE(1,Ge,2,5,"a",17),t.bVm()),2&a){const e=c.$implicit;t.R7$(),t.Y8G("ngIf",!t.lJ4(1,M).includes(null==e?null:e.image))}}function Le(a,c){if(1&a){const e=t.RV6();t.j41(0,"video",22,1),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.expandVideosData(i.video))}),t.k0s()}if(2&a){const e=t.XpG(2);t.Y8G("src",e.video,t.B4B)}}function Ue(a,c){if(1&a){const e=t.RV6();t.qex(0),t.j41(1,"div",18),t.DNE(2,Le,2,1,"video",19),t.j41(3,"a",20),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.expandVideosData(i.video))}),t.nrm(4,"img",21),t.k0s()(),t.bVm()}if(2&a){const e=t.XpG();t.R7$(),t.Y8G("ngClass",t.eq3(3,z,e.videoPlay&&!t.lJ4(2,M).includes(e.primaryActice))),t.R7$(),t.Y8G("ngIf",e.video)}}let Ae=(()=>{class a{constructor(e,r){this.activeModal=e,this.changeref=r,this.primaryActice="active",this.videoPlay=!1,this.primaryImageView=!0}ngOnInit(){this.imageUrls=j.c.imageUrl,this.image=this.primaryImage[0]}imageactive(e,r){this.index=e,this.primaryActice="",this.image=r,this.videoPlay=!1,this.primaryImageView=!1,this.changeref.detectChanges(),this.imageGallery=this.imageGallery}PrimaryImageChange(){this.videoPlay=!1,this.primaryImageView=!0,this.primaryActice="active",this.image=this.primaryImage[0]}expandVideosData(e){this.videoPlay=!0,this.primaryImageView=!1,this.primaryActice="active",this.expandVideo=e,setTimeout(()=>{this.expandedVideoPlayer&&this.expandedVideoPlayer.nativeElement&&this.expandedVideoPlayer.nativeElement.play()},0)}dismiss(){this.activeModal.close()}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(s.Lw),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-imagegallerymodal"]],viewQuery:function(r,i){if(1&r&&t.GBs(Ve,5),2&r){let o;t.mGM(o=t.lsd())&&(i.expandedVideoPlayer=o.first)}},decls:15,vars:12,consts:[["expandedVideoPlayer",""],["videoPlayer",""],[1,"modal-header"],[2,"text-transform","capitalize"],[1,"close-modal",3,"click"],["src","assets/imgs/close-modal.svg","alt",""],[1,"modal-body"],[1,"image-view-grid"],[1,"image-view-fullview"],[4,"ngIf"],[1,"image-view-sideview"],["href","javascript:void(0)",1,"image-view-col",3,"click","ngClass"],["alt","Product image",3,"src"],[4,"ngFor","ngForOf"],["alt","",3,"src"],["controls","","height","500",3,"src",4,"ngIf"],["controls","","height","500",3,"src"],["href","javascript:void(0)","class","image-view-col",3,"ngClass","click",4,"ngIf"],[1,"expand-video","image-view-col",3,"ngClass"],["height","150",3,"src","click",4,"ngIf"],["href","javascript:void(0)",1,"exapnd-video-image",3,"click"],["src","assets/imgs/play.svg"],["height","150",3,"click","src"]],template:function(r,i){1&r&&(t.j41(0,"div",2)(1,"h3",3),t.EFF(2),t.k0s(),t.j41(3,"button",4),t.bIt("click",function(){return i.dismiss()}),t.nrm(4,"img",5),t.k0s()(),t.j41(5,"div",6)(6,"div",7)(7,"div",8),t.DNE(8,xe,2,1,"ng-container",9)(9,Oe,2,1,"ng-container",9),t.k0s(),t.j41(10,"div",10)(11,"a",11),t.bIt("click",function(){return i.PrimaryImageChange()}),t.nrm(12,"img",12),t.k0s(),t.DNE(13,we,2,2,"ng-container",13)(14,Ue,5,5,"ng-container",9),t.k0s()()()),2&r&&(t.R7$(2),t.JRh(i.productName),t.R7$(6),t.Y8G("ngIf",0==i.videoPlay),t.R7$(),t.Y8G("ngIf",!t.lJ4(7,M).includes(i.expandVideo)&&i.videoPlay),t.R7$(2),t.Y8G("ngClass",t.eq3(9,z,!t.lJ4(8,M).includes(i.primaryActice)&&i.primaryImageView)),t.R7$(),t.Y8G("src",i.imageUrls+"?path="+(null==i.primaryImage[0]?null:i.primaryImage[0].containerName)+"&name="+(null==i.primaryImage[0]?null:i.primaryImage[0].image)+"&width=300&height=300",t.B4B),t.R7$(),t.Y8G("ngForOf",i.imageGallery),t.R7$(),t.Y8G("ngIf",!t.lJ4(11,M).includes(i.video)))},dependencies:[g.YU,g.Sq,g.bT]})}}return a})();var ft=d(7722),$=d(2102),k=d(5084),K=d(9631),bt=d(5967);const Ye=a=>({"error-field":a}),_t=a=>({disabled:a}),Be=a=>({error_image:a}),A=()=>["",null,void 0];function Xe(a,c){1&a&&(t.j41(0,"div",10)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"h3"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()),2&a&&(t.R7$(2),t.JRh(t.bMT(3,2,"common.Yet to create")),t.R7$(3),t.SpI("4. ",t.bMT(6,4,"common.Seo"),""))}function Je(a,c){1&a&&(t.j41(0,"div",46),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.ProductNameIsRequired")," "))}function qe(a,c){1&a&&(t.j41(0,"div",46),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ValidationsErrorMessage.Mimimumlengthshouldbe10characters")," "))}function He(a,c){1&a&&(t.j41(0,"div",46),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ValidationsErrorMessage.Onlyalphabetsnumbersspaceshyphensandunderscoresareallowed")," "))}function ze(a,c){1&a&&(t.j41(0,"div",47),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"CommonContent.Productavailablefromisrequired")," "))}function Ke(a,c){1&a&&(t.j41(0,"div",47),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.SKUnumberisrequired")," "))}function Qe(a,c){1&a&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"common.InventoryDescription")))}function We(a,c){1&a&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"CommonContent.inventory")))}function Ze(a,c){1&a&&(t.j41(0,"div",47),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Inventoryisrequired")," "))}function ti(a,c){1&a&&(t.j41(0,"div",48),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Productdescriptionisrequired")," "))}function ei(a,c){1&a&&(t.j41(0,"div",49),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.productHighlightserror")," "))}function ii(a,c){if(1&a&&(t.j41(0,"div",50),t.nrm(1,"img",51),t.j41(2,"p"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&a){const e=t.XpG(),r=t.sdS(134);t.R7$(),t.Y8G("src",e.assets/e.imgs/e.add-r.svg,t.B4B),t.R7$(2),t.JRh(t.bMT(4,2,"common.ImageRequired"))}}function ai(a,c){if(1&a&&(t.qex(0),t.nrm(1,"img",51),t.bVm()),2&a){const e=c.$implicit,r=t.XpG(2);t.R7$(),t.Y8G("src",r.imageUrls+"?path="+(null==e?null:e.containerName)+"&name="+(null==e?null:e.image)+"&width=400&height=400",t.B4B)}}function ri(a,c){if(1&a&&t.DNE(0,ai,2,1,"ng-container",52),2&a){const e=t.XpG();t.Y8G("ngForOf",e.primaryImgae)}}function oi(a,c){1&a&&(t.qex(0),t.nrm(1,"img",62),t.bVm())}function ni(a,c){if(1&a&&t.nrm(0,"img",51),2&a){const e=t.XpG().$implicit,r=t.XpG(2);t.Y8G("src",r.imageUrls+"?path="+e.containerName+"&name="+e.image+"&width=162&height=162",t.B4B)}}function si(a,c){if(1&a){const e=t.RV6();t.j41(0,"div",63)(1,"a",64),t.bIt("click",function(){t.eBV(e);const i=t.XpG(3);return t.Njj(i.openexpandimage())}),t.nrm(2,"img",65),t.k0s(),t.j41(3,"a",66),t.bIt("click",function(){t.eBV(e);const i=t.XpG(),o=i.$implicit,n=i.index,l=t.XpG(2);return t.Njj(l.imageremove(n,o))}),t.nrm(4,"img",67),t.k0s()()}}function ci(a,c){if(1&a){const e=t.RV6();t.j41(0,"div",54)(1,"div",61),t.bIt("click",function(){const i=t.eBV(e).index,o=t.XpG(2);return t.Njj(o.uploadProductImages(i))}),t.k0s(),t.DNE(2,oi,2,0,"ng-container",28)(3,ni,1,1,"ng-template",null,4,t.C5r)(5,si,5,0,"div",60),t.k0s()}if(2&a){const e=c.$implicit,r=t.sdS(4);t.R7$(2),t.Y8G("ngIf",t.lJ4(3,A).includes(null==e?null:e.image))("ngIfElse",r),t.R7$(3),t.Y8G("ngIf",!t.lJ4(4,A).includes(null==e?null:e.image))}}function li(a,c){1&a&&(t.j41(0,"div",68),t.nrm(1,"app-loader"),t.k0s())}function di(a,c){1&a&&t.nrm(0,"img",69)}function ui(a,c){1&a&&(t.j41(0,"div",70),t.nrm(1,"img",71),t.k0s())}function pi(a,c){if(1&a&&t.nrm(0,"video",72,5),2&a){const e=t.XpG(2);t.Y8G("src",e.videourl,t.B4B)}}function mi(a,c){if(1&a){const e=t.RV6();t.j41(0,"div",63)(1,"a",64),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.openexpandimage())}),t.nrm(2,"img",65),t.k0s(),t.j41(3,"a",66),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.videoRemove(i.i))}),t.nrm(4,"img",67),t.k0s()()}}function gi(a,c){if(1&a){const e=t.RV6();t.qex(0),t.DNE(1,ci,6,5,"div",53),t.j41(2,"div",54),t.DNE(3,li,2,0,"div",55),t.nI1(4,"async"),t.j41(5,"input",56),t.bIt("click",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.clearFileInput(i))})("change",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.uploadVideo(i))}),t.k0s(),t.DNE(6,di,1,0,"img",57),t.nI1(7,"async"),t.DNE(8,ui,2,0,"div",58)(9,pi,2,1,"video",59)(10,mi,5,0,"div",60),t.k0s(),t.bVm()}if(2&a){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.uploadImage),t.R7$(2),t.Y8G("ngIf",t.bMT(4,6,e.productsandbox.ProductVideoUploadLoading$)),t.R7$(3),t.Y8G("ngIf",!e.videourl&&!t.bMT(7,8,e.productsandbox.ProductVideoUploadLoading$)),t.R7$(2),t.Y8G("ngIf",!t.lJ4(10,A).includes(e.videourl)),t.R7$(),t.Y8G("ngIf",e.videourl),t.R7$(),t.Y8G("ngIf",!t.lJ4(11,A).includes(e.videourl))}}let vt=(()=>{class a{constructor(e,r,i,o,n,l,h,f,et,it,at,rt){this.formBuilder=e,this.productServices=r,this.dataService=i,this.titleService=o,this.ref=n,this.popup=l,this.modalService=h,this.route=f,this.router=et,this.productsandbox=it,this.toster=at,this.configService=rt,this.subscriptions=new _.yU,this.submit=!1,this.uploadImage=[],this.dummyImage=[],this.primaryImgae=[],this.ProductSeo=C.rh.length>0,this.editor=$e(),this.paramsValue={},this.titleService.setTitle("Products"),this.config=this.configService.getEditorConfig()}ngOnInit(){this.editId=this.router.snapshot.params.id,this.refreshStatus=this.dataService.getObjPageRefresh(),0==this.refreshStatus&&(["",null,void 0].includes(this.editId)?this.route.navigate(["/new-catalog/products/categories"]):this.route.navigate(["/new-catalog/products/categories",this.editId],{})),this.formFields(),this.imageUrls=j.c.imageUrl,this.imagebinding();const e=r=>0===Object.entries(r).length;"productDetailprevbutton"==this.dataService.getrproductDetailsPagePrev()?(this.getDatasss(),["",null,void 0].includes(this.editId)||(this.productsandbox.ProductUpdateDetails(this.editId),this.subscriptions.add(this.productsandbox.ProductUpdateDetails$.subscribe(r=>{1==r?.status&&r?.data&&(this.editDetails=r?.data)})))):"productDetailsname"==this.dataService.getrproductDetailsPagePrev()?["",null,void 0].includes(this.editId)?(this.minDate=new Date,this.getDatasss()):0==e(this.dataService.getDataProductDetails())?(this.getDatasss(),this.subscriptions.add(this.productsandbox.ProductUpdateDetails$.subscribe(i=>{1==i?.status&&i?.data&&(this.editDetails=i?.data)}))):this.updateDetailsGetApi():1==e(this.dataService.getrproductDetailsPagePrev())&&(["",null,void 0].includes(this.editId)||this.updateDetailsGetApi()),this.routeSubscribe()}routeSubscribe(){this.router.queryParams.subscribe(e=>{this.paramsValue=e})}ulpoadAdapterDrop(e){e.plugins.get("FileRepository").createUploadAdapter=(r,i)=>new ht.A(r,i)}imagebinding(){let e=[];for(let r=0;r<9;r++)e.push({});this.uploadImage=e}decodeHtml(e){const r=document.createElement("textarea");return r.innerHTML=e,r.value.replace(/<\/?[^>]+(>|$)/g,"")}updateDetailsGetApi(){this.productsandbox.ProductUpdateDetails(this.editId),this.subscriptions.add(this.productsandbox.ProductUpdateDetails$.subscribe(e=>{if(1==e?.status&&e?.data){if(this.editDetails=e?.data,this.minDate=e?.data?.dateAvailable,this.ref.detectChanges(),this.myForm.controls.productName.setValue(e?.data?.name),this.myForm.controls.skuNumber.setValue(e?.data?.sku),this.myForm.controls.inventory.setValue(e?.data?.quantity),this.myForm.controls.fromDateValid.setValue(e?.data?.dateAvailable),["",null,void 0].includes(e?.data?.description)||this.myForm.controls.productDescription.setValue(this.htmlTagConversion(e?.data?.description)),!["",null,void 0].includes(e?.data?.productHighlights[0]?.data)){const n=e?.data?.productHighlights.map(l=>l.data).join("");this.myForm.controls.productHighlights.setValue(this.htmlTagConversion(n))}if(["",null,void 0].includes(e?.data?.productVideo?.path))this.videourl="";else{let n={name:e?.data?.productVideo.name,path:e?.data?.productVideo.path};this.productServices.videoView(n),this.productServices.videoView(n).subscribe(l=>{if(l){const h=new FileReader;h.onload=f=>{this.videourl=f.target.result},h.readAsDataURL(l)}})}this.imagebinding(),this.dummyImage=e?.data?.productImage;let r=e?.data?.productImage,i=r.filter(n=>1!=n?.defaultImage);r.filter(n=>1==n?.defaultImage).forEach(n=>{"create"!=n.status&&(this.primaryImgae[0]=n)}),this.dummyImage&&i.forEach((n,l)=>{"create"!=n.status&&(this.uploadImage[l]=n)})}}))}getDatasss(){let e=this.dataService.getDataProductDetails();if(this.myForm.controls.productName.setValue(e.productName),this.myForm.controls.skuNumber.setValue(e.skuNumber),this.myForm.controls.inventory.setValue(e.inventory),this.myForm.controls.fromDateValid.setValue(e.fromDateValid),this.myForm.controls.productDescription.setValue(e.productDescription),this.myForm.controls.productHighlights.setValue(e.productHighlights),e?.image){this.dummyImage=e.dummyImage;let r=e.dummyImage,i=r.filter(n=>1!=n.defaultImage);r.filter(n=>1==n.defaultImage).forEach(n=>{this.primaryImgae[0]=n}),this.dummyImage&&i.forEach((n,l)=>{this.uploadImage[l]=n})}e?.video&&(this.videourl=e?.video)}formFields(){this.myForm=this.formBuilder.group({productName:["",[p.k0.required]],skuNumber:["",p.k0.required],inventory:["",[p.k0.required]],productDescription:["",[p.k0.required]],productHighlights:["",[p.k0.required]],fromDateValid:[null,[p.k0.required]]})}imageremove(e,r){this.uploadImage[e]={},this.dummyImage.forEach((i,o)=>{i.image==r.image&&this.dummyImage.splice(o,1)})}uploadimageprimary(){const e=this.popup.open(gt.q,{backdrop:"static",keyboard:!1,size:"lg",windowClass:"image-manager"});e.componentInstance.imageLimit=9,e.result.then(r=>{r&&r.length>0&&r.forEach(o=>{if(o)if(o.defaultImage=1,o.status="create",this.primaryImgae[0]=o,this.imageError="",["",null,void 0].includes(this.editId))this.dummyImage.forEach((n,l)=>{1==n.defaultImage&&(this.dummyImage[l]=o)});else if(-1==this.dummyImage.findIndex(n=>1==n.defaultImage))this.dummyImage[0]=o;else{let n=this.dummyImage.findIndex(l=>1==l.defaultImage);this.dummyImage[n]=o}})})}convertToBase64(e,r){const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{const o=i.result;this.productsandbox.ProductVideoUpload(r),this.subscriptions.add(this.productsandbox.ProductVideoUploadFailed$.subscribe(n=>{n&&(this.videourl="",this.toster.error("Not Able To Update as The File Size Is Too Large."))})),this.subscriptions.add(this.productsandbox.ProductVideoUpload$.subscribe(n=>{1==n?.status&&(this.videodetails={image:n.data.image,path:n.data.path},this.videourl=o)}))},i.onerror=o=>{}}clearFileInput(e){e.target.value=""}uploadVideo(e){let r=e.target.files[0]?.type.split("/")[1];if(Math.round(e.target.files[0].size/1024)>j.c?.videoUpload)return void this.toster.error("Please video image below 4MB");const o=e.target.files[0];if(o&&["mp4","x-msvideo","avi"].includes(r)){const n={};n.file=e.target.files[0].name,n.path="";const l=new FormData;l.append("file",e.target.files[0],e.target.files[0].name),this.convertToBase64(o,l)}else this.toster.error("Please upload valid video file")}uploadProductImages(e){const r=this.popup.open(gt.q,{backdrop:"static",keyboard:!1,size:"xl",windowClass:"image-manager"});r.componentInstance.imageLimit=this.dummyImage.length,r.result.then(i=>{i&&i.length>0&&i.forEach(n=>{n.status="create",n&&(n.defaultImage=0,this.dummyImage.push(n),this.dummyImage.filter(h=>1!=h.defaultImage).forEach((h,f)=>{this.uploadImage[f]=h}))})})}imageupload(e){let i=e.target.files[0].type.split("/")[1];["png","jpeg","jpg","svg","svg+xml"].includes(i)}videoRemove(){this.videourl=null,this.videodetails={}}setData(e){var r=e;r.image=this.uploadImage,r.dummyImage=this.dummyImage,r.video=this.videourl,r.videoDetails=this.videodetails,this.dataService.setDataProductDetails(r)}prev(){["",null,void 0].includes(this.editId)?(this.dataService.setDataproductDetailsPagePrev("productDetailsname"),this.route.navigate(["/new-catalog/products/categories"],{queryParams:this.paramsValue})):(this.dataService.setDataproductDetailsPagePrev("productDetailsname"),this.route.navigate(["/new-catalog/products/categories",this.editId],{queryParams:this.paramsValue}))}onSubmit(){this.submit=!0,0==this.primaryImgae?.length&&(this.imageError="Please upload  image"),this.myForm.valid&&(this.primaryImgae?.length>0?(this.primaryImgae?.length>0&&["",null,void 0].includes(this.editId)&&this.dummyImage.push(this.primaryImgae[0]),this.setData(this.myForm.value),["",null,void 0].includes(this.editId)?this.route.navigate(["/new-catalog/products/specification"],{queryParams:this.paramsValue}):this.route.navigate(["/new-catalog/products/specification",this.editId,this.editDetails?.name],{queryParams:this.paramsValue})):this.imageError="Please upload  image")}resetServices(){this.dataService.setData([]),this.dataService.setDatacategoriesRightArray({}),this.dataService.setDatacategoriesLeftArray({}),this.dataService.setDataproductDetailsPagePrev({}),this.dataService.setDataProductDetails({}),this.dataService.setPricingDetails({}),this.dataService.setDataProductSeo({})}cancel(){this.resetServices(),this.route.navigate(["/new-catalog/products/list"],{queryParams:this.paramsValue})}htmlTagConversion(e){let r=e.replace(/&amp;amp;/g,"&").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&sbquo;/g,"\u201a").replace(/&#61;/g,"=").replace(/&#45;/g,"-").replace(/&hellip;/g,"\u2026").replace(/&commat;/g,"@").replace(/&copy;/g,"\xa9").replace(/&#35;/g,"#").replace(/&ldquo;/g,"\u201c").replace(/&rsquo;/g,"\u2019").replace(/&lsquo;/g,"\u2018").replace(/&trade;/g,"\u2122").replace(/&reg;/g,"\xae").replace(/&ndash;/g,"\u2013").replace(/&eacute;/g,"\xe9").replace(/&euro;/g,"\u20ac").replace(/&pound;/g,"\xa3").replace(/&nbsp;/g," ").replace(/&hyphen;/g,"\u2010");return r=r.replace(/[\u200B-\u200D\uFEFF]/g,""),r=r.replace(/[\r\n]+/g," "),r=r.trim(),r}ngOnDestroy(){this.subscriptions.unsubscribe()}openexpandimage(){const e=this.modalService.open(Ae,{size:"sm",windowClass:"imageviewerModal",backdrop:"static",backdropClass:"createcr",modalDialogClass:"modal-dialog-centered"});e.componentInstance.imageGallery=this.uploadImage,e.componentInstance.primaryImage=this.primaryImgae,e.componentInstance.productName=this.myForm.value.productName,e.componentInstance.video=this.videourl}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(p.ze),t.rXU(ft.H),t.rXU(G.u),t.rXU(q.hE),t.rXU(t.gRc),t.rXU(s.Bq),t.rXU(s.Bq),t.rXU(u.Ix),t.rXU(u.nX),t.rXU(N.R),t.rXU(O.tw),t.rXU(ht.w))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-product-details"]],decls:146,vars:123,consts:[["productInput",""],["dp1",""],["otherContent",""],["image",""],["nn",""],["videoPlayer",""],[1,"product-add-container"],[1,"product-add-nav"],[1,"product-add-nav-col","completed"],[1,"product-add-nav-col","current"],[1,"product-add-nav-col"],["class","product-add-nav-col",4,"ngIf"],[1,"product-add-section"],[1,"inner-heading"],[3,"ngSubmit","formGroup"],[1,"details-row2"],[1,"input-group","mb-35"],[1,"ig-row"],["type","text","maxlength","140","formControlName","productName","appNospace","",3,"placeholder","ngClass"],[1,"text-count"],["class","error","style","position: absolute;bottom: 0;color: red;font-size: 13px;",4,"ngIf"],[1,"ig-row",2,"bottom","20px !important"],[1,"floating-date"],["matInput","","formControlName","fromDateValid","readonly","",3,"matDatepicker"],["matSuffix","",3,"for"],["class","error","style","position: absolute;top: 100%;color: red;font-size: 13px;",4,"ngIf"],[1,"input-group","mb-35",3,"ngClass"],["type","text","formControlName","skuNumber","appNospace","","placeholder","Enter SKU Number"],[4,"ngIf","ngIfElse"],["type","number","formControlName","inventory","appNospace","","placeholder","Enter Inventory"],[1,"input-group","mb-4"],["formControlName","productDescription","placeholder","common.Product Description",3,"ready","editor","config"],["class","error","style","position: absolute;bottom: -23px;color: red;font-size: 13px;",4,"ngIf"],["formControlName","productHighlights",3,"ready","editor","config"],["class","error","style","position: absolute;bottom: -21px;color: red;font-size: 13px;",4,"ngIf"],[1,"input-group"],[1,"photo-video-section",2,"cursor","pointer"],[1,"photo-video-col","grid-center","position-relative",3,"click","ngClass"],["type","text","accept",".png,.jpeg,jpg,svg,.mp4",1,"position-absolute","opacity-0","inset-0","h-100","w-100","cursor-pointer",2,"cursor","pointer"],[1,"set-primary"],["class","product-category-list-empty",4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"product-save-btn"],[1,"cancel",3,"click"],[1,"prev",3,"click"],[1,"save",3,"click"],[1,"error",2,"position","absolute","bottom","0","color","red","font-size","13px"],[1,"error",2,"position","absolute","top","100%","color","red","font-size","13px"],[1,"error",2,"position","absolute","bottom","-23px","color","red","font-size","13px"],[1,"error",2,"position","absolute","bottom","-21px","color","red","font-size","13px"],[1,"product-category-list-empty"],["alt","",3,"src"],[4,"ngFor","ngForOf"],["class","photo-video-col grid-center",4,"ngFor","ngForOf"],[1,"photo-video-col","grid-center"],["class","loading",4,"ngIf"],["type","file","accept",".mp4",1,"position-absolute","opacity-0","inset-0","h-100","w-100","cursor-pointer",2,"cursor","pointer",3,"click","change"],["src","assets/imgs/add-video.svg","alt","",4,"ngIf"],["class","video-ico",4,"ngIf"],["height","150",3,"src",4,"ngIf"],["class","photo-video-hover",4,"ngIf"],[2,"position","absolute","inset","0","width","100%","height","100%",3,"click"],["src","assets/imgs/add-image.svg","alt",""],[1,"photo-video-hover"],["href","javascript:void(0)",1,"image-expand",3,"click"],["src","assets/imgs/expand.svg","alt",""],["href","javascript:void(0)",3,"click"],["src","assets/imgs/trash-new.svg","alt",""],[1,"loading"],["src","assets/imgs/add-video.svg","alt",""],[1,"video-ico"],["src","assets/imgs/play.svg","alt",""],["height","150",3,"src"]],template:function(r,i){if(1&r){const o=t.RV6();t.j41(0,"header")(1,"h1"),t.EFF(2),t.nI1(3,"translate"),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"div",6)(6,"div",7)(7,"div",8)(8,"p"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"h3"),t.EFF(12),t.nI1(13,"translate"),t.k0s()(),t.j41(14,"div",9)(15,"p"),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.j41(18,"h3"),t.EFF(19),t.nI1(20,"translate"),t.k0s()(),t.j41(21,"div",10)(22,"p"),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.j41(25,"h3"),t.EFF(26),t.nI1(27,"translate"),t.k0s()(),t.DNE(28,Xe,7,6,"div",11),t.j41(29,"div",10)(30,"p"),t.EFF(31),t.nI1(32,"translate"),t.k0s(),t.j41(33,"h3"),t.EFF(34),t.nI1(35,"translate"),t.k0s()()(),t.j41(36,"div",12)(37,"div",13)(38,"h3"),t.EFF(39),t.nI1(40,"translate"),t.k0s(),t.j41(41,"p"),t.EFF(42),t.nI1(43,"translate"),t.k0s()(),t.j41(44,"form",14),t.bIt("ngSubmit",function(){return t.eBV(o),t.Njj(i.onSubmit())}),t.j41(45,"div",15)(46,"div",16)(47,"label"),t.EFF(48),t.nI1(49,"translate"),t.j41(50,"p"),t.EFF(51),t.nI1(52,"translate"),t.k0s()(),t.j41(53,"div",17),t.nrm(54,"input",18,0),t.nI1(56,"translate"),t.j41(57,"div",19)(58,"span"),t.EFF(59),t.k0s()()(),t.DNE(60,Je,3,3,"div",20)(61,qe,3,3,"div",20)(62,He,3,3,"div",20),t.k0s(),t.j41(63,"div",16)(64,"label"),t.EFF(65),t.nI1(66,"translate"),t.j41(67,"p"),t.EFF(68),t.nI1(69,"translate"),t.k0s()(),t.j41(70,"div",21)(71,"mat-form-field",22),t.nrm(72,"input",23)(73,"mat-datepicker-toggle",24)(74,"mat-datepicker",null,1)(76,"mat-error"),t.k0s(),t.DNE(77,ze,3,3,"div",25),t.k0s()()(),t.j41(78,"div",15)(79,"div",26)(80,"label"),t.EFF(81),t.nI1(82,"translate"),t.j41(83,"p"),t.EFF(84),t.nI1(85,"translate"),t.k0s()(),t.j41(86,"div",17),t.nrm(87,"input",27),t.k0s(),t.DNE(88,Ke,3,3,"div",25),t.k0s(),t.j41(89,"div",26)(90,"label"),t.EFF(91),t.nI1(92,"translate"),t.DNE(93,Qe,3,3,"p",28)(94,We,3,3,"ng-template",null,2,t.C5r),t.k0s(),t.j41(96,"div",17),t.nrm(97,"input",29),t.k0s(),t.DNE(98,Ze,3,3,"div",25),t.k0s()(),t.j41(99,"div",30)(100,"label"),t.EFF(101),t.nI1(102,"translate"),t.j41(103,"p"),t.EFF(104),t.nI1(105,"translate"),t.k0s()(),t.j41(106,"div",17)(107,"ckeditor",31),t.bIt("ready",function(l){return t.eBV(o),t.Njj(i.ulpoadAdapterDrop(l))}),t.k0s()(),t.DNE(108,ti,3,3,"div",32),t.k0s(),t.j41(109,"div",30)(110,"label"),t.EFF(111),t.nI1(112,"translate"),t.j41(113,"p"),t.EFF(114),t.nI1(115,"translate"),t.k0s()(),t.j41(116,"div",17)(117,"ckeditor",33),t.bIt("ready",function(l){return t.eBV(o),t.Njj(i.ulpoadAdapterDrop(l))}),t.k0s()(),t.DNE(118,ei,3,3,"div",34),t.k0s()(),t.j41(119,"div",35)(120,"label"),t.EFF(121),t.nI1(122,"translate"),t.j41(123,"p"),t.EFF(124),t.nI1(125,"translate"),t.k0s()(),t.j41(126,"div",36)(127,"div",37),t.bIt("click",function(){return t.eBV(o),t.Njj(i.uploadimageprimary())}),t.nrm(128,"input",38),t.j41(129,"span",39),t.EFF(130),t.nI1(131,"translate"),t.k0s(),t.DNE(132,ii,5,4,"div",40)(133,ri,1,1,"ng-template",null,3,t.C5r),t.k0s(),t.DNE(135,gi,11,12,"ng-container",41),t.k0s()()()(),t.j41(136,"div",42)(137,"button",43),t.bIt("click",function(){return t.eBV(o),t.Njj(i.cancel())}),t.EFF(138),t.nI1(139,"translate"),t.k0s(),t.j41(140,"button",44),t.bIt("click",function(){return t.eBV(o),t.Njj(i.prev())}),t.EFF(141),t.nI1(142,"translate"),t.k0s(),t.j41(143,"button",45),t.bIt("click",function(){return t.eBV(o),t.Njj(i.onSubmit())}),t.EFF(144),t.nI1(145,"translate"),t.k0s()()}if(2&r){const o=t.sdS(55),n=t.sdS(75),l=t.sdS(95),h=t.sdS(134);t.R7$(2),t.JRh(i.editId?(null==i.editDetails?null:i.editDetails.name)+t.bMT(3,55,"common.edit"):t.bMT(4,57,"common.Create Product")),t.R7$(7),t.JRh(t.bMT(10,59,"common.Completed")),t.R7$(3),t.SpI("1. ",t.bMT(13,61,"common.Choose Categories"),""),t.R7$(4),t.JRh(t.bMT(17,63,"common.Current")),t.R7$(3),t.SpI("2. ",t.bMT(20,65,"common.Product Details"),""),t.R7$(4),t.JRh(t.bMT(24,67,"common.Yet to create")),t.R7$(3),t.SpI("3. ",t.bMT(27,69,"common.Product Specification"),""),t.R7$(2),t.Y8G("ngIf",1==i.ProductSeo),t.R7$(3),t.JRh(t.bMT(32,71,"common.Yet to create")),t.R7$(3),t.SpI("5. ",t.bMT(35,73,"common.Pricing Setup"),""),t.R7$(5),t.JRh(t.bMT(40,75,"common.PRODUCT DETAILS")),t.R7$(3),t.JRh(t.bMT(43,77,"common.ProductDetailsContent")),t.R7$(2),t.Y8G("formGroup",i.myForm),t.R7$(4),t.SpI(" ",t.bMT(49,79,"common.Product Name")," * "),t.R7$(3),t.JRh(t.bMT(52,81,"common.ProductNameLabel")),t.R7$(3),t.FS9("placeholder",t.bMT(56,83,"common.Enter Product Name")),t.Y8G("ngClass",t.eq3(115,Ye,i.myForm.controls.productName.hasError("required")||0==i.myForm.value.productPrice&&!i.myForm.controls.productName.hasError("required"))),t.R7$(5),t.SpI("",null==o||null==o.value?null:o.value.length,"/140"),t.R7$(),t.Y8G("ngIf",i.myForm.controls.productName.hasError("required")&&1==i.submit),t.R7$(),t.Y8G("ngIf",i.myForm.get("productName").hasError("minlength")),t.R7$(),t.Y8G("ngIf",i.myForm.controls.productName.hasError("pattern")),t.R7$(3),t.SpI(" ",t.bMT(66,85,"CommonContent.Product Available From")," * "),t.R7$(3),t.SpI(" ",t.bMT(69,87,"CommonContent.dateProduct"),""),t.R7$(4),t.Y8G("matDatepicker",n),t.R7$(),t.Y8G("for",n),t.R7$(4),t.Y8G("ngIf",i.myForm.controls.fromDateValid.hasError("required")&&1==i.submit),t.R7$(2),t.Y8G("ngClass",t.eq3(117,_t,0==(null==i.editDetails?null:i.editDetails.isSimplified))),t.R7$(2),t.SpI(" ",t.bMT(82,89,"common.SKUNumber")," * "),t.R7$(3),t.JRh(t.bMT(85,91,"common.SKUDescription")),t.R7$(4),t.Y8G("ngIf",i.myForm.controls.skuNumber.hasError("required")&&1==i.submit),t.R7$(),t.Y8G("ngClass",t.eq3(119,_t,0==(null==i.editDetails?null:i.editDetails.isSimplified))),t.R7$(2),t.SpI(" ",t.bMT(92,93,"common.Inventory")," * "),t.R7$(2),t.Y8G("ngIf",0!==(null==i.editDetails?null:i.editDetails.isSimplified))("ngIfElse",l),t.R7$(5),t.Y8G("ngIf",i.myForm.controls.inventory.hasError("required")&&1==i.submit),t.R7$(3),t.SpI(" ",t.bMT(102,95,"common.Product Description")," * "),t.R7$(3),t.JRh(t.bMT(105,97,"common.ProductDescriptionLabe")),t.R7$(3),t.Y8G("editor",i.editor)("config",i.config),t.R7$(),t.Y8G("ngIf",i.myForm.controls.productDescription.hasError("required")&&1==i.submit),t.R7$(3),t.SpI(" ",t.bMT(112,99,"common.productHighlights")," * "),t.R7$(3),t.JRh(t.bMT(115,101,"common.ProductDescriptionLabe")),t.R7$(3),t.Y8G("editor",i.editor)("config",i.config),t.R7$(),t.Y8G("ngIf",i.myForm.controls.productHighlights.hasError("required")&&1==i.submit),t.R7$(3),t.SpI(" ",t.bMT(122,103,"common.Photos & Video")," * "),t.R7$(3),t.JRh(t.bMT(125,105,"common.P&V-Description")),t.R7$(3),t.Y8G("ngClass",t.eq3(121,Be,(null==i.imageError?null:i.imageError.length)>0)),t.R7$(3),t.JRh(t.bMT(131,107,"common.Primary")),t.R7$(2),t.Y8G("ngIf",0==i.primaryImgae.length)("ngIfElse",h),t.R7$(3),t.Y8G("ngIf",i.uploadImage.length>0),t.R7$(3),t.JRh(t.bMT(139,109,"common.Cancel")),t.R7$(3),t.JRh(t.bMT(142,111,"common.Previous")),t.R7$(3),t.JRh(t.bMT(145,113,"common.Next"))}},dependencies:[g.YU,g.Sq,g.bT,p.qT,p.me,p.Q0,p.BC,p.cb,p.tU,p.j4,p.JD,$.rl,$.TL,$.yw,k.Vh,k.bZ,k.bU,dt.V,K.fg,U.B,bt.h,g.Jj,y.D9],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.error_image[_ngcontent-%COMP%]{border:1px solid red}.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.7}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}}return a})();function hi(a,c){1&a&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Catalog.common.Priorityisrequired")," "))}function fi(a,c){1&a&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Catalog.common.Priceisrequired")," "))}function bi(a,c){if(1&a&&(t.j41(0,"div",19),t.EFF(1),t.k0s()),2&a){const e=t.XpG();t.R7$(),t.SpI(" ",e.errorMessage," ")}}function _i(a,c){1&a&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Catalog.common.Date Start is required")," "))}function vi(a,c){1&a&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Catalog.common.Date End is required")," "))}let Q=(()=>{class a{constructor(e,r,i){this.activeModal=e,this.modalService=r,this.formBuilder=i,this.submit=!1,this.errorMessage="",this.MinDate=new Date}formDiscountPrice(){this.formgroup=this.formBuilder.group({Priority:["",p.k0.required],Price:["",p.k0.required],DateStart:["",p.k0.required],DateEnd:["",p.k0.required]})}ngOnInit(){this.formDiscountPrice(),"SpecialPrice"==this.ActionName?(this.formgroup.controls.Priority.setValue(this.editValue?.specialPriority),this.formgroup.controls.Price.setValue(this.editValue?.specialPrice),this.formgroup.controls.DateStart.setValue(this.editValue?.specialDateStart),this.formgroup.controls.DateEnd.setValue(this.editValue?.specialDateEnd)):(this.formgroup.controls.Priority.setValue(this.editValue?.discountPriority),this.formgroup.controls.Price.setValue(this.editValue?.discountPrice),this.formgroup.controls.DateStart.setValue(this.editValue?.discountDateStart),this.formgroup.controls.DateEnd.setValue(this.editValue?.discountDateEnd)),this.MinDate=new Date,this.EndMinDate=this.editValue?.discountDateStart}dismiss(){this.activeModal.close()}save(){this.submit=!0,"VALID"==this.formgroup.status&&""==this.errorMessage&&this.activeModal.close({type:"success",formgroup:this.formgroup,ActionName:this.ActionName})}onDateChange(e){this.EndMinDate=e.value}pricechange(e){this.errorMessage=+this.getdata.price<=+e.target.value?"Price should be less than Product cost":""}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(s.Lw),t.rXU(s.Bq),t.rXU(p.ze))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-assign-discount-price"]],decls:79,vars:58,consts:[["dp1",""],["dp2",""],[1,"modal-heading"],[1,"modal-body"],[1,"sku-code"],[3,"formGroup"],[1,"details-row2"],[1,"input-group"],[1,"ig-row"],["type","number","formControlName","Priority","min","1","appNospace","",3,"placeholder"],["class","error","style","position: absolute;top: 100%;color: red;font-size: 13px;",4,"ngIf"],["type","number","formControlName","Price","appNospace","",3,"input","placeholder"],[1,"floating-date"],["matInput","","formControlName","DateStart",3,"dateChange","matDatepicker","min"],["matSuffix","",3,"for"],["matInput","","formControlName","DateEnd",3,"matDatepicker","min"],[1,"product-save-btn","modal-save-btn"],[1,"cancel",3,"click"],[1,"save",3,"click"],[1,"error",2,"position","absolute","top","100%","color","red","font-size","13px"]],template:function(r,i){if(1&r){const o=t.RV6();t.j41(0,"div",2)(1,"h3"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"p"),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"div",3)(8,"div",4),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"form",5)(12,"div",6)(13,"div",7)(14,"label"),t.EFF(15),t.nI1(16,"translate"),t.j41(17,"sup"),t.EFF(18,"*"),t.k0s(),t.j41(19,"p"),t.EFF(20),t.nI1(21,"translate"),t.k0s()(),t.j41(22,"div",8),t.nrm(23,"input",9),t.nI1(24,"translate"),t.k0s(),t.DNE(25,hi,3,3,"div",10),t.k0s(),t.j41(26,"div",7)(27,"label"),t.EFF(28),t.nI1(29,"translate"),t.j41(30,"sup"),t.EFF(31,"*"),t.k0s(),t.j41(32,"p"),t.EFF(33),t.nI1(34,"translate"),t.k0s()(),t.j41(35,"div",8)(36,"input",11),t.nI1(37,"translate"),t.bIt("input",function(l){return t.eBV(o),t.Njj(i.pricechange(l))}),t.k0s()(),t.DNE(38,fi,3,3,"div",10)(39,bi,2,1,"div",10),t.k0s(),t.j41(40,"div",7)(41,"label"),t.EFF(42),t.nI1(43,"translate"),t.j41(44,"sup"),t.EFF(45,"*"),t.k0s(),t.j41(46,"p"),t.EFF(47),t.nI1(48,"translate"),t.k0s()(),t.j41(49,"div",8)(50,"mat-form-field",12)(51,"input",13),t.bIt("dateChange",function(l){return t.eBV(o),t.Njj(i.onDateChange(l))}),t.k0s(),t.nrm(52,"mat-datepicker-toggle",14)(53,"mat-datepicker",null,0),t.k0s()(),t.DNE(55,_i,3,3,"div",10),t.k0s(),t.j41(56,"div",7)(57,"label"),t.EFF(58),t.nI1(59,"translate"),t.j41(60,"sup"),t.EFF(61,"*"),t.k0s(),t.j41(62,"p"),t.EFF(63),t.nI1(64,"translate"),t.k0s()(),t.j41(65,"div",8)(66,"mat-form-field",12),t.nrm(67,"input",15)(68,"mat-datepicker-toggle",14)(69,"mat-datepicker",null,1),t.k0s()(),t.DNE(71,vi,3,3,"div",10),t.k0s()()()(),t.j41(72,"div",16)(73,"button",17),t.bIt("click",function(){return t.eBV(o),t.Njj(i.dismiss())}),t.EFF(74),t.nI1(75,"translate"),t.k0s(),t.j41(76,"button",18),t.bIt("click",function(){return t.eBV(o),t.Njj(i.save())}),t.EFF(77),t.nI1(78,"translate"),t.k0s()()}if(2&r){const o=t.sdS(54),n=t.sdS(70);t.R7$(2),t.JRh(t.bMT(3,28,"Catalog.common.Assign Discount Price")),t.R7$(3),t.JRh(t.bMT(6,30,"Catalog.common.AssignDiscountDescription")),t.R7$(4),t.Lme("",t.bMT(10,32,"Catalog.common.SKU")," : ",null==i.getdata?null:i.getdata.sku,""),t.R7$(2),t.Y8G("formGroup",i.formgroup),t.R7$(4),t.SpI(" ",t.bMT(16,34,"Catalog.common.Priority")," "),t.R7$(5),t.JRh(t.bMT(21,36,"Catalog.common.PriorityDescription")),t.R7$(3),t.FS9("placeholder",t.bMT(24,38,"Catalog.common.EnterPriority")),t.R7$(2),t.Y8G("ngIf",i.formgroup.controls.Priority.hasError("required")&&1==i.submit),t.R7$(3),t.SpI(" ",t.bMT(29,40,"Catalog.common.Price")," "),t.R7$(5),t.JRh(t.bMT(34,42,"Catalog.common.PriceDescription")),t.R7$(3),t.FS9("placeholder",t.bMT(37,44,"Catalog.common.EnterPrice")),t.R7$(2),t.Y8G("ngIf",i.formgroup.controls.Price.hasError("required")&&1==i.submit),t.R7$(),t.Y8G("ngIf",i.errorMessage),t.R7$(3),t.SpI(" ",t.bMT(43,46,"Catalog.common.DateStart")," "),t.R7$(5),t.JRh(t.bMT(48,48,"Catalog.common.StartDateDescription")),t.R7$(4),t.Y8G("matDatepicker",o)("min",i.MinDate),t.R7$(),t.Y8G("for",o),t.R7$(3),t.Y8G("ngIf",i.formgroup.controls.DateStart.hasError("required")&&1==i.submit),t.R7$(3),t.SpI(" ",t.bMT(59,50,"Catalog.common.DateEnd")," "),t.R7$(5),t.JRh(t.bMT(64,52,"Catalog.common.EndDateDescription")),t.R7$(4),t.Y8G("matDatepicker",n)("min",i.EndMinDate),t.R7$(),t.Y8G("for",n),t.R7$(3),t.Y8G("ngIf",i.formgroup.controls.DateEnd.hasError("required")&&1==i.submit),t.R7$(3),t.JRh(t.bMT(75,54,"common.Cancel")),t.R7$(3),t.JRh(t.bMT(78,56,"common.Save"))}},dependencies:[g.bT,p.qT,p.me,p.Q0,p.BC,p.cb,p.VZ,p.j4,p.JD,$.rl,$.yw,k.Vh,k.bZ,k.bU,K.fg,U.B,y.D9],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]})}}return a})();var Y=d(6697),W=d(5558),Z=d(9437),Ii=d(980),D=d(7673);const tt=a=>({removeHandSymbol:a}),yi=a=>({"error-field":a}),Ci=()=>({standalone:!0});function Pi(a,c){1&a&&(t.j41(0,"div",3)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"h3"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()),2&a&&(t.R7$(2),t.JRh(t.bMT(3,2,"common.Completed")),t.R7$(3),t.SpI("4. ",t.bMT(6,4,"common.Seo"),""))}function ki(a,c){1&a&&(t.j41(0,"div",37),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Productcostisrequired")," "))}function Di(a,c){1&a&&(t.j41(0,"div",37),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Tax is required")," "))}function Si(a,c){if(1&a){const e=t.RV6();t.j41(0,"div",38)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"input",39),t.nI1(4,"translate"),t.bIt("input",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.TaxChange(i))}),t.k0s(),t.DNE(5,Di,3,3,"div",16),t.k0s()}if(2&a){const e=t.XpG();t.R7$(2),t.JRh(null==e.symbol?null:e.symbol.currencySymbol),t.R7$(),t.FS9("placeholder",t.bMT(4,3,"common.Tax")),t.R7$(2),t.Y8G("ngIf",e.DefaultPricemyForm.controls.Tax.hasError("required")&&1==e.submit)}}function Fi(a,c){if(1&a&&(t.j41(0,"ng-option",42),t.EFF(1),t.k0s()),2&a){const e=c.$implicit;t.Y8G("value",e),t.R7$(),t.Lme(" ",e.taxName,"-",e.taxPercentage,"")}}function Ti(a,c){if(1&a){const e=t.RV6();t.j41(0,"ng-select",40),t.mxI("ngModelChange",function(i){t.eBV(e);const o=t.XpG();return t.DH7(o.Percentageavlue,i)||(o.Percentageavlue=i),t.Njj(i)}),t.bIt("change",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.PercentageChange(i))}),t.DNE(1,Fi,2,3,"ng-option",41),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("searchable",!1),t.R50("ngModel",e.Percentageavlue),t.Y8G("ngModelOptions",t.lJ4(4,Ci)),t.R7$(),t.Y8G("ngForOf",e.taxList)}}function ji(a,c){1&a&&(t.j41(0,"div",37),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Total Cost is required")," "))}function Ri(a,c){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td",29),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.nI1(9,"date"),t.k0s(),t.j41(10,"td"),t.EFF(11),t.nI1(12,"date"),t.k0s(),t.j41(13,"td",29)(14,"div",43)(15,"button",44),t.nrm(16,"img",45),t.k0s(),t.j41(17,"div",46)(18,"h5"),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.j41(21,"a",47),t.bIt("click",function(){const i=t.eBV(e),o=i.$implicit,n=i.index,l=t.XpG();return t.Njj(l.editdiscountPrice(n,o,"discount"))}),t.nrm(22,"img",48),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.j41(25,"a",47),t.bIt("click",function(){const i=t.eBV(e).index,o=t.XpG();return t.Njj(o.deteleDiscountandspecial(i,"discount"))}),t.nrm(26,"img",49),t.EFF(27),t.nI1(28,"translate"),t.k0s()()()()()}if(2&a){const e=c.$implicit;t.R7$(2),t.JRh(null==e?null:e.skuName),t.R7$(2),t.JRh(e.discountPriority),t.R7$(2),t.SpI("$",e.discountPrice,""),t.R7$(2),t.SpI("",t.i5U(9,8,e.discountDateStart,"dd MMM yyyy")," "),t.R7$(3),t.JRh(t.i5U(12,11,e.discountDateEnd,"dd MMM yyyy")),t.R7$(8),t.JRh(t.bMT(20,14,"common.Actions")),t.R7$(4),t.SpI(" ",t.bMT(24,16,"common.Edit")," "),t.R7$(4),t.SpI(" ",t.bMT(28,18,"common.Delete")," ")}}function Ei(a,c){1&a&&(t.j41(0,"div",50)(1,"span"),t.nrm(2,"img",51),t.k0s(),t.j41(3,"h4"),t.EFF(4," No Discount Prices are added ! "),t.k0s()())}function Mi(a,c){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td",29),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"currencysymbol"),t.k0s(),t.j41(8,"td"),t.EFF(9),t.nI1(10,"date"),t.k0s(),t.j41(11,"td"),t.EFF(12),t.nI1(13,"date"),t.k0s(),t.j41(14,"td",29)(15,"div",43)(16,"button",44),t.nrm(17,"img",45),t.k0s(),t.j41(18,"div",46)(19,"h5"),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"a",47),t.bIt("click",function(){const i=t.eBV(e),o=i.$implicit,n=i.index,l=t.XpG();return t.Njj(l.editdiscountPrice(n,o,"special"))}),t.nrm(23,"img",48),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.j41(26,"a",47),t.bIt("click",function(){const i=t.eBV(e).index,o=t.XpG();return t.Njj(o.deteleDiscountandspecial(i,"special"))}),t.nrm(27,"img",49),t.EFF(28),t.nI1(29,"translate"),t.k0s()()()()()}if(2&a){const e=c.$implicit;t.R7$(2),t.JRh(null==e?null:e.skuName),t.R7$(2),t.JRh(e.specialPriority),t.R7$(2),t.JRh(t.bMT(7,8,e.specialPrice)),t.R7$(3),t.SpI("",t.i5U(10,10,e.specialDateStart,"dd MMM yyyy")," "),t.R7$(3),t.JRh(t.i5U(13,13,e.specialDateEnd,"dd MMM yyyy")),t.R7$(8),t.JRh(t.bMT(21,16,"common.Actions")),t.R7$(4),t.SpI(" ",t.bMT(25,18,"common.Edit")," "),t.R7$(4),t.SpI(" ",t.bMT(29,20,"common.Delete")," ")}}function $i(a,c){1&a&&(t.j41(0,"div",50)(1,"span"),t.nrm(2,"img",51),t.k0s(),t.j41(3,"h4"),t.EFF(4," No Special Prices are added ! "),t.k0s()())}function Vi(a,c){1&a&&(t.j41(0,"span"),t.nrm(1,"img",55),t.k0s())}function xi(a,c){if(1&a&&(t.qex(0,52),t.j41(1,"button",53),t.nI1(2,"async"),t.DNE(3,Vi,2,0,"span",54),t.nI1(4,"async"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.bVm()),2&a){const e=t.XpG();t.R7$(),t.Y8G("disabled",t.bMT(2,3,!e.productsandbox.ProducteditLoading)),t.R7$(2),t.Y8G("ngIf",t.bMT(4,5,e.productsandbox.ProducteditLoading)),t.R7$(2),t.SpI(" ",t.bMT(6,7,"common.Save"),"")}}function Ni(a,c){1&a&&(t.j41(0,"span"),t.nrm(1,"img",55),t.k0s())}function Oi(a,c){if(1&a){const e=t.RV6();t.j41(0,"button",56),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.onSubmit())}),t.DNE(2,Ni,2,0,"span",54),t.nI1(3,"async"),t.EFF(4),t.nI1(5,"translate"),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("disabled",t.bMT(1,3,!e.productsandbox.ProducteditLoading)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,5,e.productsandbox.ProducteditLoading)),t.R7$(2),t.SpI(" ",t.bMT(5,7,"common.Save"),"")}}let It=(()=>{class a{constructor(e,r,i,o,n,l,h,f){this.modalService=e,this.formBuilder=r,this.productsandbox=i,this.ref=o,this.dataService=n,this.route=l,this.router=h,this.seoServices=f,this.currency=JSON.parse(localStorage.getItem("adminCurrency")),this.submit=!1,this.buttonLoader=!1,this.buttonSubmit=!1,this.valuecheckbox=!0,this.taxList=[],this.showData=!1,this.valProductDetail={},this.valProductSeo={},this.discountpricearray=[],this.specialDiscountPriceArray=[],this.specificationDetails=[],this.symbol=JSON.parse(localStorage.getItem("vendor-settings")),this.ProductSeo=C.rh.length>0,this.subscribtion=new _.yU,this.paramsValue={}}ngOnInit(){this.editId=this.router.snapshot.params.id,this.refreshStatus=this.dataService.getObjPageRefresh(),0==this.refreshStatus&&(["",null,void 0].includes(this.editId)?this.route.navigate(["/new-catalog/products/categories"],{queryParams:this.paramsValue}):this.route.navigate(["/new-catalog/products/categories/",this.editId],{queryParams:this.paramsValue})),this.formFields(),this.formDiscountPrice(),this.formspecialPrice(),this.TaxApiList(),this.getDatasss(),["",null,void 0].includes(this.editId)||this.updateDetails();let e=JSON.parse(localStorage.getItem("vendorUserDetails"));this.vendorUserDetails=e,this.routeSubscribe()}routeSubscribe(){this.router.queryParams.subscribe(e=>{this.paramsValue=e})}caterogiessetDats(){let e=[];this.getupdateDetails?.Category.forEach((r,i)=>{e[i]=r.categoryId}),this.valcategories=e,this.dataService.setData(e)}getProductSeo(){}productdetailssetDats(){this.dataService.setDataProductDetails({productName:this.getupdateDetails.name,skuNumber:this.getupdateDetails.sku,inventory:this.getupdateDetails.quantity,productDescription:this.getupdateDetails.description,productHighlights:this.getupdateDetails.productHighlights,image:this.getupdateDetails.productImage,fromDateValid:this.getupdateDetails.dateAvailable,dummyImage:this.getupdateDetails?.productImage})}getDatasss(){this.valcategories=this.dataService.getData(),this.valProductDetail=this.dataService.getDataProductDetails(),this.pricingDetails=this.dataService.getPricingDetail();let e=this.dataService.getSpecificationData();this.specificationDetails=e?.specifications,this.valProductSeo=this.dataService.getProductSeo(),this.pricingDetails&&this.defaultpricigsetvalue()}isEmptyObject(e){return 0===Object.keys(e).length}updateDetails(){this.productsandbox.ProductUpdateDetails(this.editId),this.subscribtion.add(this.productsandbox.ProductUpdateDetails$.subscribe(e=>{if(1==e?.status){let r;if(this.getupdateDetails=e?.data,1==this.isEmptyObject(this.valProductDetail)&&(this.caterogiessetDats(),this.productdetailssetDats(),this.getDatasss()),this.DefaultPricemyForm.controls.Tax.setValue(e?.data?.taxValue),this.DefaultPricemyForm.controls.TotalCost.setValue(Number(e?.data?.productCost)+Number(e?.data?.taxValue)),this.DefaultPricemyForm.controls.productCost.setValue(e?.data?.productCost),this.valuecheckbox=1==e.data.taxType,this.percentagecheckbox=2==e.data.taxType,1==this.percentagecheckbox){this.taxId=e?.data?.taxValue;let i=this.taxList.filter(o=>o.taxId==this.taxId);r=i[0],this.Percentageavlue=i[0]?.taxName+"-"+i[0].taxPercentage,this.showData=!0,this.DefaultPricemyForm.controls.TotalCost.setValue(this.percentage(r?.taxPercentage,e?.data?.productCost))}else this.showData=!1;this.specialUpadteDetails(e.data),this.discountUpdteDetails(e.data),this.discountpricearray.forEach((i,o)=>{i.skuName=e?.data?.sku}),this.specialDiscountPriceArray.forEach((i,o)=>{i.skuName=e?.data?.sku})}}))}discountUpdteDetails(e){e.productDiscountData.forEach((r,i)=>{this.discountpricearray[i]={skuName:r.skuName,discountPriority:r.priority,discountPrice:r.price,discountDateStart:r.dateStart,discountDateEnd:r.dateEnd}})}specialUpadteDetails(e){e.productSpecialPrice.forEach((r,i)=>{this.specialDiscountPriceArray[i]={customerGroupId:1,skuName:r.skuName,specialPriority:r.priority,specialPrice:r.price,specialDateStart:r.dateStart,specialDateEnd:r.dateEnd}})}defaultpricigsetvalue(){this.DefaultPricemyForm.controls.Tax.setValue(this.pricingDetails.Tax),this.DefaultPricemyForm.controls.TotalCost.setValue(this.pricingDetails.TotalCost),this.DefaultPricemyForm.controls.productCost.setValue(this.pricingDetails.productCost),[null,void 0,""].includes(this.pricingDetails.types)||("value"==this.pricingDetails.types?(this.valuecheckbox=!0,this.percentagecheckbox=!1):(this.percentagecheckbox=!0,this.valuecheckbox=!1))}TaxApiList(){this.productsandbox.TaxList({}),this.subscribtion.add(this.productsandbox.TaxList$.subscribe(e=>{1==e?.status&&(this.taxList=e?.data)}))}formFields(){this.DefaultPricemyForm=this.formBuilder.group({productCost:["",p.k0.required],Tax:["",p.k0.required],TotalCost:["",[p.k0.required]]})}formDiscountPrice(){this.discountPrice=this.formBuilder.group({Priority:["",p.k0.required],Price:["",p.k0.required],DateStart:["",p.k0.required],DateEnd:["",p.k0.required]})}formspecialPrice(){this.specialDiscount=this.formBuilder.group({Priority:["",p.k0.required],Price:["",p.k0.required],DateStart:["",p.k0.required],DateEnd:["",p.k0.required]})}resetServices(){this.dataService.setData([]),this.dataService.setDatacategoriesRightArray({}),this.dataService.setDatacategoriesLeftArray({}),this.dataService.setDataproductDetailsPagePrev({}),this.dataService.setDataProductDetails({}),this.dataService.setSpecificationData([]),this.dataService.setSpecificationDetailsPagePrev({}),this.dataService.setAdvanceSpecificaionData({}),this.dataService.setPricingDetails({}),this.dataService.setDataProductSeo({})}setDatas(e){var r=e;r.type=[null,void 0,""].includes(this.taxId)?"value":"percentage",this.dataService.setPricingDetails(r)}ngAfterViewChecked(){0==this.dataService.getData()?.length&&this.getupdateDetails?.Category.forEach(e=>{this.valcategories.push(e.categoryId)})}convertToProductHighlights(e){if(e)return(e?.split(/<\/?p>/).filter(o=>""!==o.trim())).map(o=>({data:`<p>${o.trim()}</p>`}))}changeDateFormat(e){return R(e).format("YYYY-MM-DD")}onSubmit(){if(this.submit=!0,this.setDatas(this.DefaultPricemyForm.value),this.ref.detectChanges(),this.valProductDetail.dummyImage.forEach((e,r)=>{e.sortOrder=1==e.defaultImage?1:r+1}),this.discountpricearray?.length>0&&this.discountpricearray.forEach(e=>{e.discountDateEnd=R(e.discountDateEnd).format("YYYY-MM-DD"),e.discountDateStart=R(e.discountDateStart).format("YYYY-MM-DD")}),this.specialDiscountPriceArray?.length>0&&this.specialDiscountPriceArray.forEach(e=>{e.specialDateEnd=R(e.specialDateEnd).format("YYYY-MM-DD"),e.specialDateStart=R(e.specialDateStart).format("YYYY-MM-DD")}),["",null,void 0].includes(this.DefaultPricemyForm.value.Tax)&&this.DefaultPricemyForm.controls.Tax.setValue(100),!["",null,void 0].includes(this.valProductDetail.productName)){const e=this.convertToProductHighlights(this.valProductDetail.productHighlights);let r={productName:this.valProductDetail.productName,sku:this.valProductDetail.skuNumber,metaTagTitle:"",metaTagDescription:"",productDescription:this.valProductDetail.productDescription,upc:"1",quantity:this.valProductDetail.inventory,dateAvailable:this.changeDateFormat(this.valProductDetail.fromDateValid),pincodeBasedDelivery:0,hsn:"",relatedProductId:[],image:this.valProductDetail.dummyImage,categoryId:this.valcategories,condition:1,vendorId:this.vendorUserDetails.vendorId,price:this.DefaultPricemyForm.value.productCost,packingCost:0,shippingCost:0,others:0,tax:["",void 0,null].includes(this.Percentageavlue)?this.DefaultPricemyForm.value.Tax:this.Percentageavlue.taxId,taxType:["",void 0,null].includes(this.Percentageavlue)?1:2,productSpecial:this.specialDiscountPriceArray,productDiscount:this.discountpricearray,metaTagKeyword:"",sortOrder:1,productHighlights:e,productVideo:{name:this.valProductDetail?.videoDetails?.image??"",path:this.valProductDetail?.videoDetails?.path??"",type:1},editid:this.editId};this.DefaultPricemyForm.valid&&(this.buttonLoader=!0,["",null,void 0].includes(this.editId)?(this.buttonSubmit=!0,this.productsandbox.ProductCreation(r),this.subscribtion.add(this.productsandbox.ProductCreation$.subscribe(i=>{if(this.ref.detectChanges(),1==i?.status){this.buttonLoader=!1;let o={productSpecifications:this.specificationDetails,productId:i?.data?.productId};this.ref.detectChanges();let n={metaTagTitle:this.valProductSeo.metaTitle??"",metaTagDescription:this.valProductSeo.metaKeyword??"",metaTagKeyword:this.valProductSeo.metaDescription??"",productId:i?.data?.productId};this.ref.detectChanges(),i?.data?.productId&&1==i?.status&&(n.metaTagTitle||n.metaTagDescription||n.metaTagKeyword?this.subscribtion.add(this.seoServices.CreateProductSeo(n).subscribe(l=>{1==l?.status&&o?.productSpecifications?.length>0?this.subscribtion.add(this.seoServices.Specification_Create(o).subscribe(h=>{this.subscribtion.add(this.seoServices.attributeSlug(o?.productId).subscribe(f=>{1==f?.status&&(this.resetServices(),this.route.navigate(["/new-catalog/products/list"],{queryParams:this.paramsValue}))}))})):(this.resetServices(),this.route.navigate(["/new-catalog/products/list"],{queryParams:this.paramsValue}))})):(this.resetServices(),this.route.navigate(["/new-catalog/products/list"],{queryParams:this.paramsValue})))}0==i?.status&&(this.buttonLoader=!1,setTimeout(()=>{this.buttonSubmit=!1},1e3))}))):(this.productsandbox.Productedit(r),this.buttonSubmit=!0,this.productsandbox.Productedit$.pipe((0,Y.s)(1),(0,W.n)(i=>{const o={metaTagTitle:this.valProductSeo.metaTitle??"",metaTagDescription:this.valProductSeo.metaKeyword??"",metaTagKeyword:this.valProductSeo.metaDescription??"",productId:this.router.snapshot.params.id};return o.metaTagTitle||o.metaTagDescription||o.metaTagKeyword?(this.ref.detectChanges(),this.seoServices.CreateProductSeo(o).pipe((0,Y.s)(1),(0,W.n)(n=>{if(0==n?.status)return(0,D.of)(null);const l={productSpecfication:this.specificationDetails,editId:this.editId};return l.productSpecfication.productId&&0===l.productSpecfication.deleteSpecificationIds.length&&0===l.productSpecfication.deleteAttributeGroupIds.length&&0===l.productSpecfication.deleteAttributeIds.length&&0===l.productSpecfication.deleteAttributeValueIds.length&&0===l.productSpecfication.productSpecifications.length?(0,D.of)(null):this.seoServices.updateSpecification(l).pipe((0,Y.s)(1),(0,W.n)(h=>1!==h?.status?(0,D.of)(null):this.seoServices.attributeSlug(this.editId).pipe((0,Y.s)(1),(0,Z.W)(f=>(0,D.of)(null)))),(0,Z.W)(h=>(0,D.of)(null)))}),(0,Z.W)(n=>(0,D.of)(null)))):(0,D.of)(null)}),(0,Ii.j)(()=>{this.ref.detectChanges(),this.buttonLoader=!1,this.resetServices(),this.route.navigate([decodeURI("/new-catalog/products/list")],{queryParams:this.paramsValue}),setTimeout(()=>{this.buttonSubmit=!1},1e3)})).subscribe()))}}convertDetailToEditApi(e){const r=e.length?e[0].productId.toString():"";return{deleteSpecificationIds:[],deleteAttributeGroupIds:[],deleteAttributeIds:[],deleteAttributeValueIds:[],productSpecifications:e.map(o=>({specificationId:o.specificationId,id:o.id,attributeGroups:o.attributeGroups.map(n=>({id:n.id,attributes:n.attributes.map(l=>({attributeId:l.attributeId,id:l.id,attributeValues:l.attributesValues.map(h=>({attributeValueId:h.attributeValueId,id:null,value:h.value}))}))}))})),productId:r}}productCostChnage(){this.DefaultPricemyForm.controls.TotalCost.setValue(""),this.DefaultPricemyForm.controls.Tax.setValue(""),this.taxId="",this.Percentageavlue="",this.showData=!1,this.percentagecheckbox=!1,this.valuecheckbox=!0}TaxChange(e){this.showData=!1,this.DefaultPricemyForm.controls.TotalCost.setValue(Number(this.DefaultPricemyForm.value.productCost)+Number(e.target.value))}percentage(e,r){return e*r/100+r}PercentageChange(e){this.DefaultPricemyForm.controls.TotalCost.setValue(this.percentage(Number(e.taxPercentage),Number(this.DefaultPricemyForm.value.productCost))),this.taxId=e.taxId}checkboxchange(e){"value"==e&&(this.showData=!1,this.DefaultPricemyForm.controls.TotalCost.setValue(""),this.DefaultPricemyForm.controls.Tax.setValue("")),"Percentage"==e&&(this.DefaultPricemyForm.controls.Tax.setValue(""),this.DefaultPricemyForm.controls.TotalCost.setValue(""),this.editId&&(this.getupdateDetails?.productCost==this.DefaultPricemyForm.value.productCost||this.DefaultPricemyForm.controls.TotalCost.setValue("")),this.showData=!0)}openassigndiscount(){const e=this.modalService.open(Q,{size:"xl",windowClass:"assignattributesmodal",backdrop:"static",backdropClass:"createcr",centered:!0});e.componentInstance.formgroup=this.discountPrice,e.componentInstance.getdata=this.getupdateDetails,e.result.then(r=>{let i={skuName:this.getupdateDetails.sku,discountPriority:r.formgroup.value.Priority,discountPrice:r.formgroup.value.Price,discountDateStart:r.formgroup.value.DateStart.toISOString(),discountDateEnd:r.formgroup.value.DateEnd.toISOString(),disCustomerGroup:""};this.discountpricearray.push(i)})}deteleDiscountandspecial(e,r){"discount"==r?this.discountpricearray.splice(e,1):this.specialDiscountPriceArray.splice(e,1)}OpenSpecialdiscount(){const e=this.modalService.open(Q,{size:"xl",windowClass:"assignattributesmodal",backdrop:"static",backdropClass:"createcr",centered:!0});e.componentInstance.formgroup=this.specialDiscount,e.componentInstance.getdata=this.getupdateDetails,e.componentInstance.ActionName="SpecialPrice",e.result.then(r=>{let i={customerGroupId:1,skuName:this.getupdateDetails.sku,specialPriority:r.formgroup.value.Priority,specialPrice:r.formgroup.value.Price,specialDateStart:r.formgroup.value.DateStart.toISOString(),specialDateEnd:r.formgroup.value.DateEnd.toISOString()};this.specialDiscountPriceArray.push(i),this.specialDiscount.reset()})}editdiscountPrice(e,r,i){const o=this.modalService.open(Q,{size:"xl",windowClass:"assignattributesmodal",backdrop:"static",backdropClass:"createcr",centered:!0});"discount"==i?o.componentInstance.formgroup=this.discountPrice:(o.componentInstance.formgroup=this.specialDiscount,o.componentInstance.ActionName="SpecialPrice"),o.componentInstance.getdata=this.getupdateDetails,o.componentInstance.editValue=r,o.result.then(n=>{"SpecialPrice"==n.ActionName?(this.specialDiscountPriceArray[e]={customerGroupId:1,skuName:this.getupdateDetails.sku,specialPriority:n.formgroup.value.Priority,specialPrice:n.formgroup.value.Price,specialDateStart:n.formgroup.value.DateStart,specialDateEnd:n.formgroup.value.DateEnd},this.specialDiscount.reset()):(this.discountpricearray[e]={skuName:this.getupdateDetails.sku,discountPriority:n.formgroup.value.Priority,discountPrice:n.formgroup.value.Price,discountDateStart:n.formgroup.value.DateStart,discountDateEnd:n.formgroup.value.DateEnd,disCustomerGroup:""},this.discountPrice.reset())})}prev(){C.rh.length>0?(this.dataService.setpricingPrev("pricingPrev"),["",null,void 0].includes(this.editId)?this.route.navigate(["/new-catalog/products/seo"],{queryParams:this.paramsValue}):this.route.navigate(["/new-catalog/products/seo",this.editId],{queryParams:this.paramsValue})):(this.dataService.setpricingPrev("pricingPrev"),["",null,void 0].includes(this.editId)?this.route.navigate(["/new-catalog/products/specification"],{queryParams:this.paramsValue}):this.route.navigate(["/new-catalog/products/specification",this.editId,this.getupdateDetails?.name],{queryParams:this.paramsValue}))}cancel(){this.resetServices(),this.route.navigate(["/new-catalog/products/list"],{queryParams:this.paramsValue})}ngOnDestroy(){this.subscribtion.unsubscribe()}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(s.Bq),t.rXU(p.ze),t.rXU(N.R),t.rXU(t.gRc),t.rXU(G.u),t.rXU(u.Ix),t.rXU(u.nX),t.rXU(ft.H))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-pricing-setup"]],decls:190,vars:163,consts:[["nnn",""],[1,"product-add-container"],[1,"product-add-nav"],[1,"product-add-nav-col","completed"],["class","product-add-nav-col completed",4,"ngIf"],[1,"product-add-nav-col","current"],[1,"product-add-section"],[1,"inner-heading"],[1,"product-specs-heading"],[1,"product-specs-heading-lft"],[3,"ngSubmit","formGroup"],[1,"details-row3"],[1,"input-group","mb-35"],[1,"ig-row"],[1,"ig-group-row",3,"ngClass"],["type","number","formControlName","productCost","appNospace","","onKeyPress","if(this.value.length==8) return false;",3,"input","placeholder","ngClass"],["class","error","style","position: absolute;top: 100%;color: red;font-size: 13px;",4,"ngIf"],["class","ig-group-row position-relative",4,"ngIf","ngIfElse"],[1,"radio-row"],[1,"radio","handsymbol"],["id","radio-1","name","radio","type","radio",3,"input","checked"],["for","radio-1",1,"radio-label","handsymbol"],["id","radio-2","name","radio","type","radio",3,"change","checked"],["for","radio-2",1,"radio-label","handsymbol"],[1,"ig-group-row"],["type","text","formControlName","TotalCost","appNospace","","readonly","",3,"placeholder"],[1,"button-reg","btn-lg","secondary",3,"click","disabled","ngClass"],[1,"table-responsive"],[1,"table"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","nodata flexx",4,"ngIf"],[1,"product-save-btn"],[1,"cancel",3,"click"],[1,"prev",3,"click"],["class","removeHandSymbol",4,"ngIf"],["class","save",3,"disabled","click",4,"ngIf"],[1,"error",2,"position","absolute","top","100%","color","red","font-size","13px"],[1,"ig-group-row","position-relative"],["type","number","formControlName","Tax","appNospace","","onKeyPress","if(this.value.length==8) return false;",3,"input","placeholder"],["placeholder","Tax",1,"col-12",2,"border","none","padding","0px",3,"ngModelChange","change","searchable","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,""],["src","assets/imgs/v-dots.svg","alt",""],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["href","javascript:void(0)","ngbDropdownItem","",3,"click"],["src","assets/imgs/edit.svg","alt",""],["src","assets/imgs/delete.svg","alt",""],[1,"nodata","flexx"],["src","assets/imgs/nodata.svg","alt",""],[1,"removeHandSymbol"],[1,"save",3,"disabled"],[4,"ngIf"],["src","assets/imgs/loading.gif","alt","",2,"width","20px","padding","2px"],[1,"save",3,"click","disabled"]],template:function(r,i){if(1&r){const o=t.RV6();t.j41(0,"header")(1,"h1"),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"div",1)(7,"div",2)(8,"div",3)(9,"p"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"h3"),t.EFF(13),t.nI1(14,"translate"),t.k0s()(),t.j41(15,"div",3)(16,"p"),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"h3"),t.EFF(20),t.nI1(21,"translate"),t.k0s()(),t.j41(22,"div",3)(23,"p"),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.j41(26,"h3"),t.EFF(27),t.nI1(28,"translate"),t.k0s()(),t.DNE(29,Pi,7,6,"div",4),t.j41(30,"div",5)(31,"p"),t.EFF(32),t.nI1(33,"translate"),t.k0s(),t.j41(34,"h3"),t.EFF(35),t.nI1(36,"translate"),t.k0s()()(),t.j41(37,"div",6)(38,"div",7)(39,"h3"),t.EFF(40),t.nI1(41,"translate"),t.k0s(),t.j41(42,"p"),t.EFF(43),t.nI1(44,"translate"),t.k0s()(),t.j41(45,"div",8)(46,"div",9)(47,"h4"),t.EFF(48),t.nI1(49,"translate"),t.k0s(),t.j41(50,"p"),t.EFF(51),t.nI1(52,"translate"),t.k0s()()(),t.j41(53,"form",10),t.bIt("ngSubmit",function(){return t.eBV(o),t.Njj(i.onSubmit())}),t.j41(54,"div",11)(55,"div",12)(56,"label"),t.EFF(57),t.nI1(58,"translate"),t.j41(59,"p"),t.EFF(60),t.nI1(61,"translate"),t.k0s()(),t.j41(62,"div",13)(63,"div",14)(64,"span"),t.EFF(65),t.k0s(),t.j41(66,"input",15),t.nI1(67,"translate"),t.bIt("input",function(){return t.eBV(o),t.Njj(i.productCostChnage())}),t.k0s()()(),t.DNE(68,ki,3,3,"div",16),t.k0s(),t.j41(69,"div",12)(70,"label"),t.EFF(71),t.nI1(72,"translate"),t.j41(73,"p"),t.EFF(74),t.nI1(75,"translate"),t.k0s()(),t.j41(76,"div",13),t.DNE(77,Si,6,5,"div",17)(78,Ti,2,5,"ng-template",null,0,t.C5r),t.j41(80,"div",18)(81,"div",19)(82,"input",20),t.bIt("input",function(){return t.eBV(o),t.Njj(i.checkboxchange("value"))}),t.k0s(),t.j41(83,"label",21),t.EFF(84),t.nI1(85,"translate"),t.j41(86,"p"),t.EFF(87),t.nI1(88,"translate"),t.k0s()()(),t.j41(89,"div",19)(90,"input",22),t.bIt("change",function(){return t.eBV(o),t.Njj(i.checkboxchange("Percentage"))}),t.k0s(),t.j41(91,"label",23),t.EFF(92),t.nI1(93,"translate"),t.j41(94,"p"),t.EFF(95),t.nI1(96,"translate"),t.k0s()()()()()(),t.j41(97,"div",12)(98,"label"),t.EFF(99),t.nI1(100,"translate"),t.j41(101,"p"),t.EFF(102),t.nI1(103,"translate"),t.k0s()(),t.j41(104,"div",13)(105,"div",24)(106,"span"),t.EFF(107),t.k0s(),t.nrm(108,"input",25),t.nI1(109,"translate"),t.k0s()(),t.DNE(110,ji,3,3,"div",16),t.k0s()()(),t.j41(111,"div",8)(112,"div",9)(113,"h4"),t.EFF(114),t.nI1(115,"translate"),t.k0s(),t.j41(116,"p"),t.EFF(117),t.nI1(118,"translate"),t.k0s()(),t.j41(119,"button",26),t.bIt("click",function(){return t.eBV(o),t.Njj(i.openassigndiscount())}),t.EFF(120),t.nI1(121,"translate"),t.k0s()(),t.j41(122,"div",27)(123,"table",28)(124,"thead")(125,"tr")(126,"th"),t.EFF(127),t.nI1(128,"translate"),t.k0s(),t.j41(129,"th",29),t.EFF(130),t.nI1(131,"translate"),t.k0s(),t.j41(132,"th"),t.EFF(133),t.nI1(134,"translate"),t.k0s(),t.j41(135,"th"),t.EFF(136),t.nI1(137,"translate"),t.k0s(),t.j41(138,"th"),t.EFF(139),t.nI1(140,"translate"),t.k0s(),t.j41(141,"th",29),t.EFF(142,"Action"),t.k0s()()(),t.j41(143,"tbody"),t.DNE(144,Ri,29,20,"tr",30),t.k0s()(),t.DNE(145,Ei,5,0,"div",31),t.k0s(),t.j41(146,"div",8)(147,"div",9)(148,"h4"),t.EFF(149),t.nI1(150,"translate"),t.k0s(),t.j41(151,"p"),t.EFF(152),t.nI1(153,"translate"),t.k0s()(),t.j41(154,"button",26),t.bIt("click",function(){return t.eBV(o),t.Njj(i.OpenSpecialdiscount())}),t.EFF(155),t.nI1(156,"translate"),t.k0s()(),t.j41(157,"div",27)(158,"table",28)(159,"thead")(160,"tr")(161,"th"),t.EFF(162),t.nI1(163,"translate"),t.k0s(),t.j41(164,"th",29),t.EFF(165),t.nI1(166,"translate"),t.k0s(),t.j41(167,"th"),t.EFF(168),t.nI1(169,"translate"),t.k0s(),t.j41(170,"th"),t.EFF(171),t.nI1(172,"translate"),t.k0s(),t.j41(173,"th"),t.EFF(174),t.nI1(175,"translate"),t.k0s(),t.j41(176,"th",29),t.EFF(177,"Action"),t.k0s()()(),t.j41(178,"tbody"),t.DNE(179,Mi,30,22,"tr",30),t.k0s()(),t.DNE(180,$i,5,0,"div",31),t.k0s()()(),t.j41(181,"div",32)(182,"button",33),t.bIt("click",function(){return t.eBV(o),t.Njj(i.cancel())}),t.EFF(183),t.nI1(184,"translate"),t.k0s(),t.j41(185,"button",34),t.bIt("click",function(){return t.eBV(o),t.Njj(i.prev())}),t.EFF(186),t.nI1(187,"translate"),t.k0s(),t.DNE(188,xi,7,9,"ng-container",35)(189,Oi,6,9,"button",36),t.k0s()}if(2&r){let o;const n=t.sdS(79);t.R7$(2),t.JRh(i.editId?(null==(o=t.bMT(3,65,i.productsandbox.ProductUpdateDetails$))||null==o.data?null:o.data.name)+t.bMT(4,67,"common.edit"):t.bMT(5,69,"common.Create Product")),t.R7$(8),t.JRh(t.bMT(11,71,"common.Completed")),t.R7$(3),t.SpI("1. ",t.bMT(14,73,"common.Choose Categories"),""),t.R7$(4),t.JRh(t.bMT(18,75,"common.Completed")),t.R7$(3),t.SpI("2. ",t.bMT(21,77,"common.Product Details"),""),t.R7$(4),t.JRh(t.bMT(25,79,"common.Completed")),t.R7$(3),t.SpI("3. ",t.bMT(28,81,"common.Product Specification"),""),t.R7$(2),t.Y8G("ngIf",1==i.ProductSeo),t.R7$(3),t.JRh(t.bMT(33,83,"common.Current")),t.R7$(3),t.SpI("5. ",t.bMT(36,85,"common.Pricing Setup"),""),t.R7$(5),t.JRh(t.bMT(41,87,"common.PRICING SETUP")),t.R7$(3),t.JRh(t.bMT(44,89,"common.PriceSetupDescription")),t.R7$(5),t.JRh(t.bMT(49,91,"common.Default Price")),t.R7$(3),t.JRh(t.bMT(52,93,"common.DefaultPriceDescription")),t.R7$(2),t.Y8G("formGroup",i.DefaultPricemyForm),t.R7$(4),t.SpI(" ",t.bMT(58,95,"common.ProductCost")," * "),t.R7$(3),t.JRh(t.bMT(61,97,"common.ProductCostDescription")),t.R7$(3),t.Y8G("ngClass",t.eq3(155,tt,0==(null==i.getupdateDetails?null:i.getupdateDetails.isSimplified))),t.R7$(2),t.JRh(null==i.symbol?null:i.symbol.currencySymbol),t.R7$(),t.FS9("placeholder",t.bMT(67,99,"common.ProductCost")),t.Y8G("ngClass",t.eq3(157,yi,i.DefaultPricemyForm.controls.productCost.hasError("required")||0==i.DefaultPricemyForm.value.productCost&&!i.DefaultPricemyForm.controls.productCost.hasError("required"))),t.R7$(2),t.Y8G("ngIf",i.DefaultPricemyForm.controls.productCost.hasError("required")&&1==i.submit),t.R7$(3),t.SpI(" ",t.bMT(72,101,"common.Tax")," * "),t.R7$(3),t.JRh(t.bMT(75,103,"common.TaxDescription")),t.R7$(3),t.Y8G("ngIf",0==i.showData)("ngIfElse",n),t.R7$(5),t.Y8G("checked",i.valuecheckbox),t.R7$(2),t.SpI(" ",t.bMT(85,105,"common.Value")," "),t.R7$(3),t.JRh(t.bMT(88,107,"common.ValueLabel")),t.R7$(3),t.Y8G("checked",i.percentagecheckbox),t.R7$(2),t.SpI(" ",t.bMT(93,109,"common.Percentage")," "),t.R7$(3),t.JRh(t.bMT(96,111,"common.PercentageLabel")),t.R7$(4),t.SpI(" ",t.bMT(100,113,"common.Total Cost (MRP)")," * "),t.R7$(3),t.JRh(t.bMT(103,115,"common.ToatalCostLabel")),t.R7$(5),t.JRh(null==i.symbol?null:i.symbol.currencySymbol),t.R7$(),t.FS9("placeholder",t.bMT(109,117,"common.Total Cost")),t.R7$(2),t.Y8G("ngIf",i.DefaultPricemyForm.controls.TotalCost.hasError("required")&&1==i.submit),t.R7$(4),t.JRh(t.bMT(115,119,"common.Assign Discount Price")),t.R7$(3),t.JRh(t.bMT(118,121,"CommonContent.VariantDiscount")),t.R7$(2),t.Y8G("disabled",!i.editId)("ngClass",t.eq3(159,tt,!i.editId||0==(null==i.getupdateDetails?null:i.getupdateDetails.isSimplified))),t.R7$(),t.SpI(" ",t.bMT(121,123,"common.Assign Discount Price")," "),t.R7$(7),t.JRh(t.bMT(128,125,"common.SKU")),t.R7$(3),t.JRh(t.bMT(131,127,"common.Priority")),t.R7$(3),t.JRh(t.bMT(134,129,"common.Price")),t.R7$(3),t.JRh(t.bMT(137,131,"common.Start Date")),t.R7$(3),t.JRh(t.bMT(140,133,"common.End Date")),t.R7$(5),t.Y8G("ngForOf",i.discountpricearray),t.R7$(),t.Y8G("ngIf",0==(null==i.discountpricearray?null:i.discountpricearray.length)),t.R7$(4),t.JRh(t.bMT(150,135,"common.Special Price")),t.R7$(3),t.JRh(t.bMT(153,137,"CommonContent.VariantSpecial")),t.R7$(2),t.Y8G("disabled",!i.editId)("ngClass",t.eq3(161,tt,!i.editId||0==(null==i.getupdateDetails?null:i.getupdateDetails.isSimplified))),t.R7$(),t.SpI(" ",t.bMT(156,139,"common.Assign Special Price")," "),t.R7$(7),t.JRh(t.bMT(163,141,"common.SKU")),t.R7$(3),t.JRh(t.bMT(166,143,"common.Priority")),t.R7$(3),t.JRh(t.bMT(169,145,"common.Price")),t.R7$(3),t.JRh(t.bMT(172,147,"common.Start Date")),t.R7$(3),t.JRh(t.bMT(175,149,"common.End Date")),t.R7$(5),t.Y8G("ngForOf",i.specialDiscountPriceArray),t.R7$(),t.Y8G("ngIf",0==(null==i.specialDiscountPriceArray?null:i.specialDiscountPriceArray.length)),t.R7$(3),t.JRh(t.bMT(184,151,"common.Cancel")),t.R7$(3),t.JRh(t.bMT(187,153,"common.Previous")),t.R7$(2),t.Y8G("ngIf",1==i.buttonSubmit),t.R7$(),t.Y8G("ngIf",0==i.buttonSubmit)}},dependencies:[g.YU,g.Sq,g.bT,p.qT,p.me,p.Q0,p.BC,p.cb,p.j4,p.JD,U.B,p.vS,s.tg,s.do,s.U0,s._H,w.vr,w.xt,g.Jj,g.vh,J.G,y.D9],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.handsymbol[_ngcontent-%COMP%]{cursor:pointer}.removeHandSymbol[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.input-group[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%;height:-moz-fit-content!important;height:fit-content!important}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;color:#595959;min-height:36px!important;margin:0rem 0 0}.radio-row[_ngcontent-%COMP%]{margin-top:2rem!important}"]})}}return a})();const Gi=[{path:"",component:F.C,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:H,data:{title:"Products",ActiveStatus:"products-list",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/catalog/manage-products/"},{title:"breadcrumbs.ManageProducts",url:"/catalog/manage-products/list"},{title:"breadcrumbs.ProductList"}]}},{path:"successfull",component:H,data:{title:"Products",ActiveStatus:"successfull",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/catalog/manage-products/"},{title:"breadcrumbs.ManageProducts",url:"/catalog/manage-products/list"},{title:"breadcrumbs.ProductList"}]}},{path:"failed",component:H,data:{title:"Products",ActiveStatus:"successfull",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/catalog/manage-products/"},{title:"breadcrumbs.ManageProducts",url:"/catalog/manage-products/list"},{title:"breadcrumbs.ProductList"}]}},{path:"categories",component:mt,data:{title:"Products",ActiveStatus:"categories",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/new-catalog/products/"},{title:"Products",url:"/new-catalog/products/list"},{title:"Categories"}]}},{path:"categories/:id",component:mt,data:{title:"Products",ActiveStatus:"categoriesedit",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/new-catalog/products/"},{title:"Products",url:"/new-catalog/products/list"},{title:"Categories"}]}},{path:"product-details",component:vt,data:{title:"Products",ActiveStatus:"product-details",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/new-catalog/products/"},{title:"Products",url:"/new-catalog/products/list"},{title:"Categories"}]}},{path:"product-details/:id",component:vt,data:{title:"Products",ActiveStatus:"product-details-edit",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/new-catalog/products/"},{title:"Products",url:"/new-catalog/products/list"},{title:"Categories"}]}},...C.iu,...C.NL,{path:"pricing-setup",component:It,data:{title:"Products",ActiveStatus:"pricing-setup",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/new-catalog/products/"},{title:"Products",url:"/new-catalog/products/list"},{title:"Categories"}]}},{path:"pricing-setup/:id",component:It,data:{title:"Products",ActiveStatus:"pricing-setup-edit",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/new-catalog/products/"},{title:"Products",url:"/new-catalog/products/list"},{title:"Categories"}]}}]}];let wi=(()=>{class a{static{this.\u0275fac=function(r){return new(r||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(Gi),u.iI]})}}return a})();var Li=d(6600),Ui=d(9458),Ai=d(6233),Yi=d(9213),Bi=d(2256);d(7800);let Xi=(()=>{class a{static{this.\u0275fac=function(r){return new(r||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({providers:[...C.HN,...C.zX],imports:[g.MD,wi,p.X1,$.RG,k.X6,Li.WX,Ui.Gg,p.YN,s.UN,K.fS,Ai.aP,Yi.m_,Bi.H,bt.w,w.MQ,y.h]})}}return a})()}}]);