"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[3071],{90988:(D,y,e)=>{e.d(y,{S:()=>p});var g=e(21626),f=e(94194),h=e(54438);let p=(()=>{class t extends f.j{constructor(){super(...arguments),this.params={},this.url=this.getBaseUrl()}getOrderStatus(){return this.status}setOrderStatus(i){return this.status=i}customersGroupList(i){return this.http.get(this.url+"/customer-group",{params:i})}SiteIdList(i){return this.http.get(this.url+"/settings",i)}addCustomersGroup(i){return this.http.post(this.url+"/customer-group",i)}updateCustomersGroup(i){return this.http.put(this.url+"/customer-group/"+i.id,i)}deleteCustomersGroup(i){const $={headers:new g.Lr({"Content-Type":"application/json"}),withCredentials:!1,body:{groupId:i.groupId}};return this.http.delete(this.url+"/customer-group/"+i.groupId,$)}deletePagerefresh(i){this.pageoffset=i}static{this.\u0275fac=(()=>{let i;return function(v){return(i||(i=h.xGo(t)))(v||t)}})()}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac})}}return t})()},10332:(D,y,e)=>{e.d(y,{K:()=>E});var g=e(1094),f=e(34514),h=e(87876);const p=C=>C.customerLayout,t=(0,f.Mz)(p,h.GO),R=(0,f.Mz)(p,h._y);(0,f.Mz)(p,h.P9),(0,f.Mz)(p,h.ts);var v=e(54438),G=e(84745);let E=(()=>{class C{constructor(S){this.appState=S,this.customerCount$=this.appState.select(t),this.customerCountLoading$=this.appState.select(R),this.subscriptions=[],this.registerAuthEvents()}getCustomerCount(){this.appState.dispatch(new g.Mp)}registerAuthEvents(){}static{this.\u0275fac=function(M){return new(M||C)(v.KVO(G.il))}}static{this.\u0275prov=v.jDH({token:C,factory:C.\u0275fac})}}return C})()},83071:(D,y,e)=>{e.r(y),e.d(y,{CustomersModule:()=>et});var g=e(60177),f=e(40528),h=e(89417),p=e(51188),t=e(54438),R=e(10332),i=e(37886),$=e(84051),v=e(345),G=e(88322),E=e(41780);const C=()=>["buyers-data"],j=()=>["/customers/manage-customers"],S=()=>["/customers/manage-customers/customer"];let M=(()=>{class o{constructor(s){this.titleService=s}onDocumentClick(s){this.checked=!1}ngOnInit(){this.titleService.setTitle("Customer")}onClick(s){this.checked=!0}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(v.hE))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-cms-header"]],hostBindings:function(r,u){1&r&&t.bIt("click",function(n){return u.onDocumentClick(n)},!1,t.EBC)},decls:17,vars:18,consts:[[1,"subtoolbar","customertoolbar"],[1,"sub-nav-menu"],[1,"dd",3,"appHideIfUnauthorized","multipleHide"],[1,"dd-a"],["href","javascript:void(0)",3,"appHideIfUnauthorized","routerLink","routerLinkActive"],["src","assets/img/header-icons/manage-buyer.svg","alt","product"],["src","assets/img/caret-down.svg","alt","",1,"drop-arrow"],["type","checkbox","id","check",3,"click","checked"],[1,"dd-c"],[3,"appHideIfUnauthorized"],["href","#",3,"routerLink","routerLinkActive"]],template:function(r,u){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"span"),t.nrm(6,"img",5),t.k0s(),t.EFF(7),t.nI1(8,"translate"),t.nrm(9,"img",6),t.k0s()(),t.j41(10,"input",7),t.bIt("click",function(n){return n.stopPropagation(),u.onClick(n)}),t.k0s(),t.j41(11,"div",8)(12,"ul")(13,"li",9)(14,"a",10),t.EFF(15),t.nI1(16,"translate"),t.k0s()()()()()()()),2&r&&(t.R7$(2),t.Y8G("appHideIfUnauthorized","buyers-data")("multipleHide",t.lJ4(15,C)),t.R7$(2),t.Y8G("appHideIfUnauthorized","buyers-data")("routerLink",t.lJ4(16,j))("routerLinkActive","active"),t.R7$(3),t.SpI("",t.bMT(8,11,"Customers.Customer.ManageCustomers")," "),t.R7$(3),t.Y8G("checked",u.checked),t.R7$(3),t.Y8G("appHideIfUnauthorized","buyers-data"),t.R7$(),t.Y8G("routerLink",t.lJ4(17,S))("routerLinkActive","active"),t.R7$(),t.SpI(" ",t.bMT(16,13,"Customers.Customer.Customer")," "))},dependencies:[p.Wk,p.wQ,G.H,E.D9],changeDetection:0})}}return o})();function U(o,d){1&o&&t.nrm(0,"span",11)}function H(o,d){if(1&o&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&o){const s=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,s.layoutSandbox.customerCount$).totalCustomer)}}function k(o,d){1&o&&t.nrm(0,"span",11)}function A(o,d){if(1&o&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&o){const s=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,s.layoutSandbox.customerCount$).activeCustomer)}}function N(o,d){1&o&&t.nrm(0,"span",11)}function Y(o,d){if(1&o&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&o){const s=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,s.layoutSandbox.customerCount$).inActiveCustomer)}}function P(o,d){1&o&&t.nrm(0,"span",11)}function B(o,d){if(1&o&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&o){const s=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,s.layoutSandbox.customerCount$).totalCustomerGroup)}}function J(o,d){1&o&&t.nrm(0,"span",11)}function K(o,d){if(1&o&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&o){const s=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,s.layoutSandbox.customerCount$).activeCustomerGroup)}}function z(o,d){1&o&&t.nrm(0,"span",11)}function X(o,d){if(1&o&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&o){const s=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,s.layoutSandbox.customerCount$).inActiveCustomerGroup)}}function V(o,d){if(1&o&&(t.j41(0,"div")(1,"div",1)(2,"div",2)(3,"ul")(4,"li")(5,"p"),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.DNE(8,U,1,0,"span",3),t.nI1(9,"async"),t.j41(10,"button",4),t.nrm(11,"img",5),t.k0s(),t.DNE(12,H,3,3,"h3",0),t.nI1(13,"async"),t.k0s(),t.j41(14,"li")(15,"p"),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.DNE(18,k,1,0,"span",3),t.nI1(19,"async"),t.j41(20,"button",6),t.nrm(21,"img",5),t.k0s(),t.DNE(22,A,3,3,"h3",0),t.nI1(23,"async"),t.k0s(),t.j41(24,"li")(25,"p"),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.DNE(28,N,1,0,"span",3),t.nI1(29,"async"),t.j41(30,"button",7),t.nrm(31,"img",5),t.k0s(),t.DNE(32,Y,3,3,"h3",0),t.nI1(33,"async"),t.k0s(),t.j41(34,"li")(35,"p"),t.EFF(36),t.nI1(37,"translate"),t.k0s(),t.DNE(38,P,1,0,"span",3),t.nI1(39,"async"),t.j41(40,"button",8),t.nrm(41,"img",5),t.k0s(),t.DNE(42,B,3,3,"h3",0),t.nI1(43,"async"),t.k0s(),t.j41(44,"li")(45,"p"),t.EFF(46),t.nI1(47,"translate"),t.k0s(),t.DNE(48,J,1,0,"span",3),t.nI1(49,"async"),t.j41(50,"button",9),t.nrm(51,"img",5),t.k0s(),t.DNE(52,K,3,3,"h3",0),t.nI1(53,"async"),t.k0s(),t.j41(54,"li")(55,"p"),t.EFF(56),t.nI1(57,"translate"),t.k0s(),t.DNE(58,z,1,0,"span",3),t.nI1(59,"async"),t.j41(60,"button",10),t.nrm(61,"img",5),t.k0s(),t.DNE(62,X,3,3,"h3",0),t.nI1(63,"async"),t.k0s()()()()()),2&o){const s=t.XpG();t.R7$(6),t.SpI("",t.bMT(7,18,"Customers.Customer.TotalCustomer")," "),t.R7$(2),t.Y8G("ngIf",t.bMT(9,20,s.layoutSandbox.customerCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(13,22,s.layoutSandbox.customerCountLoading$)),t.R7$(4),t.SpI("",t.bMT(17,24,"Customers.Customer.ActiveCustomer")," "),t.R7$(2),t.Y8G("ngIf",t.bMT(19,26,s.layoutSandbox.customerCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(23,28,s.layoutSandbox.customerCountLoading$)),t.R7$(4),t.JRh(t.bMT(27,30,"Customers.Customer.In-ActiveCustomer")),t.R7$(2),t.Y8G("ngIf",t.bMT(29,32,s.layoutSandbox.customerCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(33,34,s.layoutSandbox.customerCountLoading$)),t.R7$(4),t.JRh(t.bMT(37,36,"Customers.Customer.TotalCustomerGroup")),t.R7$(2),t.Y8G("ngIf",t.bMT(39,38,s.layoutSandbox.customerCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(43,40,s.layoutSandbox.customerCountLoading$)),t.R7$(4),t.SpI("",t.bMT(47,42,"Customers.Customer.ActiveCustomerGroup")," "),t.R7$(2),t.Y8G("ngIf",t.bMT(49,44,s.layoutSandbox.customerCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(53,46,s.layoutSandbox.customerCountLoading$)),t.R7$(4),t.JRh(t.bMT(57,48,"Customers.Customer.In-ActiveCustomerGroup")),t.R7$(2),t.Y8G("ngIf",t.bMT(59,50,s.layoutSandbox.customerCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(63,52,s.layoutSandbox.customerCountLoading$))}}const Z=[{path:"",redirectTo:"manage-customers",pathMatch:"full"},{path:"",component:(()=>{class o{constructor(s,r){this.layoutSandbox=s,this.router=r,this.router.events.subscribe(u=>{this.id=+this.router.url.split("?")[0].split("/").pop()})}ngOnInit(){this.layoutSandbox.getCustomerCount()}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(R.K),t.rXU(p.Ix))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-customer-layout"]],decls:4,vars:1,consts:[[4,"ngIf"],[1,"products-section-count"],[1,"product-ts-left"],["class","spinner-border spinner-border-sm pull-right","aria-hidden","true",4,"ngIf"],["type","button","placement","bottom","ngbTooltip","Total number of registered customers on the platform."],["src","assets/img/info-ico.svg","alt","info"],["type","button","placement","bottom","ngbTooltip","Number of active customers on the platform."],["type","button","placement","bottom","ngbTooltip","Number of in-active customers on the platform."],["type","button","placement","bottom","ngbTooltip","Total number of customer groups on the platform."],["type","button","placement","bottom","ngbTooltip","Total number of active customer groups on the platform."],["type","button","placement","left","ngbTooltip","Total number of in-active customer groups on the platform."],["aria-hidden","true",1,"spinner-border","spinner-border-sm","pull-right"]],template:function(r,u){1&r&&(t.nrm(0,"app-cms-header")(1,"app-breadcrumb"),t.DNE(2,V,64,54,"div",0),t.nrm(3,"router-outlet")),2&r&&(t.R7$(2),t.Y8G("ngIf","/customers/manage-customers/customer/add"!==u.router.url.split("?")[0]&&"/customers/manage-customers/customer/list"!==u.router.url.split("?")[0]&&u.router.url.split("?")[0]!=="/customers/manage-customers/customer/view/"+u.id&&u.router.url.split("?")[0]!=="/customers/manage-customers/customer/edit/"+u.id&&"/customers/manage-customers/groups/add"!==u.router.url.split("?")[0]&&u.router.url.split("?")[0]!=="/customers/manage-customers/groups/edit/"+u.id&&"/customers/manage-customers/groups/list"!==u.router.url.split("?")[0]))},dependencies:[g.bT,p.n3,i.md,$.D,M,g.Jj,E.D9],styles:[".layout-mar[_ngcontent-%COMP%]{margin-top:0}"],changeDetection:0})}}return o})(),children:[{path:"manage-customers",loadChildren:()=>e.e(1741).then(e.bind(e,61741)).then(o=>o.ManageCustomersModule),canActivate:[e(79176).q],data:{permissionForHeader:"buyers-data",root:"buyers"}}]}];let w=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[p.iI.forChild(Z),p.iI]})}}return o})();var _=e(91785),c=e(74054),q=e(94194);let F=(()=>{class o extends q.j{constructor(){super(...arguments),this.params={},this.URL=this.getBaseUrl()}getCustomerCount(){return this.http.get(this.URL+"/admin-customer/customer-count")}static{this.\u0275fac=(()=>{let s;return function(u){return(s||(s=t.xGo(o)))(u||o)}})()}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}}return o})();var T=e(7673),b=e(96354),l=e(25558),L=e(1094),I=e(99437);let tt=(()=>{class o{constructor(s,r){this.action$=s,this.layoutService=r,this.customerCount$=(0,c.EH)(()=>this.action$.pipe((0,c.gp)(L.Q3.GET_CUSTOMER_COUNT),(0,b.T)(u=>u.payload),(0,l.n)(u=>this.layoutService.getCustomerCount().pipe((0,l.n)(a=>[new L.Rd(a)]),(0,I.W)(a=>(0,T.of)(new L.yu(a)))))))}static{this.\u0275fac=function(r){return new(r||o)(t.KVO(c.En),t.KVO(F))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}}return o})();var m=e(17554),x=e(88141),O=e(90988);let ot=(()=>{class o{constructor(s,r,u){this.action$=s,this.router=r,this.Service=u,this.doCustomersGroupList$=(0,c.EH)(()=>this.action$.pipe((0,c.gp)(m.Q3.DO_CUSTOMERS_GROUP_LIST),(0,b.T)(a=>a.payload),(0,l.n)(a=>this.Service.customersGroupList(a).pipe((0,l.n)(n=>[new m.Zc(n)]),(0,I.W)(n=>(0,T.of)(new m._d(n))))))),this.doAddCustomersGroup$=(0,c.EH)(()=>this.action$.pipe((0,c.gp)(m.Q3.DO_ADD_CUSTOMERS_GROUP),(0,b.T)(a=>a.payload),(0,l.n)(a=>this.Service.addCustomersGroup(a).pipe((0,x.M)(n=>{n&&this.router.navigate(["/customers/groups/list"])}),(0,l.n)(n=>[new m.GM(n)]),(0,I.W)(n=>(0,T.of)(new m.VS(n))))))),this.doUpdateCustomersGroup$=(0,c.EH)(()=>this.action$.pipe((0,c.gp)(m.Q3.DO_UPDATE_CUSTOMERS_GROUP),(0,b.T)(a=>a.payload),(0,l.n)(a=>this.Service.updateCustomersGroup(a).pipe((0,x.M)(n=>{}),(0,l.n)(n=>[new m.y$(n)]),(0,I.W)(n=>(0,T.of)(new m.B5(n))))))),this.doDeleteCustomersGroup$=(0,c.EH)(()=>this.action$.pipe((0,c.gp)(m.Q3.DO_DELETE_CUSTOMERS_GROUP),(0,b.T)(a=>a.payload),(0,l.n)(a=>this.Service.deleteCustomersGroup(a).pipe((0,l.n)(n=>[new m.o5(n)]),(0,I.W)(n=>(0,T.of)(new m.b5(n))))))),this.doPginationcustomers$=(0,c.EH)(()=>this.action$.pipe((0,c.gp)(m.Q3.DO_PAGINATION_CUSTOMERS_GROUP_LIST),(0,b.T)(a=>a.payload),(0,l.n)(a=>this.Service.customersGroupList(a).pipe((0,l.n)(n=>[new m.fJ(n)]),(0,I.W)(n=>(0,T.of)(new m.yH(n)))))))}static{this.\u0275fac=function(r){return new(r||o)(t.KVO(c.En),t.KVO(p.Ix),t.KVO(O.S))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}}return o})();var st=e(31984);let et=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({providers:[F,R.K,O.S],imports:[g.MD,w,f.D,_.G,h.YN,h.X1,c.Vm.forFeature([tt,ot]),E.h.forChild(),st.h]})}}return o})()}}]);