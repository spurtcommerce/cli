"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[9170],{59170:(z,C,l)=>{l.r(C),l.d(C,{AuditLogModule:()=>Tt});var e=l(60177),_=l(51188),m=l(89417),I=l(55735);const x=[{displayName:"Settings.nav.User",id:"userName",type:"default",checked:!0,filterColName:"Settings.nav.User"},{displayName:"Settings.data.Module",id:"module",type:"default",checked:!0,filterColName:"Settings.data.Module"},{displayName:"Settings.data.Description",id:"description",type:"default",checked:!0,filterColName:"Settings.data.Description"},{displayName:"Settings.data.Date",id:"createdDate",type:"date",checked:!0,filterColName:"Settings.data.Date",customStyle:{tbody:{class:"text-nowrap"}}},{displayName:"Settings.data.Browser",id:"browser",type:"template",checked:!0,filterColName:"Settings.data.Date"}],F={1:{text:"common.Active",class:"active"},0:{text:"common.In-Active",class:"inactive"}};var t=l(54438),p=l(96940),s=l(34514),u=l(41906);const n=a=>a.auditLog,g=(0,s.Mz)(n,u.qZ),h=(0,s.Mz)(n,u.xL),f=(0,s.Mz)(n,u.uV),S=(0,s.Mz)(n,u.Pk),$=(0,s.Mz)(n,u.Vq),k=(0,s.Mz)(n,u.kz),O=(0,s.Mz)(n,u.X_),w=(0,s.Mz)(n,u._e),B=(0,s.Mz)(n,u.rD),U=(0,s.Mz)(n,u.ai),N=(0,s.Mz)(n,u.Jt),V=(0,s.Mz)(n,u.sx),X=(0,s.Mz)(n,u.MA),Y=(0,s.Mz)(n,u.Tm),H=(0,s.Mz)(n,u.sk),K=(0,s.Mz)(n,u.RV),W=(0,s.Mz)(n,u.aU),J=(0,s.Mz)(n,u.aK),Q=(0,s.Mz)(n,u.dO),Z=(0,s.Mz)(n,u.FM),q=(0,s.Mz)(n,u.tC),tt=(0,s.Mz)(n,u.Tw),et=(0,s.Mz)(n,u.gv),it=(0,s.Mz)(n,u.WK);var nt=l(84745);let R=(()=>{class a{constructor(i,o){this.appState=i,this.router=o,this.auditLogModule$=this.appState.select(X),this.auditLogModuleLoading$=this.appState.select(H),this.auditLogModuleLoaded$=this.appState.select(Y),this.auditLogModuleFailed$=this.appState.select(K),this.auditLogDelete$=this.appState.select($),this.auditLogDeleteLoading$=this.appState.select(O),this.auditLogDeleteLoaded$=this.appState.select(k),this.auditLogDeleteFailed$=this.appState.select(w),this.auditLogList$=this.appState.select(g),this.auditLogListLoading$=this.appState.select(f),this.auditLogListLoaded$=this.appState.select(h),this.auditLogListFailed$=this.appState.select(S),this.getUsersList$=this.appState.select(W),this.userListLoading$=this.appState.select(J),this.userListLoaded$=this.appState.select(Q),this.userListFailed$=this.appState.select(Z),this.auditLogListCount$=this.appState.select(B),this.auditLogListCountLoading$=this.appState.select(N),this.auditLogListCountLoaded$=this.appState.select(U),this.auditLogListCountFailed$=this.appState.select(V),this.deleteLogs$=this.appState.select(q),this.deleteLogsLoading$=this.appState.select(tt),this.deleteLogsLoaded$=this.appState.select(et),this.deleteLogsFailed$=this.appState.select(it)}auditLogList(i){this.appState.dispatch(new p.Ms(i))}auditLogListCount(i){this.appState.dispatch(new p.Jo(i))}getUserList(i){this.appState.dispatch(new p.Js(i))}auditLogDelete(i){this.appState.dispatch(new p.XT(i))}auditLogModule(i){this.appState.dispatch(new p.w7(i))}deleteLogs(i){this.appState.dispatch(new p.r$(i))}static{this.\u0275fac=function(o){return new(o||a)(t.KVO(nt.il),t.KVO(_.Ix))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac})}}return a})();var A=l(37886),at=l(345),st=l(34501),ot=l(74937),lt=l(42612),j=l(41780);const rt=a=>({browser:a}),ct=()=>({standalone:!0});function dt(a,b){1&a&&(t.j41(0,"div",26),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Settings.nav.PleaseChooseAtleastonedate")," "))}function ut(a,b){if(1&a){const i=t.RV6();t.j41(0,"app-common-table",27),t.nI1(1,"async"),t.bIt("buttonChangeEvent",function(c){t.eBV(i);const r=t.XpG();return t.Njj(r.buttonAction(c))}),t.k0s()}if(2&a){const i=t.XpG(),o=t.sdS(40);t.Y8G("HeadArray",i.dynamicColumnFields)("GridArray",t.bMT(1,3,i.sandbox.auditLogList$))("customTemplate",t.eq3(5,rt,o))}}function gt(a,b){1&a&&t.EFF(0),2&a&&t.SpI(" ",b.$implicit.browserInfo.browser," ")}function pt(a,b){1&a&&(t.j41(0,"div",28)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&a&&(t.R7$(2),t.JRh(t.bMT(3,1,"Settings.data.DataNotFound")))}function ht(a,b){if(1&a&&(t.j41(0,"option",37),t.EFF(1),t.k0s()),2&a){const i=t.XpG(2);t.FS9("value",i.pageSize),t.R7$(),t.JRh(i.pageSize)}}function mt(a,b){if(1&a){const i=t.RV6();t.j41(0,"div",29)(1,"div",30)(2,"p"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",31)(6,"select",32),t.mxI("ngModelChange",function(c){t.eBV(i);const r=t.XpG();return t.DH7(r.pageSize,c)||(r.pageSize=c),t.Njj(c)}),t.bIt("change",function(){t.eBV(i);const c=t.XpG();return t.Njj(c.pageLength())}),t.DNE(7,ht,2,2,"option",33),t.j41(8,"option",34),t.EFF(9,"10"),t.k0s(),t.j41(10,"option",35),t.EFF(11,"20"),t.k0s(),t.j41(12,"option",36),t.EFF(13,"30"),t.k0s()()()()()}if(2&a){const i=t.XpG();t.R7$(3),t.JRh(t.bMT(4,4,"Settings.Local.Resultsperpage")),t.R7$(3),t.R50("ngModel",i.pageSize),t.Y8G("ngModelOptions",t.lJ4(6,ct)),t.R7$(),t.Y8G("ngIf","10"!==i.pageSize&&"20"!==i.pageSize&&"30"!==i.pageSize)}}function ft(a,b){if(1&a){const i=t.RV6();t.j41(0,"div",38)(1,"app-reusable-pagination",39),t.nI1(2,"async"),t.bIt("pageChange",function(c){t.eBV(i);const r=t.XpG();return t.Njj(r.onPageChange(c))}),t.k0s()()}if(2&a){const i=t.XpG();t.R7$(),t.Y8G("type","numbers")("currentPage",i.currentPage)("totalItems",t.bMT(2,4,i.sandbox.auditLogListCount$))("pageSize",i.pageSize)}}const _t=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class a{constructor(i,o,c,r,d,y,E){this.sandbox=i,this.router=o,this.route=c,this.fb=r,this.datepipe=d,this.modalService=y,this.titleService=E,this.dynamicColumnFields=structuredClone(x),this.badgeStatusMappings=F,this.filterEnable=!0,this.buttoncheck=!1,this.buttonActive=!1,this.sellerArray=[],this.filterData=[],this.filterDataId=[],this.bulkFunction=!1,this.pageSize=20,this.index=0,this.offset=0,this.keyword="",this.queryData={},this.isRequired=!1,this.subscriptions=[],this.submitted=!1,this.currentPage=1,this.limit=10,this.titleService.setTitle("Settings | System"),this.subscribeVal()}ngOnInit(){this.initForm(),this.intiateFunctions()}pageLength(){this.auditLogList(),this.auditLogListCount()}initForm(){this.fromDate=new m.hs("",[m.k0.required]),this.toDate=new m.hs("",[m.k0.required]),this.auditLogForm=this.fb.group({fromDate:this.fromDate,toDate:this.toDate})}getUserList(){let i=function M(a){for(const b in a)a.hasOwnProperty(b)&&(null==a[b]||""===a[b])&&delete a[b];return a}(this.getQueryParam());i.count=!1,this.sandbox.getUserList(i)}resetFilter(){(""!==this.selectedDays&&null!=this.selectedDays||""!==this.keyword&&null!=this.keyword||""!==this.module&&null!=this.module||""!==this.actionBy&&null!=this.actionBy)&&(this.selectedDays=null,this.keyword="",this.module=null,this.actionBy=null,this.auditLogList(),this.auditLogListCount())}applyFilter(){this.keyword=this.selectedDays,this.module=this.module,this.actionBy=this.actionBy,(""!==this.keyword&&null!=this.keyword||""!==this.module&&null!=this.module||""!==this.actionBy&&null!=this.actionBy)&&(this.auditLogList(),this.auditLogListCount())}checkIfAllSelected(){this.bulkFunction=!0,this.selectedAll=this.sellerArray.every(function(i){return!0===i.selected}),this.filterDataList(),this.bulkFunction=this.filterData.length>0}selectAll(i){for(let o=0;o<this.sellerArray.length;o++)this.sellerArray[o].selected=this.selectedAll;this.filterDataList(),this.bulkFunction=this.filterData.length>0}filterDataList(){this.filterData=this.sellerArray.filter(i=>{if(!0===i.selected)return i}),this.filterDataId=this.filterData.map(i=>i.auditLogId)}check(i){i.target.checked?(this.buttonActive=!1,this.buttoncheck=i.target.checked,this.filterEnable=!0):(this.buttonActive=!0,this.buttoncheck=i.target.checked,this.filterEnable=!1)}auditLogList(){this.offset=(this.currentPage-1)*this.limit;const i={};i.offset=this.offset||0,i.limit=this.pageSize,i.keyword=this.keyword,i.module=this.module?i.module=this.module:"",i.actionBy=this.actionBy?i.actionBy=this.actionBy:"",this.sandbox.auditLogList(i),this.queryData.offset=this.offset||0,this.queryData.index=this.index||0,this.router.navigate([],{relativeTo:this.route,queryParams:this.queryData,queryParamsHandling:"merge"})}auditLogListCount(){const i={offset:0,limit:0};i.keyword=this.keyword,i.module=this.module||"",i.actionBy=this.actionBy||"",i.count=!0,this.sandbox.auditLogListCount(i)}onPageChange(i){this.limit=i.limit,this.currentPage=Math.floor(i.offset/i.limit)+1,this.auditLogList()}deleteDate(){const i=this.auditLogForm.value.fromDate,o=this.auditLogForm.value.toDate;if(i&&i.year&&(this.startDate=i.year+"-"+i.month+"-"+i.day),o&&o.year&&(this.endDate=o.year+"-"+o.month+"-"+o.day),this.auditLogForm.value.fromDate||this.auditLogForm.value.toDate){this.submitted=!1;const c=this.modalService.open(I.i,{size:"sm",windowClass:"delete-confirm",backdrop:"static",modalDialogClass:"modal-dialog-centered",backdropClass:"createcr"});c.componentInstance.key="",c.componentInstance.id="",c.componentInstance.deleteMessage="Audit Log",c.result.then(r=>{if("deleted"===r){const d={};d.fromDate=this.startDate,d.toDate=this.endDate,this.sandbox.deleteLogs(d),this.subscriptions.push(this.sandbox.deleteLogs$.subscribe(y=>{y&&1===y.status&&(this.auditLogList(),this.auditLogListCount(),this.auditLogForm.reset())}))}})}else this.submitted=!0}subscribeVal(){this.subscriptions.push(this.sandbox.auditLogList$.subscribe(i=>{i&&i[0]&&(this.sellerArray=[],this.sellerArray=i.map(o=>({...o,selected:!1})))}))}getQueryParam(){return{limit:this.limit,offset:this.offset,status:"",keyword:""}}intiateFunctions(){this.auditLogList(),this.sandbox.auditLogModule({}),this.auditLogListCount(),this.getUserList(),this.todayDate=new Date,this.maxDate={year:(new Date).getFullYear(),month:(new Date).getMonth(),day:(new Date).getDay()}}ngOnDestroy(){this.subscriptions.forEach(i=>i.unsubscribe())}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(R),t.rXU(_.Ix),t.rXU(_.nX),t.rXU(m.ze),t.rXU(e.vh),t.rXU(A.Bq),t.rXU(at.hE))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-audit-log"]],decls:50,vars:38,consts:[["d","ngbDatepicker"],["e","ngbDatepicker"],["itemTemplateRef",""],[1,"local-content"],[1,"set-lay-notes","flex"],[1,"setup-wrapper","set-loc-wrapper"],[1,"setup-container","localization-container"],[1,"card","ap-general","ap-info"],[3,"formGroup"],[1,"flex","ap-body","mb-3"],[1,"form-group"],["readonly","","type","text","formControlName","fromDate","name","dp","id","cal-in","ngbDatepicker","",1,"form-control","date1",2,"cursor","pointer",3,"click","maxDate"],["style","color: red;",4,"ngIf"],["readonly","","type","text","formControlName","toDate","name","dp","id","cal-in","ngbDatepicker","","ngbDatepicker","",1,"form-control","date1",2,"cursor","pointer",3,"click","minDate"],[1,"button-reg","btn-sm","primary",2,"margin-top","30px","margin-left","0px",3,"click"],[1,"settings-right-wrapper"],[1,"setup-right"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(58%, 18%)","position","absolute",3,"isShow"],[1,"product-table"],[1,"table-responsive"],[3,"HeadArray","GridArray","customTemplate","buttonChangeEvent",4,"ngIf"],["class","no_data",4,"ngIf"],[1,"localize-header","flex","bg-transparent"],["class","loc-hdr-lft d-inline-flex",4,"ngIf"],["class","d-inline-flex",4,"ngIf"],[2,"color","red"],[3,"buttonChangeEvent","HeadArray","GridArray","customTemplate"],[1,"no_data"],[1,"loc-hdr-lft","d-inline-flex"],[1,"input-group"],[1,"select"],[3,"ngModelChange","change","ngModel","ngModelOptions"],[3,"value",4,"ngIf"],["value","10"],["value","20"],["value","30"],[3,"value"],[1,"d-inline-flex"],[3,"pageChange","type","currentPage","totalItems","pageSize"]],template:function(o,c){if(1&o){const r=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"h4"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"div",5)(9,"div",6)(10,"div",7)(11,"form",8)(12,"div",9)(13,"div",10)(14,"label"),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.j41(17,"input",11,0),t.bIt("click",function(){t.eBV(r);const y=t.sdS(18);return t.Njj(y.toggle())}),t.k0s(),t.DNE(19,dt,3,3,"div",12),t.k0s(),t.j41(20,"div",10)(21,"label"),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.j41(24,"input",13,1),t.bIt("click",function(){t.eBV(r);const y=t.sdS(25);return t.Njj(y.toggle())}),t.k0s()(),t.j41(26,"div",10)(27,"button",14),t.bIt("click",function(){return t.eBV(r),t.Njj(c.deleteDate())}),t.EFF(28),t.nI1(29,"translate"),t.k0s()()(),t.nrm(30,"div",15),t.j41(31,"div",16)(32,"div",17),t.nrm(33,"app-global-loader",18),t.nI1(34,"async"),t.k0s(),t.j41(35,"div",19)(36,"div",20),t.DNE(37,ut,2,7,"app-common-table",21),t.nI1(38,"async"),t.DNE(39,gt,1,1,"ng-template",null,2,t.C5r)(41,pt,4,3,"div",22),t.nI1(42,"async"),t.j41(43,"div",23),t.DNE(44,mt,14,7,"div",24),t.nI1(45,"async"),t.nI1(46,"async"),t.DNE(47,ft,3,6,"div",25),t.nI1(48,"async"),t.nI1(49,"async"),t.k0s()()()()()()()()()}if(2&o){let r,d,y,E;t.R7$(3),t.JRh(t.bMT(4,14,"Settings.nav.Note:")),t.R7$(3),t.SpI("",t.bMT(7,16,"Settings.nav.SettingAdmin")," "),t.R7$(5),t.Y8G("formGroup",c.auditLogForm),t.R7$(4),t.JRh(t.bMT(16,18,"Settings.nav.LogFrom")),t.R7$(2),t.Y8G("maxDate",c.todayDate),t.R7$(2),t.Y8G("ngIf",!(c.auditLogForm.value.fromDate||c.auditLogForm.value.toDate)&&!0===c.submitted),t.R7$(3),t.JRh(t.bMT(23,20,"Settings.nav.LogTo")),t.R7$(2),t.Y8G("minDate",c.auditLogForm.value.fromDate),t.R7$(4),t.SpI(" ",t.bMT(29,22,"Settings.Local.Delete")," "),t.R7$(5),t.Y8G("isShow",t.bMT(34,24,c.sandbox.auditLogListLoading$)),t.R7$(4),t.Y8G("ngIf",(null==(r=t.bMT(38,26,c.sandbox.auditLogList$))?null:r.length)>0),t.R7$(4),t.Y8G("ngIf",0==(null==(d=t.bMT(42,28,c.sandbox.auditLogList$))?null:d.length)),t.R7$(3),t.Y8G("ngIf",(null==(y=t.bMT(45,30,c.sandbox.getUsersList$))?null:y.length)>0&&t.bMT(46,32,c.sandbox.auditLogListLoaded$)),t.R7$(3),t.Y8G("ngIf",(null==(E=t.bMT(48,34,c.sandbox.getUsersList$))?null:E.length)>0&&t.bMT(49,36,c.sandbox.auditLogListLoaded$))}},dependencies:[e.bT,m.qT,m.xH,m.y7,m.me,m.wz,m.BC,m.cb,m.vS,m.j4,m.JD,st.$,ot.q,lt.V,A.cw,e.Jj,j.D9],styles:[".button[_ngcontent-%COMP%]{margin-left:10px;border:1px thin white;background:#55af22;color:#fff;width:100px}.input-group[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,sans-serif!important;font-size:12px!important;color:#0000008a!important}.ap-body[_ngcontent-%COMP%]{gap:20px}.form-group[_ngcontent-%COMP%]{margin:0}"]})}}return a})(),canActivate:[l(79176).q],data:{permission:"audit-log",urls:[{title:"breadcrumbs.Reports",url:""},{title:"breadcrumbs.Audit Logs",url:""},{title:"breadcrumbs.List",url:""}]}}];let vt=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[_.iI.forChild(_t),_.iI]})}}return a})();var yt=l(21626),Dt=l(46584),Ct=l(91785),Mt=l(31984),L=l(74054),P=l(7673),D=l(96354),v=l(25558),T=l(99437),St=l(94194);let G=(()=>{class a extends St.j{constructor(){super(...arguments),this.params={},this.url=this.getBaseUrl()}auditLogList(i){let o={};return o=i,this.http.get(this.url+"/auditlog/auditLog-list",{params:o})}auditLogDelete(i){let o={};return o=i,this.http.delete(this.url+"",{params:o})}auditModuleList(i){return this.http.get(this.url+"/auditlog/module-list",{params:i})}auditLogListCount(i){return this.http.get(this.url+"/auditlog/auditLog-list",{params:i})}userlist(i){return this.http.get(this.url+"/auth/userlist",{params:i})}deleteLogs(i){return this.http.post(this.url+"/auditlog/delete-auditlog",i)}static{this.\u0275fac=(()=>{let i;return function(c){return(i||(i=t.xGo(a)))(c||a)}})()}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac})}}return a})(),Pt=(()=>{class a{constructor(i,o,c){this.action$=i,this.auditService=o,this.sandbox=c,this.AuditLog$=(0,L.EH)(()=>this.action$.pipe((0,L.gp)(p.Q3.AUDIT_LOG_LIST),(0,D.T)(r=>r.payload),(0,v.n)(r=>this.auditService.auditLogList(r).pipe((0,v.n)(d=>[new p.TH(d)]),(0,T.W)(d=>(0,P.of)(new p.Mc(d))))))),this.AuditLogDelete$=(0,L.EH)(()=>this.action$.pipe((0,L.gp)(p.Q3.AUDIT_LOG_DELETE),(0,D.T)(r=>r.payload),(0,v.n)(r=>this.auditService.auditLogDelete(r).pipe((0,v.n)(d=>[new p.YL(d)]),(0,T.W)(d=>(0,P.of)(new p.p0(d))))))),this.AuditLogCount$=(0,L.EH)(()=>this.action$.pipe((0,L.gp)(p.Q3.AUDIT_LOG_LIST_COUNT),(0,D.T)(r=>r.payload),(0,v.n)(r=>this.auditService.auditLogListCount(r).pipe((0,v.n)(d=>[new p.ym(d)]),(0,T.W)(d=>(0,P.of)(new p.jj(d))))))),this.AuditModule$=(0,L.EH)(()=>this.action$.pipe((0,L.gp)(p.Q3.AUDIT_MODULE_LIST),(0,D.T)(r=>r.payload),(0,v.n)(r=>this.auditService.auditModuleList(r).pipe((0,v.n)(d=>[new p.Jf(d)]),(0,T.W)(d=>(0,P.of)(new p.c7(d))))))),this.deleteLog$=(0,L.EH)(()=>this.action$.pipe((0,L.gp)(p.Q3.DELETE_LOGS),(0,D.T)(r=>r.payload),(0,v.n)(r=>this.auditService.deleteLogs(r).pipe((0,v.n)(d=>[new p.kN(d)]),(0,T.W)(d=>(0,P.of)(new p.Bu(d))))))),this.doUserList$=(0,L.EH)(()=>this.action$.pipe((0,L.gp)(p.Q3.GET_USER_LIST),(0,D.T)(r=>r.payload),(0,v.n)(r=>this.auditService.userlist(r).pipe((0,D.T)(d=>new p.Gq(d)),(0,T.W)(d=>(0,P.of)(new p.VY(d)))))))}static{this.\u0275fac=function(o){return new(o||a)(t.KVO(L.En),t.KVO(G),t.KVO(R))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac})}}return a})(),Tt=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({providers:[R,G,e.vh],imports:[e.MD,vt,m.YN,m.X1,Ct.G,Mt.h,A.UN,L.Vm.forFeature([Pt]),j.h.forChild({loader:{provide:j.Wr,useFactory:Dt.M,deps:[yt.Qq]}})]})}}return a})()},34501:(z,C,l)=>{l.d(C,{$:()=>p});var e=l(54438),_=l(60177),m=l(41780);const I=(s,u)=>({active:s,inactive:u});function M(s,u){if(1&s){const n=e.RV6();e.qex(0,3),e.j41(1,"button",10),e.bIt("click",function(){const h=e.eBV(n).$implicit,f=e.XpG(2);return e.Njj(f.goToPage(h))}),e.EFF(2),e.k0s(),e.bVm()}if(2&s){const n=u.$implicit,g=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.l_i(2,I,g.currentPage===n,g.currentPage!==n)),e.R7$(),e.SpI(" ",n," ")}}function x(s,u){if(1&s){const n=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(n);const h=e.XpG();return e.Njj(h.goToPreviousPage())}),e.nrm(2,"img",5),e.k0s(),e.DNE(3,M,3,5,"ng-container",6),e.j41(4,"button",4),e.bIt("click",function(){e.eBV(n);const h=e.XpG();return e.Njj(h.goToNextPage())}),e.nrm(5,"img",7),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"input",8),e.bIt("input",function(h){e.eBV(n);const f=e.XpG();return e.Njj(f.Gotogivenpage(h.target.value))}),e.k0s(),e.j41(10,"div",9),e.EFF(11),e.k0s()()}if(2&s){const n=e.XpG();e.R7$(),e.Y8G("disabled",1===n.currentPage),e.R7$(2),e.Y8G("ngForOf",n.pages),e.R7$(),e.Y8G("disabled",n.currentPage===n.totalPages),e.R7$(3),e.JRh(e.bMT(8,6,"marketplace.common.Page")),e.R7$(2),e.Y8G("value",n.currentPage),e.R7$(2),e.SpI("of ",n.totalPages,"")}}function F(s,u){if(1&s){const n=e.RV6();e.qex(0),e.j41(1,"button",12),e.bIt("click",function(){const h=e.eBV(n).$implicit,f=e.XpG(2);return e.Njj(f.goToPage(h))}),e.EFF(2),e.k0s(),e.bVm()}if(2&s){const n=u.$implicit,g=e.XpG(2);e.R7$(),e.Y8G("disabled",g.currentPage===n),e.R7$(),e.SpI(" ",n," ")}}function t(s,u){if(1&s&&(e.j41(0,"div"),e.DNE(1,F,3,2,"ng-container",11),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",n.totalPageItems)}}let p=(()=>{class s{constructor(){this.type="default",this.pageChange=new e.bkB,this.pageSizeOptions=[5,10,25,50]}get totalPages(){return Math.ceil(this.totalItems/this.pageSize)}get totalPageItems(){const n=Math.ceil(this.totalItems/this.pageSize);return[...Array(n).keys()].map(g=>g+1)}get currentPageStart(){return(this.currentPage-1)*this.pageSize+1}get currentPageEnd(){const n=this.currentPage*this.pageSize;return n>this.totalItems?this.totalItems:n}get pages(){const n=this.totalPages,h=[];let S=Math.max(1,this.currentPage-Math.floor(2.5)),$=Math.min(n,S+5-1);$-S+1<5&&(S=Math.max(1,$-5+1));for(let k=S;k<=$;k++)h.push(k);return h}pageChanged(n){this.pageChange.emit({offset:(n.pageIndex+1-1)*this.pageSize,limit:this.pageSize})}goToPage(n){n!==this.currentPage&&this.pageChange.emit({offset:(n-1)*this.pageSize,limit:this.pageSize})}goToFirstPage(){1!==this.currentPage&&this.goToPage(1)}Gotogivenpage(n){!["null","",void 0,0,String(this.currentPage)].includes(n)&&this.totalPages>=n&&this.goToPage(n)}goToLastPage(){this.currentPage!==this.totalPages&&this.goToPage(this.totalPages)}goToPreviousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}goToNextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}onPageSizeChange(n){this.pageSize=n.target.value,this.pageChange.emit({offset:0,limit:this.pageSize})}static{this.\u0275fac=function(g){return new(g||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-reusable-pagination"]],inputs:{type:"type",currentPage:"currentPage",pageSize:"pageSize",totalItems:"totalItems"},outputs:{pageChange:"pageChange"},decls:3,vars:3,consts:[[1,"pagination","flex",3,"ngSwitch"],["class","page-count flex",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"page-count","flex"],[1,"icon-button",3,"click","disabled"],["src","assets/img/arrow-left.svg","alt",""],["class","page-count flex",4,"ngFor","ngForOf"],["src","assets/img/arrow-right.svg","alt",""],["readonly","true",3,"input","value"],[1,"page-info"],[3,"click","ngClass"],[4,"ngFor","ngForOf"],[1,"number-button",3,"click","disabled"]],template:function(g,h){1&g&&(e.j41(0,"div",0),e.DNE(1,x,12,8,"div",1)(2,t,2,1,"div",2),e.k0s()),2&g&&(e.Y8G("ngSwitch",h.type),e.R7$(),e.Y8G("ngSwitchCase","numbers"),e.R7$(),e.Y8G("ngSwitchCase","fullnumbers"))},dependencies:[_.YU,_.Sq,_.ux,_.e1,m.D9],styles:[".pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:16px;margin:0 5px}.page-size-selector[_ngcontent-%COMP%]{margin-left:10px}.number-button[_ngcontent-%COMP%]{padding:5px;border:1px solid grey;margin:2px}"]})}}return s})()},55735:(z,C,l)=>{l.d(C,{i:()=>p});var e=l(54438),_=l(37886),m=l(73857),I=l(52619),M=l(41780),x=l(60177);function F(s,u){if(1&s&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.SpI(" Cannot recover a deleted ",n.variantMessage,". Are you sure you want to proceed with deletion ?")}}function t(s,u){if(1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.Lme("",e.bMT(2,2,"common.Are you sure want to delete this")," ",n.deleteMessage,"?")}}let p=(()=>{class s{constructor(n,g,h,f){this.activeModal=n,this.sellerSandbox=g,this.productSandbox=h,this.translate=f}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key?(this.sellerSandbox.deleteSeller({vendorId:this.id}),this.sellerSandbox.deleteLoaded$.subscribe(n=>{!0===n&&this.activeModal.close("deleted")})):"product"===this.key?(this.productSandbox.doProductDelete({productId:this.id}),this.productSandbox.productDeleteLoaded$.subscribe(n=>{!0===n&&this.activeModal.close("deleted")})):this.activeModal.close("deleted"),this.deleteMessage=""}static{this.\u0275fac=function(g){return new(g||s)(e.rXU(_.Lw),e.rXU(m.f),e.rXU(I.F),e.rXU(M.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-delete-confirmation-dialog"]],inputs:{deleteMessage:"deleteMessage",variantMessage:"variantMessage"},decls:17,vars:11,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],[4,"ngIf"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(g,h){1&g&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return h.close()}),e.j41(2,"span",2),e.EFF(3,"\xd7"),e.k0s()(),e.j41(4,"h3"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,F,2,1,"p",3)(8,t,3,4,"p",3),e.nrm(9,"h4"),e.j41(10,"div",4)(11,"button",5),e.bIt("click",function(){return h.close()}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",6),e.bIt("click",function(){return h.deleteContent()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&g&&(e.R7$(5),e.JRh(e.bMT(6,5,"common.Delete Confirmation")),e.R7$(2),e.Y8G("ngIf",h.variantMessage),e.R7$(),e.Y8G("ngIf",!h.variantMessage),e.R7$(4),e.SpI("",e.bMT(13,7,"common.Cancel")," "),e.R7$(3),e.SpI("",e.bMT(16,9,"common.Delete")," "))},dependencies:[x.bT,M.D9],styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}"]})}}return s})()}}]);