"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[3464],{3464:(O,v,l)=>{l.r(v),l.d(v,{RoleModule:()=>st});var e=l(60177),y=l(40528),u=l(89417),R=l(74054),f=l(27802),P=l(63597),S=l(49705),g=l(51188);const _={roleName:{label:"Settings.Role.RoleName",name:"roleName",validatiors:[u.k0.required,u.k0.pattern(/^[a-zA-Z\s]*$/)],type:"text",placeholder:"Settings.Role.RoleName",mandatory:!0,optionalErrorMessage:{pattern:"ValidationsErrorMessage.Allowonlyalphabetsspaces"}},isActive:{label:"Settings.Role.Status",name:"isActive",type:"toggle",placeholder:"Settings.Role.Status",mandatory:!1,customData:{toggleName:"roleStatus"}}};var r=l(98852),t=l(54438),s=l(37886),c=l(18186),d=l(41780);function p(a,h){if(1&a&&(t.qex(0),t.j41(1,"div",9)(2,"div",10),t.nrm(3,"app-common-form",11),t.k0s()(),t.bVm()),2&a){const n=h.$implicit,o=t.XpG();t.R7$(3),t.Y8G("type",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].type)("control",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].control)("label",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].label)("inputId",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].inputId)("aliasName",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].aliasName)("placeholder",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].placeholder)("submitted",o.submitted)("customData",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].customData)("optionalErrorMessage",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].optionalErrorMessage)("mandatory",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].mandatory)}}let C=(()=>{class a{constructor(n,o,i,m,b,F,M){this.fb=n,this.appSandbox=o,this.route=i,this.router=m,this.ref=b,this.service=F,this.modalService=M,this._Object=Object,this.dynamicObjControls={},this.roleInfo=[],this.submitted=!1,this.pageSize="10",this.keyword="",this.currentPage=1,this.trackByIndex=T=>T,this.limit=sessionStorage.getItem("itemsPerPage")?Number(sessionStorage.getItem("itemsPerPage")):10}ngOnInit(){this.buildForm(),this.intializeFunction()}getRolelist(){this.offset=(this.currentPage-1)*this.limit;const n={};n.limit=this.limit,n.offset=this.offset,n.keyword=this.keyword,this.appSandbox.getRoleList(n)}getRoleListCount(n=0,o){const i={};i.limit=o,i.offset=n,i.keyword=this.keyword,i.count=!0,this.appSandbox.getpagination(i)}cancel(){this.roleInfo=null,this.roleInfo=" ",this.modalService.close("close")}onChangestatus(n){this.isChecked=n.target.checked,1==this.isChecked?this.value=1:0==this.isChecked&&(this.value=0)}onSubmit(){if(this.submitted=!0,!this.formObjFormGroup.invalid&&""!==this.formObjFormGroup.value.name){const n={};n.name=this.formObjFormGroup.value.roleName,n.status=this.formObjFormGroup.value.isActive??0,this.roleInfo&&this.roleInfo[0]&&this.roleInfo[0].groupId?(n.groupId=this.roleInfo[0].groupId,n.status=this.formObjFormGroup.value.isActive??0,this.appSandbox.updateRole(n),this.modalService.close("close")):(this.appSandbox.addRole(n),this.modalService.close("close"))}}close(){this.modalService.close("close")}editRoleList(){this.roleInfo.push(this.service.rolegetdata()),null!==this.roleInfo[0]?this.roleInfo[0]&&this.roleInfo[0].name&&"edit"===this.edit&&setTimeout(()=>{this.formObjFormGroup.controls.roleName.setValue(this.roleInfo[0].name),this.formObjFormGroup.controls.isActive.setValue(this.roleInfo[0].isActive)},100):(this.formObjFormGroup.patchValue({roleName:null,isActive:null}),this.roleInfo=null)}buildForm(){const n=_,o=(0,r.b0)(n);this.formObjFormGroup=this.fb.group(o),Object.keys(n).forEach(i=>{this.dynamicObjControls[i]=(0,r.yE)(n[i],this.formObjFormGroup)})}intializeFunction(){this.roleName=null,this.isActive=null,this.editRoleId=this.route.snapshot.paramMap.get("id"),this.getRolelist(),this.editRoleList()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(u.ze),t.rXU(f.k),t.rXU(g.nX),t.rXU(g.Ix),t.rXU(t.gRc),t.rXU(P.H),t.rXU(s.Lw))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-spurt-settings-role-add"]],inputs:{edit:"edit",id:"id"},decls:13,vars:7,consts:[[1,"flex","setting2-inner-header"],[1,"modal-header__title"],[1,"close-modal",3,"click"],["src","assets/img/modal-close.svg"],[1,"modal-body"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"action-button-container","flex"],[1,"button-reg","btn-md","tertiary",3,"click"],[1,"button-reg","btn-md","primary",3,"click"],[1,"ap-body-col"],[1,"form-group"],[3,"type","control","label","inputId","aliasName","placeholder","submitted","customData","optionalErrorMessage","mandatory"]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"h3",1),t.EFF(2),t.k0s(),t.j41(3,"button",2),t.bIt("click",function(){return i.close()}),t.nrm(4,"img",3),t.k0s()(),t.j41(5,"div",4),t.DNE(6,p,4,10,"ng-container",5),t.k0s(),t.j41(7,"div",6)(8,"button",7),t.bIt("click",function(){return i.close()}),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"button",8),t.bIt("click",function(){return i.onSubmit()}),t.EFF(12),t.k0s()()),2&o&&(t.R7$(2),t.SpI(" ",i.roleInfo?"Update Role":" Add Role"," "),t.R7$(4),t.Y8G("ngForOf",i._Object.keys(i.dynamicObjControls))("ngForTrackBy",i.trackByIndex),t.R7$(3),t.SpI(" ",t.bMT(10,5,"Settings.User.Cancle")," "),t.R7$(3),t.SpI(" ",i.roleInfo?"Update Role":"Save"," "))},dependencies:[e.Sq,c.V,d.D9],encapsulation:2})}}return a})();var I=l(18359),j=l(55735);function E(a){for(const h in a)a.hasOwnProperty(h)&&(null==a[h]||""===a[h])&&delete a[h];return a}const x={Search:{label:"marketplace.common.Search",name:"search",aliasName:"",validators:[],type:"text",placeholder:"marketplace.common.Search"}},D=[{displayName:"Settings.Role.Name",id:"name",type:"default",checked:!0,filterColName:"uniformListColumName.orderId"},{displayName:"Settings.Role.Status",id:"productStatus",type:"template",checked:!0,filterColName:"uniformListColumName.status",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}},{displayName:"Settings.Local.Country.Action",type:"threeDotMenu",checked:!0,customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}},menuData:[{name:"Edit",img:"assets/img/edit.svg",displayName:"marketplace.common.Edit"},{name:"Delete",img:"assets/img/delete-new.svg",displayName:"marketplace.common.Delete"},{name:"role",img:"assets/img/elliptical-h.svg",displayName:"Settings.nav.Permission"}]}],G={1:{text:"common.Active",class:"active"},0:{text:"common.In-Active",class:"inactive"}};var $=l(345),N=l(34501),L=l(88322),A=l(74937),U=l(42612),V=l(87277);const X=["myDropdown"],B=["myInput"],w=a=>({productStatus:a}),z=a=>[a];function Y(a,h){if(1&a){const n=t.RV6();t.j41(0,"div",24)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"button",25),t.bIt("click",function(){t.eBV(n);const i=t.XpG().$implicit,m=t.XpG();return t.Njj(m.removeFilter(i))}),t.nrm(4,"img",26),t.k0s()()}if(2&a){const n=t.XpG().$implicit;t.R7$(2),t.Lme("",n.key," :",n.value," ")}}function K(a,h){if(1&a&&(t.j41(0,"div",22),t.DNE(1,Y,5,2,"div",23),t.k0s()),2&a){const n=h.$implicit,o=t.XpG();t.R7$(),t.Y8G("ngIf",!o.empty.includes(n.value))}}function W(a,h){if(1&a){const n=t.RV6();t.j41(0,"app-common-table",27),t.nI1(1,"async"),t.bIt("buttonChangeEvent",function(i){t.eBV(n);const m=t.XpG();return t.Njj(m.buttonAction(i))}),t.k0s()}if(2&a){const n=t.XpG(),o=t.sdS(34);t.Y8G("HeadArray",n.dynamicColumnFields)("GridArray",t.bMT(1,3,n.appSandbox.getRolesList$))("customTemplate",t.eq3(5,w,o))}}function H(a,h){if(1&a&&t.nrm(0,"app-common-badge",28),2&a){const n=h.$implicit,o=t.XpG();t.Y8G("badge",o.badgeStatusMappings.hasOwnProperty(n.isActive)?o.badgeStatusMappings[n.isActive]:"")}}function Q(a,h){1&a&&(t.j41(0,"div",29)(1,"span"),t.nrm(2,"img",30),t.k0s(),t.j41(3,"h5"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&a&&(t.R7$(4),t.JRh(t.bMT(5,1,"Dashboard.NoDatafound")))}function J(a,h){if(1&a){const n=t.RV6();t.j41(0,"div",31)(1,"app-reusable-pagination",32),t.nI1(2,"async"),t.bIt("pageChange",function(i){t.eBV(n);const m=t.XpG();return t.Njj(m.onPageChange(i))}),t.k0s()()}if(2&a){const n=t.XpG();t.R7$(),t.Y8G("type","numbers")("currentPage",n.currentPage)("totalItems",t.bMT(2,4,n.appSandbox.roleCount$))("pageSize",t.eq3(6,z,n.limit))}}let Z=(()=>{class a{constructor(n,o,i,m,b,F,M){this.router=n,this.route=o,this.fb=i,this.appSandbox=m,this.service=b,this.modalService=F,this.titleService=M,this._Object=Object,this.empty=[null,"",void 0],this.dynamicColumnFields=structuredClone(D),this.subscriptions=new I.yU,this.badgeStatusMappings=G,this.roledetails={},this.pageSize="10",this.keyword="",this.currentPage=1,this.filterSearch={},this.type="edit",this.dynamicObjControls={},this.backupFormValue={},this.formValueExists=!1,this.limit=sessionStorage.getItem("itemsPerPage")?Number(sessionStorage.getItem("itemsPerPage")):10,this.trackByIndex=T=>T,this.titleService.setTitle("Settings | Access and permission"),this.regSubscribeEvents()}ngOnInit(){this.buildForm(),this.routeSubscribe()}buttonAction(n){"threeDotMenu"===n.key&&("Delete"==n.actionType?this.deleteRole(n?.groupId):"Edit"==n.actionType?this.addNewRole(n,"Edit"):"role"==n.actionType&&this.goToPermission(n))}addNewRole(n,o){this.roledetails=null,this.service.rolesetdata(this.roledetails);const i=this.modalService.open(C,{windowClass:"add-local",backdrop:"static",centered:!1,animation:!1});"Edit"===o&&(this.roledetails=n,this.service.rolesetdata(this.roledetails),i.componentInstance.edit=this.type,i.componentInstance.id=n),i.result.then(m=>{})}getRolelist(){this.offset=(this.currentPage-1)*this.limit;let n=E(this.getQueryParam());n.count=!1,this.appSandbox.getRoleList(n),this.updateQueryParam()}onPageChange(n){this.limit=n.limit,this.currentPage=Math.floor(n.offset/n.limit)+1,this.getRolelist()}goToPermission(n){JSON.parse(sessionStorage.getItem("adminUserdetail")),this.router.navigate(["/settings/access-and-permission/permission"],{queryParams:{user:JSON.stringify({id:n.groupId,type:"role",role:n.name})}})}deleteRole(n){const o=this.modalService.open(j.i,{size:"sm",windowClass:"delete-confirm",backdrop:"static",modalDialogClass:"modal-dialog-centered",backdropClass:"createcr"});o.componentInstance.key="",o.componentInstance.id="",o.componentInstance.deleteMessage="Role",o.result.then(i=>{if("deleted"===i){const m={};m.groupId=n,this.appSandbox.deleteRole(m),this.appSandbox.roleDelete$.subscribe(b=>{b&&1===b.status&&(this.getRolelist(),this.getRoleListCount())})}})}searchList(){this.keyword?(this.filterSearch.keyword=this.keyword,this.getRolelist(),this.getRoleListCount()):(this.getRolelist(),this.getRoleListCount())}keywordchange(n){this.filterSearch.keyword=n}getRoleListCount(){this.offset=(this.currentPage-1)*this.limit;let n=E(this.getQueryParam());n.count=!0,this.appSandbox.getpagination(n)}dropDownClose(n){this.hasOwnProperty(n)&&this[n]?.close()}resetAll(){this.onPageChange({limit:this.limit,offset:0}),this.getRoleListCount(),this.dropDownClose("myDropdown")}applyFilter(){this.filterValueUpdate(),this.resetAll()}removeFilter(n){this.formObjFormGroup.controls[n.key].reset(),this.filterValueUpdate(),this.resetAll()}buildForm(){const n=x,o=(0,r.b0)(n);this.formObjFormGroup=this.fb.group(o),Object.keys(n).forEach(i=>{this.dynamicObjControls[i]=(0,r.yE)(n[i],this.formObjFormGroup)}),this.filterValueUpdate()}filterValueUpdate(){this.backupFormValue=structuredClone(this.formObjFormGroup?.value),this.formValueExists=Object.values(this.backupFormValue).some(n=>!this.empty.includes(n))}regSubscribeEvents(){this.subscriptions.add(this.appSandbox.roleDelete$.subscribe(n=>{n&&1===n.status&&this.getRolelist()}))}updateQueryParam(){this.router.navigate([],{queryParams:this.getQueryParam(),queryParamsHandling:"merge"})}getQueryParam(){return{limit:this.limit,offset:this.offset,keyword:this.backupFormValue.search??""}}routeSubscribe(){let n={};this.subscriptions.add(this.route.queryParams.subscribe(o=>{n=o,this.limit=n.limit?Number(n.limit):this.limit,this.offset=n.offset?Number(n.offset):0,this.currentPage=n.offset&&n.limit?Math.floor(n.offset/n.limit)+1:1,this.formObjFormGroup.patchValue({search:n.keyword??""}),this.filterValueUpdate()})),this.getRolelist(),this.getRoleListCount(),this.appSandbox.roleUpdateLoaded$.subscribe(o=>{!0===o&&(this.getRolelist(),this.getRoleListCount())}),this.appSandbox.roleAddLoaded$.subscribe(o=>{!0===o&&(this.getRolelist(),this.getRoleListCount())})}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(g.Ix),t.rXU(g.nX),t.rXU(u.ze),t.rXU(f.k),t.rXU(P.H),t.rXU(s.Bq),t.rXU($.hE))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-settings-role-list"]],viewQuery:function(o,i){if(1&o&&(t.GBs(X,5),t.GBs(B,5)),2&o){let m;t.mGM(m=t.lsd())&&(i.myDropdown=m.first),t.mGM(m=t.lsd())&&(i.myInput=m.first)}},decls:39,vars:35,consts:[["itemTemplateRef",""],[1,"local-content"],[1,"set-lay-notes","flex"],[1,"flex","filter-row"],[1,"filter-lft"],[1,"filter-rht","flex"],["class","added-filter flex",4,"ngFor","ngForOf","ngForTrackBy"],[1,"filter-search"],[1,"",3,"keyup.enter"],[1,"input-group"],[1,"ig-row"],[3,"type","control","label","inputId","aliasName","placeholder"],[1,"button-reg","primary","btn-sm",3,"click","appHideIfUnauthorized"],[1,"flex","product-wrap","example-full-width"],[1,"product-table"],[1,"setup-right"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(58%, 18%)","position","absolute",3,"isShow"],[1,"table-responsive"],[3,"HeadArray","GridArray","customTemplate","buttonChangeEvent",4,"ngIf"],["class","nodata-found",4,"ngIf"],["class","pagination flex",4,"ngIf"],[1,"added-filter","flex"],["class","added-filter-col flex filter-detail",4,"ngIf"],[1,"added-filter-col","flex","filter-detail"],[3,"click"],["src","assets/img/close.svg","alt",""],[3,"buttonChangeEvent","HeadArray","GridArray","customTemplate"],[3,"badge"],[1,"nodata-found"],["src","assets/imgs/nodatafound.svg","alt",""],[1,"pagination","flex"],[3,"pageChange","type","currentPage","totalItems","pageSize"]],template:function(o,i){if(1&o){const m=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h4"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"div",3)(9,"div",4)(10,"h2"),t.EFF(11),t.nI1(12,"async"),t.k0s()(),t.j41(13,"div",5),t.DNE(14,K,2,1,"div",6),t.nI1(15,"keyvalue"),t.j41(16,"div",7)(17,"form",8),t.bIt("keyup.enter",function(){return t.eBV(m),t.Njj(i.applyFilter())}),t.j41(18,"div",9)(19,"div",10),t.nrm(20,"app-common-form",11),t.k0s()()()(),t.j41(21,"button",12),t.bIt("click",function(){return t.eBV(m),t.Njj(i.addNewRole("","add"))}),t.EFF(22),t.nI1(23,"translate"),t.k0s()()(),t.j41(24,"div",13)(25,"div",14)(26,"div",15)(27,"div",16),t.nrm(28,"app-global-loader",17),t.nI1(29,"async"),t.k0s(),t.j41(30,"div",18),t.DNE(31,W,2,7,"app-common-table",19),t.nI1(32,"async"),t.DNE(33,H,1,1,"ng-template",null,0,t.C5r)(35,Q,6,3,"div",20),t.nI1(36,"async"),t.DNE(37,J,3,8,"div",21),t.nI1(38,"async"),t.k0s()()()()()}if(2&o){let m,b;t.R7$(3),t.JRh(t.bMT(4,17,"Settings.nav.Note:")),t.R7$(3),t.SpI("",t.bMT(7,19,"Settings.paragraph.admincanaddvarioustaxes")," "),t.R7$(5),t.SpI(" Total Roles ( ",t.bMT(12,21,i.appSandbox.roleCount$)," )"),t.R7$(3),t.Y8G("ngForOf",t.bMT(15,23,i.backupFormValue))("ngForTrackBy",i.trackByIndex),t.R7$(6),t.Y8G("type",null==i.dynamicObjControls||null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.type)("control",null==i.dynamicObjControls||null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.control)("label",null==i.dynamicObjControls||null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.label)("inputId",null==i.dynamicObjControls||null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.inputId)("aliasName",null==i.dynamicObjControls||null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.aliasName)("placeholder",null==i.dynamicObjControls||null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.placeholder),t.R7$(),t.Y8G("appHideIfUnauthorized","create-role"),t.R7$(),t.SpI(" + ",t.bMT(23,25,"Settings.Role.AddNewRole")," "),t.R7$(6),t.Y8G("isShow",t.bMT(29,27,i.appSandbox.roleListLoading$)),t.R7$(3),t.Y8G("ngIf",(null==(m=t.bMT(32,29,i.appSandbox.getRolesList$))?null:m.length)>0),t.R7$(4),t.Y8G("ngIf",0===(null==(b=t.bMT(36,31,i.appSandbox.getRolesList$))?null:b.length)),t.R7$(2),t.Y8G("ngIf",t.bMT(38,33,i.appSandbox.roleCount$)>i.limit)}},dependencies:[e.Sq,e.bT,u.qT,u.cb,u.cV,N.$,L.H,A.q,U.V,c.V,V.C,e.Jj,e.lG,d.D9],styles:[".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.setting1-inner-header[_ngcontent-%COMP%]{margin-top:40px!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}"]})}}return a})();var k=l(79176);const q=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Z,canActivate:[k.q],data:{permission:"list-role"}},{path:"add",component:C,canActivate:[k.q],data:{permission:"create-role"}},{path:"edit/:id",component:C,canActivate:[k.q],data:{permission:"edit-role"}}];let tt=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[g.iI.forChild(q),g.iI]})}}return a})();var et=l(91785),nt=l(46584),ot=l(21626),it=l(31984);let st=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({providers:[P.H,f.k],imports:[e.MD,y.D,u.YN,u.X1,et.G,it.h,tt,R.Vm.forFeature([S.F]),d.h.forChild({loader:{provide:d.Wr,useFactory:nt.M,deps:[ot.Qq]}})]})}}return a})()},87277:(O,v,l)=>{l.d(v,{C:()=>R});var e=l(54438),y=l(60177),u=l(41780);let R=(()=>{class f{constructor(){this.badge={}}static{this.\u0275fac=function(g){return new(g||f)}}static{this.\u0275cmp=e.VBU({type:f,selectors:[["app-common-badge"]],inputs:{badge:"badge"},decls:3,vars:4,consts:[[1,"status-badge",3,"ngClass"]],template:function(g,_){1&g&&(e.j41(0,"span",0),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&g&&(e.Y8G("ngClass",null==_.badge?null:_.badge.class),e.R7$(),e.JRh(e.bMT(2,2,_.badge.text)))},dependencies:[y.YU,u.D9],changeDetection:0})}}return f})()},34501:(O,v,l)=>{l.d(v,{$:()=>_});var e=l(54438),y=l(60177),u=l(41780);const R=(r,t)=>({active:r,inactive:t});function f(r,t){if(1&r){const s=e.RV6();e.qex(0,3),e.j41(1,"button",10),e.bIt("click",function(){const d=e.eBV(s).$implicit,p=e.XpG(2);return e.Njj(p.goToPage(d))}),e.EFF(2),e.k0s(),e.bVm()}if(2&r){const s=t.$implicit,c=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.l_i(2,R,c.currentPage===s,c.currentPage!==s)),e.R7$(),e.SpI(" ",s," ")}}function P(r,t){if(1&r){const s=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(s);const d=e.XpG();return e.Njj(d.goToPreviousPage())}),e.nrm(2,"img",5),e.k0s(),e.DNE(3,f,3,5,"ng-container",6),e.j41(4,"button",4),e.bIt("click",function(){e.eBV(s);const d=e.XpG();return e.Njj(d.goToNextPage())}),e.nrm(5,"img",7),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"input",8),e.bIt("input",function(d){e.eBV(s);const p=e.XpG();return e.Njj(p.Gotogivenpage(d.target.value))}),e.k0s(),e.j41(10,"div",9),e.EFF(11),e.k0s()()}if(2&r){const s=e.XpG();e.R7$(),e.Y8G("disabled",1===s.currentPage),e.R7$(2),e.Y8G("ngForOf",s.pages),e.R7$(),e.Y8G("disabled",s.currentPage===s.totalPages),e.R7$(3),e.JRh(e.bMT(8,6,"marketplace.common.Page")),e.R7$(2),e.Y8G("value",s.currentPage),e.R7$(2),e.SpI("of ",s.totalPages,"")}}function S(r,t){if(1&r){const s=e.RV6();e.qex(0),e.j41(1,"button",12),e.bIt("click",function(){const d=e.eBV(s).$implicit,p=e.XpG(2);return e.Njj(p.goToPage(d))}),e.EFF(2),e.k0s(),e.bVm()}if(2&r){const s=t.$implicit,c=e.XpG(2);e.R7$(),e.Y8G("disabled",c.currentPage===s),e.R7$(),e.SpI(" ",s," ")}}function g(r,t){if(1&r&&(e.j41(0,"div"),e.DNE(1,S,3,2,"ng-container",11),e.k0s()),2&r){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.totalPageItems)}}let _=(()=>{class r{constructor(){this.type="default",this.pageChange=new e.bkB,this.pageSizeOptions=[5,10,25,50]}get totalPages(){return Math.ceil(this.totalItems/this.pageSize)}get totalPageItems(){const s=Math.ceil(this.totalItems/this.pageSize);return[...Array(s).keys()].map(c=>c+1)}get currentPageStart(){return(this.currentPage-1)*this.pageSize+1}get currentPageEnd(){const s=this.currentPage*this.pageSize;return s>this.totalItems?this.totalItems:s}get pages(){const s=this.totalPages,d=[];let C=Math.max(1,this.currentPage-Math.floor(2.5)),I=Math.min(s,C+5-1);I-C+1<5&&(C=Math.max(1,I-5+1));for(let j=C;j<=I;j++)d.push(j);return d}pageChanged(s){this.pageChange.emit({offset:(s.pageIndex+1-1)*this.pageSize,limit:this.pageSize})}goToPage(s){s!==this.currentPage&&this.pageChange.emit({offset:(s-1)*this.pageSize,limit:this.pageSize})}goToFirstPage(){1!==this.currentPage&&this.goToPage(1)}Gotogivenpage(s){!["null","",void 0,0,String(this.currentPage)].includes(s)&&this.totalPages>=s&&this.goToPage(s)}goToLastPage(){this.currentPage!==this.totalPages&&this.goToPage(this.totalPages)}goToPreviousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}goToNextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}onPageSizeChange(s){this.pageSize=s.target.value,this.pageChange.emit({offset:0,limit:this.pageSize})}static{this.\u0275fac=function(c){return new(c||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-reusable-pagination"]],inputs:{type:"type",currentPage:"currentPage",pageSize:"pageSize",totalItems:"totalItems"},outputs:{pageChange:"pageChange"},decls:3,vars:3,consts:[[1,"pagination","flex",3,"ngSwitch"],["class","page-count flex",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"page-count","flex"],[1,"icon-button",3,"click","disabled"],["src","assets/img/arrow-left.svg","alt",""],["class","page-count flex",4,"ngFor","ngForOf"],["src","assets/img/arrow-right.svg","alt",""],["readonly","true",3,"input","value"],[1,"page-info"],[3,"click","ngClass"],[4,"ngFor","ngForOf"],[1,"number-button",3,"click","disabled"]],template:function(c,d){1&c&&(e.j41(0,"div",0),e.DNE(1,P,12,8,"div",1)(2,g,2,1,"div",2),e.k0s()),2&c&&(e.Y8G("ngSwitch",d.type),e.R7$(),e.Y8G("ngSwitchCase","numbers"),e.R7$(),e.Y8G("ngSwitchCase","fullnumbers"))},dependencies:[y.YU,y.Sq,y.ux,y.e1,u.D9],styles:[".pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:16px;margin:0 5px}.page-size-selector[_ngcontent-%COMP%]{margin-left:10px}.number-button[_ngcontent-%COMP%]{padding:5px;border:1px solid grey;margin:2px}"]})}}return r})()},55735:(O,v,l)=>{l.d(v,{i:()=>_});var e=l(54438),y=l(37886),u=l(73857),R=l(52619),f=l(41780),P=l(60177);function S(r,t){if(1&r&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&r){const s=e.XpG();e.R7$(),e.SpI(" Cannot recover a deleted ",s.variantMessage,". Are you sure you want to proceed with deletion ?")}}function g(r,t){if(1&r&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const s=e.XpG();e.R7$(),e.Lme("",e.bMT(2,2,"common.Are you sure want to delete this")," ",s.deleteMessage,"?")}}let _=(()=>{class r{constructor(s,c,d,p){this.activeModal=s,this.sellerSandbox=c,this.productSandbox=d,this.translate=p}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key?(this.sellerSandbox.deleteSeller({vendorId:this.id}),this.sellerSandbox.deleteLoaded$.subscribe(s=>{!0===s&&this.activeModal.close("deleted")})):"product"===this.key?(this.productSandbox.doProductDelete({productId:this.id}),this.productSandbox.productDeleteLoaded$.subscribe(s=>{!0===s&&this.activeModal.close("deleted")})):this.activeModal.close("deleted"),this.deleteMessage=""}static{this.\u0275fac=function(c){return new(c||r)(e.rXU(y.Lw),e.rXU(u.f),e.rXU(R.F),e.rXU(f.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-delete-confirmation-dialog"]],inputs:{deleteMessage:"deleteMessage",variantMessage:"variantMessage"},decls:17,vars:11,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],[4,"ngIf"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(c,d){1&c&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return d.close()}),e.j41(2,"span",2),e.EFF(3,"\xd7"),e.k0s()(),e.j41(4,"h3"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,S,2,1,"p",3)(8,g,3,4,"p",3),e.nrm(9,"h4"),e.j41(10,"div",4)(11,"button",5),e.bIt("click",function(){return d.close()}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",6),e.bIt("click",function(){return d.deleteContent()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&c&&(e.R7$(5),e.JRh(e.bMT(6,5,"common.Delete Confirmation")),e.R7$(2),e.Y8G("ngIf",d.variantMessage),e.R7$(),e.Y8G("ngIf",!d.variantMessage),e.R7$(4),e.SpI("",e.bMT(13,7,"common.Cancel")," "),e.R7$(3),e.SpI("",e.bMT(16,9,"common.Delete")," "))},dependencies:[P.bT,f.D9],styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}"]})}}return r})()}}]);