"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[1539],{21539:(z,u,r)=>{r.r(u),r.d(u,{PersonalizeOrderModule:()=>H});var a=r(60177),i=r(89417),d=r(74054),f=r(41780),P=r(91785),h=r(40528),m=r(51188),t=r(54438),g=r(21858),l=r(1517);class I{constructor(p){this.invoicePrefix=p.invoicePrefix||"",this.orderStatus=p.orderStatus||0,this.settingId=p.settingId||0,this.siteUrl=p.siteUrl||0}}var C=r(34514),v=r(47255);const b=n=>n.personalizeOrder,R=((0,C.Mz)(b,v.FU),(0,C.Mz)(b,v.hI)),$=(0,C.Mz)(b,v.rY);var T=r(84745);let M=(()=>{class n{constructor(e){this.appState=e,this.getPersonalizeOrder$=this.appState.select(R),this.getSettingLoading$=this.appState.select($)}createPersonalizeOrder(e){this.appState.dispatch(new l.EX(new I(e)))}getPersonalizeOrder(){this.appState.dispatch(new l.Sb)}static{this.\u0275fac=function(s){return new(s||n)(t.KVO(T.il))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();var j=r(84361),D=r(345),S=r(72510),U=r(74937);const k=n=>({"is-invalid":n}),G=()=>["/settings"];function L(n,p){if(1&n&&(t.j41(0,"ng-option",21),t.EFF(1),t.k0s()),2&n){const e=p.$implicit;t.Y8G("value",e.orderStatusId),t.R7$(),t.JRh(e.name)}}const w=[{path:"",component:(()=>{class n{constructor(e,s,o,c,V){this.fb=e,this.orderStatusSandbox=s,this.sandbox=o,this.service=c,this.titleService=V,this.submitted=!1,this.subscriptions=[],this.keyword="",this.pageSize=5,this.statusList=[],this.titleService.setTitle("Settings | Personalize")}get f(){return this.perOrderForm.controls}ngOnInit(){this.initForm(),this.getPersonalizeOrder(),this.getOrderStatusList(this.offset,this.keyword)}initForm(){this.perOrderForm=this.fb.group({invoicePrefix:[null,[i.k0.required]],orderStatus:[null,[i.k0.required]]})}onSubmit(){if(this.submitted=!0,this.perOrderForm.invalid)return;const e={};e.orderStatus=this.perOrderForm.value.orderStatus,e.invoicePrefix=this.perOrderForm.value.invoicePrefix,e.settingId=this.settingsId,e.siteUrl=this.siteUrl,this.sandbox.createPersonalizeOrder(e)}getPersonalizeOrder(){this.sandbox.getPersonalizeOrder(),this.sandbox.getPersonalizeOrder$.subscribe(e=>{e&&(this.settingsId=e[0].settingsId,this.siteUrl=e[0].siteUrl)})}subscribe(){this.subscriptions.push(this.sandbox.getPersonalizeOrder$.subscribe(e=>{e&&e[0]&&(this.perOrderForm.controls.invoicePrefix.setValue(e[0].invoicePrefix),this.perOrderForm.controls.orderStatus.setValue(e[0].orderStatus))}))}getOrderStatusList(e=0,s){const o={status:1};o.keyword=this.keyword,this.service.getorderstatuslist(o).subscribe(c=>{c&&(this.statusList=c.data,this.subscribe())})}static{this.\u0275fac=function(s){return new(s||n)(t.rXU(i.ze),t.rXU(g.o),t.rXU(M),t.rXU(j.N),t.rXU(D.hE))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-settings-countries"]],decls:50,vars:39,consts:[[1,"local-content"],[1,"set-lay-notes","flex"],[1,"setup-wrapper","setup-personalize"],[1,"setup-container","flex"],[1,"setup-left"],[1,"sub-header"],[1,"text14"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(153%, 18%)","position","absolute",3,"isShow"],[1,"setup-right"],[1,"form-horizontal","m-t-20",2,"margin","0",3,"formGroup"],[1,"sup-rht-section"],[1,"suprs-form"],[1,"suprs-form-row","form-group","flex"],[1,"suprs-form-col"],["type","text","placeholder","Enter invoice prefix","formControlName","invoicePrefix",1,"form-control",3,"ngClass"],["formControlName","orderStatus",3,"placeholder","searchable","clearable"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","srbtn"],[1,"button-reg","btn-md","primary",3,"click"],[1,"button-reg","btn-md","tertiary",3,"routerLink"],[3,"value"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"h4"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"div",2)(9,"div",3)(10,"div",4)(11,"h3",5),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"p",6),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.j41(17,"div",7),t.nrm(18,"app-global-loader",8),t.nI1(19,"async"),t.k0s(),t.j41(20,"div",9)(21,"form",10)(22,"div",11)(23,"div",12)(24,"div",13)(25,"label"),t.EFF(26),t.nI1(27,"translate"),t.j41(28,"sup"),t.EFF(29,"*"),t.k0s()(),t.j41(30,"div",14),t.nrm(31,"input",15),t.k0s()()(),t.j41(32,"div",12)(33,"div",13)(34,"label"),t.EFF(35),t.nI1(36,"translate"),t.j41(37,"sup"),t.EFF(38,"*"),t.k0s()(),t.j41(39,"div",14)(40,"ng-select",16),t.nI1(41,"translate"),t.DNE(42,L,2,2,"ng-option",17),t.k0s()()()(),t.j41(43,"div",18)(44,"button",19),t.bIt("click",function(){return o.onSubmit()}),t.EFF(45),t.nI1(46,"translate"),t.k0s(),t.j41(47,"button",20),t.EFF(48),t.nI1(49,"translate"),t.k0s()()()()()()()()),2&s&&(t.R7$(3),t.JRh(t.bMT(4,16,"Settings.nav.Note:")),t.R7$(3),t.JRh(t.bMT(7,18,"Settings.paragraph.Admincanconfigurethenumberoforders")),t.R7$(6),t.JRh(t.bMT(13,20,"Settings.personalize.order.Order")),t.R7$(3),t.JRh(t.bMT(16,22,"Settings.paragraph.Commonprefixforalltheordernumbers")),t.R7$(3),t.Y8G("isShow",t.bMT(19,24,o.sandbox.getSettingLoading$)),t.R7$(3),t.Y8G("formGroup",o.perOrderForm),t.R7$(5),t.SpI("",t.bMT(27,26,"Settings.personalize.order.InvoicePrefix")," "),t.R7$(5),t.Y8G("ngClass",t.eq3(36,k,o.submitted&&o.f.invoicePrefix.errors)),t.R7$(4),t.SpI("",t.bMT(36,28,"Settings.personalize.order.OrderStatus")," "),t.R7$(5),t.FS9("placeholder",t.bMT(41,30,"Settings.personalize.order.ChooseOrderStatus")),t.Y8G("searchable",!1)("clearable",!1),t.R7$(2),t.Y8G("ngForOf",o.statusList),t.R7$(3),t.JRh(t.bMT(46,32,"Settings.Local.Save")),t.R7$(2),t.Y8G("routerLink",t.lJ4(38,G)),t.R7$(),t.JRh(t.bMT(49,34,"Settings.personalize.order.Cancel")))},dependencies:[a.YU,a.Sq,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,S.vr,S.xt,m.Wk,U.q,a.Jj,f.D9],styles:[".mat-radio-outer-circle[_ngcontent-%COMP%]{left:-3px!important;margin-top:-3px!important;width:19px!important}.settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}"]})}}return n})()}];let N=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[m.iI.forChild(w),m.iI]})}}return n})();var J=r(94194);let x=(()=>{class n extends J.j{constructor(){super(...arguments),this.url=this.getBaseUrl()}createOrder(e){return this.http.post(this.url+"/settings",e)}getOrder(){return this.http.get(this.url+"/settings?defaultWebsite=1")}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})()}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();var F=r(7673),y=r(96354),O=r(25558),E=r(99437);let Y=(()=>{class n{constructor(e,s){this.action$=e,this.service=s,this.doAddseo$=(0,d.EH)(()=>this.action$.pipe((0,d.gp)(l.Q3.DO_NEW_ORDER_SETTINGS),(0,y.T)(o=>o.payload),(0,O.n)(o=>this.service.createOrder(o).pipe((0,O.n)(c=>[new l.NJ(c)]),(0,E.W)(c=>(0,F.of)(new l.gf(c))))))),this.dogetseosetting$=(0,d.EH)(()=>this.action$.pipe((0,d.gp)(l.Q3.DO_ORDER_SETTINGS),(0,y.T)(o=>o.payload),(0,O.n)(()=>this.service.getOrder().pipe((0,O.n)(o=>[new l.nB(o)]),(0,E.W)(o=>(0,F.of)(new l.qj(o)))))))}static{this.\u0275fac=function(s){return new(s||n)(t.KVO(d.En),t.KVO(x))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();var B=r(31984);let H=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({providers:[M,x],imports:[a.MD,h.D,i.YN,i.X1,P.G,N,f.h.forChild(),B.h,d.Vm.forFeature([Y])]})}}return n})()},74937:(z,u,r)=>{r.d(u,{q:()=>P});var a=r(54438),i=r(25885),d=r(60177);function f(h,m){1&h&&(a.j41(0,"div",1)(1,"div",2),a.nrm(2,"img",3),a.k0s()())}let P=(()=>{class h{constructor(t){this.httpStatus=t,this.subscriptions=[],this.loader=!1,this.getHttpResponse()}ngOnInit(){}getHttpResponse(){this.subscriptions.push(this.httpStatus.getHttpStatus().subscribe(t=>{this.loader=t}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static{this.\u0275fac=function(g){return new(g||h)(a.rXU(i.R))}}static{this.\u0275cmp=a.VBU({type:h,selectors:[["app-global-loader"]],inputs:{isShow:"isShow"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],["width","80px","height","80px","src","./assets/loader/Spurt-commerce-Loader-2.1.gif"]],template:function(g,l){1&g&&a.DNE(0,f,3,0,"div",0),2&g&&a.Y8G("ngIf",l.isShow)},dependencies:[d.bT],styles:['#loader[_ngcontent-%COMP%]{height:175px;inset:0;margin:auto;position:absolute;width:175px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{height:100%;inset:0;margin:auto;position:absolute;width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:before{border-radius:100%;content:"";height:87.5px;left:0;position:absolute;right:0;top:0;transform:scale(0);width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1){transform:rotate(45deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1):before{animation:.8s linear .1s normal none infinite running _ngcontent-%COMP%_load;background:#00ff80 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2){transform:rotate(90deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2):before{animation:.8s linear .2s normal none infinite running _ngcontent-%COMP%_load;background:#00ffea none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3){transform:rotate(135deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3):before{animation:.8s linear .3s normal none infinite running _ngcontent-%COMP%_load;background:#0af none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4){transform:rotate(180deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4):before{animation:.8s linear .4s normal none infinite running _ngcontent-%COMP%_load;background:#0040ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5){transform:rotate(225deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5):before{animation:.8s linear .5s normal none infinite running _ngcontent-%COMP%_load;background:#2a00ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6){transform:rotate(270deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6):before{animation:.8s linear .6s normal none infinite running _ngcontent-%COMP%_load;background:#9500ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7){transform:rotate(315deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7):before{animation:.8s linear .7s normal none infinite running _ngcontent-%COMP%_load;background:#f0f none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8){transform:rotate(360deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8):before{animation:.8s linear .8s normal none infinite running _ngcontent-%COMP%_load;background:#ff0095 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-position:50% 50%;background-repeat:no-repeat;bottom:-40px;height:20px;left:0;position:absolute;right:0;width:180px}@keyframes _ngcontent-%COMP%_load{to{opacity:0;transform:scale(1)}}.spinner-message[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{text-align:center}']})}}return h})()}}]);